<!DOCTYPE html>
<html lang="es" dir="ltr" itemscope itemtype="http://schema.org/Article" data-r-output-format="html">
  
<!-- Mirrored from manuais.pages.iessanclemente.net/plantillas/dam/ad/03orm/jpa/14ejercicios/index.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 17 Sep 2025 20:45:36 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.140.2">
    <meta name="generator" content="Relearn 7.6.1+0b83617ee9da5253aafcf11807b256da7d88d709">
    <meta name="description" content="Ejercicios de apuntes Ejercicio 01.01. Creación de un proyecto con JPA Ejercicio 01.02. Creación de un archivo de configuración de persistencia Ejercicio 01.03. Creación de una entidad Ejercicio 01.04. Creación de una entidad Ejercicio 03.01. Creación de una aplicación de persistencia de una biblioteca 03.01. Solución Ejercicio 04.01. Descarga y creación de la base de datos de JokeAPI Enumeraciones Clases Ejercicio Ejercicio 05.01. Acceso combinado a la entidad Chiste. Ejercicio 05.02. CLOB y BLOB de una entidad Documento Ejercicio 05.03. Conversores personalizados y enumeraciones Ejercicio 05.04. Generación de ids con tabla Ejercicio 05.05. Generación de ids con una secuencia Ejercicio 05.06. Ampliación de la aplicación de persistencia de una biblioteca Ejercicio 06.01. Relación uno a uno bidireccional Equipo-Entrenador Ejercicio 06.02. Relación muchos a uno unidireccional Jugador-Equipo Ejercicio 06.03. Relación muchos a muchos unidireccional Jugador-Posición Ejercicio 06.04. Mapeo de una base de datos de juegos Ejercicio 06.05. Claves compartidas en relaciones uno a uno Ejercicio 07.01. Elementos embebidos. Ejercicio 07.02. Clave compuesta en una relación de muchos a muchos. Ejercicio 07.03. Entidades principales de base de datos de películas. Ejercicio 09.01. Ejecución de consultas JPA Películas Ejercicio 09.02. Creación de consultas JPA Películas Ejercicio 09.03. Consultas SQL a JPQL (películas) Ejercicio 11.01. Paginación de películas Ejercicio 12.01. Herencia Ejercicios de apuntes Ejercicio 01.01. Creación de un proyecto con JPA Para crear un proyecto con JPA y Hibernate, se puede utilizar el asistente de creación de proyectos de Eclipse o IntelliJ IDEA; sin embargo, con la versión Community de IntelliJ IDEA no se puede crear un proyecto con JPA a través del asistente. Crea un proyecto Java Maven y añade las dependencias de Hibernate y la API de Jakarta Persistence.">
    <meta name="author" content="IES Tubalcain">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="https://manuais.pages.iessanclemente.net/images/logo-ies.png">
    <meta name="twitter:title" content="Ejercicios de la unidad de JPA :: IES Tubalcain - Acceso a datos (2º DAM)">
    <meta name="twitter:description" content="Ejercicios de apuntes Ejercicio 01.01. Creación de un proyecto con JPA Ejercicio 01.02. Creación de un archivo de configuración de persistencia Ejercicio 01.03. Creación de una entidad Ejercicio 01.04. Creación de una entidad Ejercicio 03.01. Creación de una aplicación de persistencia de una biblioteca 03.01. Solución Ejercicio 04.01. Descarga y creación de la base de datos de JokeAPI Enumeraciones Clases Ejercicio Ejercicio 05.01. Acceso combinado a la entidad Chiste. Ejercicio 05.02. CLOB y BLOB de una entidad Documento Ejercicio 05.03. Conversores personalizados y enumeraciones Ejercicio 05.04. Generación de ids con tabla Ejercicio 05.05. Generación de ids con una secuencia Ejercicio 05.06. Ampliación de la aplicación de persistencia de una biblioteca Ejercicio 06.01. Relación uno a uno bidireccional Equipo-Entrenador Ejercicio 06.02. Relación muchos a uno unidireccional Jugador-Equipo Ejercicio 06.03. Relación muchos a muchos unidireccional Jugador-Posición Ejercicio 06.04. Mapeo de una base de datos de juegos Ejercicio 06.05. Claves compartidas en relaciones uno a uno Ejercicio 07.01. Elementos embebidos. Ejercicio 07.02. Clave compuesta en una relación de muchos a muchos. Ejercicio 07.03. Entidades principales de base de datos de películas. Ejercicio 09.01. Ejecución de consultas JPA Películas Ejercicio 09.02. Creación de consultas JPA Películas Ejercicio 09.03. Consultas SQL a JPQL (películas) Ejercicio 11.01. Paginación de películas Ejercicio 12.01. Herencia Ejercicios de apuntes Ejercicio 01.01. Creación de un proyecto con JPA Para crear un proyecto con JPA y Hibernate, se puede utilizar el asistente de creación de proyectos de Eclipse o IntelliJ IDEA; sin embargo, con la versión Community de IntelliJ IDEA no se puede crear un proyecto con JPA a través del asistente. Crea un proyecto Java Maven y añade las dependencias de Hibernate y la API de Jakarta Persistence.">
    <meta property="og:url" content="https://manuais.pages.iessanclemente.net/03orm/jpa/14ejercicios/index.html">
    <meta property="og:site_name" content="IES Tubalcain - Acceso a datos (2º DAM)">
    <meta property="og:title" content="Ejercicios de la unidad de JPA :: IES Tubalcain - Acceso a datos (2º DAM)">
    <meta property="og:description" content="Ejercicios de apuntes Ejercicio 01.01. Creación de un proyecto con JPA Ejercicio 01.02. Creación de un archivo de configuración de persistencia Ejercicio 01.03. Creación de una entidad Ejercicio 01.04. Creación de una entidad Ejercicio 03.01. Creación de una aplicación de persistencia de una biblioteca 03.01. Solución Ejercicio 04.01. Descarga y creación de la base de datos de JokeAPI Enumeraciones Clases Ejercicio Ejercicio 05.01. Acceso combinado a la entidad Chiste. Ejercicio 05.02. CLOB y BLOB de una entidad Documento Ejercicio 05.03. Conversores personalizados y enumeraciones Ejercicio 05.04. Generación de ids con tabla Ejercicio 05.05. Generación de ids con una secuencia Ejercicio 05.06. Ampliación de la aplicación de persistencia de una biblioteca Ejercicio 06.01. Relación uno a uno bidireccional Equipo-Entrenador Ejercicio 06.02. Relación muchos a uno unidireccional Jugador-Equipo Ejercicio 06.03. Relación muchos a muchos unidireccional Jugador-Posición Ejercicio 06.04. Mapeo de una base de datos de juegos Ejercicio 06.05. Claves compartidas en relaciones uno a uno Ejercicio 07.01. Elementos embebidos. Ejercicio 07.02. Clave compuesta en una relación de muchos a muchos. Ejercicio 07.03. Entidades principales de base de datos de películas. Ejercicio 09.01. Ejecución de consultas JPA Películas Ejercicio 09.02. Creación de consultas JPA Películas Ejercicio 09.03. Consultas SQL a JPQL (películas) Ejercicio 11.01. Paginación de películas Ejercicio 12.01. Herencia Ejercicios de apuntes Ejercicio 01.01. Creación de un proyecto con JPA Para crear un proyecto con JPA y Hibernate, se puede utilizar el asistente de creación de proyectos de Eclipse o IntelliJ IDEA; sin embargo, con la versión Community de IntelliJ IDEA no se puede crear un proyecto con JPA a través del asistente. Crea un proyecto Java Maven y añade las dependencias de Hibernate y la API de Jakarta Persistence.">
    <meta property="og:locale" content="es">
    <meta property="og:type" content="article">
    <meta property="article:section" content="UD 3. Object/Relational Mapping (ORM). JPA e Hibernate">
    <meta property="article:modified_time" content="2025-06-06T08:52:44+00:00">
    <meta property="og:image" content="https://manuais.pages.iessanclemente.net/images/logo-ies.png">
    <meta itemprop="name" content="Ejercicios de la unidad de JPA :: IES Tubalcain - Acceso a datos (2º DAM)">
    <meta itemprop="description" content="Ejercicios de apuntes Ejercicio 01.01. Creación de un proyecto con JPA Ejercicio 01.02. Creación de un archivo de configuración de persistencia Ejercicio 01.03. Creación de una entidad Ejercicio 01.04. Creación de una entidad Ejercicio 03.01. Creación de una aplicación de persistencia de una biblioteca 03.01. Solución Ejercicio 04.01. Descarga y creación de la base de datos de JokeAPI Enumeraciones Clases Ejercicio Ejercicio 05.01. Acceso combinado a la entidad Chiste. Ejercicio 05.02. CLOB y BLOB de una entidad Documento Ejercicio 05.03. Conversores personalizados y enumeraciones Ejercicio 05.04. Generación de ids con tabla Ejercicio 05.05. Generación de ids con una secuencia Ejercicio 05.06. Ampliación de la aplicación de persistencia de una biblioteca Ejercicio 06.01. Relación uno a uno bidireccional Equipo-Entrenador Ejercicio 06.02. Relación muchos a uno unidireccional Jugador-Equipo Ejercicio 06.03. Relación muchos a muchos unidireccional Jugador-Posición Ejercicio 06.04. Mapeo de una base de datos de juegos Ejercicio 06.05. Claves compartidas en relaciones uno a uno Ejercicio 07.01. Elementos embebidos. Ejercicio 07.02. Clave compuesta en una relación de muchos a muchos. Ejercicio 07.03. Entidades principales de base de datos de películas. Ejercicio 09.01. Ejecución de consultas JPA Películas Ejercicio 09.02. Creación de consultas JPA Películas Ejercicio 09.03. Consultas SQL a JPQL (películas) Ejercicio 11.01. Paginación de películas Ejercicio 12.01. Herencia Ejercicios de apuntes Ejercicio 01.01. Creación de un proyecto con JPA Para crear un proyecto con JPA y Hibernate, se puede utilizar el asistente de creación de proyectos de Eclipse o IntelliJ IDEA; sin embargo, con la versión Community de IntelliJ IDEA no se puede crear un proyecto con JPA a través del asistente. Crea un proyecto Java Maven y añade las dependencias de Hibernate y la API de Jakarta Persistence.">
    <meta itemprop="dateModified" content="2025-06-06T08:52:44+00:00">
    <meta itemprop="wordCount" content="12883">
    <meta itemprop="image" content="https://manuais.pages.iessanclemente.net/images/logo-ies.png">
    <title>Ejercicios de la unidad de JPA :: IES Tubalcain - Acceso a datos (2º DAM)</title>
    <link href="https://manuais.pages.iessanclemente.net/plantillas/dam/ad/03orm/jpa/14ejercicios/index.xml" rel="alternate" type="application/rss+xml" title="Ejercicios de la unidad de JPA :: IES Tubalcain - Acceso a datos (2º DAM)">
    <link href="https://manuais.pages.iessanclemente.net/plantillas/dam/ad/03orm/jpa/14ejercicios/index.print.html" rel="alternate" type="text/html" title="Ejercicios de la unidad de JPA :: IES Tubalcain - Acceso a datos (2º DAM)">
    <link href="../../../fonts/fontawesome/css/fontawesome-all.min3c2e.css?1749199978" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="../../../fonts/fontawesome/css/fontawesome-all.min3c2e.css?1749199978" rel="stylesheet"></noscript>
    <link href="../../../css/perfect-scrollbar/perfect-scrollbar.min3c2e.css?1749199978" rel="stylesheet">
    <link href="../../../css/theme.min3c2e.css?1749199978" rel="stylesheet">
    <link href="../../../css/format-html.min3c2e.css?1749199978" rel="stylesheet" id="R-format-style">
    <link href="../../../css/auto-complete/auto-complete.min3c2e.css?1749199978" rel="stylesheet">
    <script src="../../../js/auto-complete/auto-complete.min3c2e.js?1749199978" defer></script>
    <script src="../../../js/lunr/lunr.min3c2e.js?1749199978" defer></script>
    <script src="../../../js/lunr/lunr.stemmer.support.min3c2e.js?1749199978" defer></script>
    <script src="../../../js/lunr/lunr.multi.min3c2e.js?1749199978" defer></script>
    <script src="../../../js/lunr/lunr.es.min3c2e.js?1749199978" defer></script>
    <script src="../../../js/search.min3c2e.js?1749199978" defer></script>
    <script>
      window.relearn = window.relearn || {};
      // configuration
      window.relearn.min = `.min`;
      window.relearn.path='#\/03orm\/jpa\/14ejercicios\/index.html';
      window.relearn.relBasePath='..\/..\/..';
      window.relearn.relBaseUri='..\/..\/..';
      window.relearn.absBaseUri='';
      window.relearn.contentLangs=['es'];
      window.relearn.index_js_url="../../../searchindex.es3c2e.js?1749199978";
      window.relearn.disableAnchorCopy=false;
      window.relearn.disableAnchorScrolling=false;
      window.relearn.disableInlineCopyToClipboard=false;
      window.relearn.enableBlockCodeWrap=true;
      // legal
      window.relearn.getItem = (s,n) => {return s.getItem(n)};
      window.relearn.setItem = (s,n,v) => {return s.setItem(n,v)};
      window.relearn.removeItem = (s,n) => {return s.removeItem(n)};
      // variant stuff
      window.relearn.themevariants = [ 'blue', 'relearn-light', 'relearn-dark', 'learn', 'neon', 'green', 'red' ];
      window.relearn.customvariantname = "my-custom-variant";
      window.relearn.changeVariant = function(variant) {
        var oldVariant = document.documentElement.dataset.rThemeVariant;
        window.relearn.setItem(window.localStorage, window.relearn.absBaseUri + "/variant", variant);
        document.documentElement.dataset.rThemeVariant = variant;
        if (oldVariant != variant) {
          document.dispatchEvent( new CustomEvent('themeVariantLoaded', { detail: { variant, oldVariant } }) );
          window.relearn.markVariant();
        }
      }
      window.relearn.markVariant = function() {
        var variant = window.relearn.getItem(window.localStorage, window.relearn.absBaseUri + "/variant");
        document.querySelectorAll(".R-variantswitcher select").forEach((select) => {select.value = variant;});
      }
      window.relearn.initVariant = function() {
        var variant = window.relearn.getItem(window.localStorage, window.relearn.absBaseUri + "/variant") ?? "";
        if( variant == window.relearn.customvariantname ){
        }else if( !variant || !window.relearn.themevariants.includes(variant) ){
          variant = window.relearn.themevariants[0];
          window.relearn.setItem(window.localStorage, window.relearn.absBaseUri + "/variant", variant);
        }
        document.documentElement.dataset.rThemeVariant = variant;
      }
      window.relearn.initVariant();
      window.relearn.markVariant();
      // translations
      window.T_Copy_to_clipboard = `Copiar en el portapapeles`;
      window.T_Copied_to_clipboard = `¡Copiado al portapapeles!`;
      window.T_Copy_link_to_clipboard = `Copiar enlace al portapapeles`;
      window.T_Link_copied_to_clipboard = `¡Enlace copiado al portapapeles!`;
      window.T_Reset_view = `Restablecer vista`;
      window.T_View_reset = `¡Ver reajuste!`;
      window.T_No_results_found = `No se han encontrado resultados para "{0}"`;
      window.T_N_results_found = `{1} resultados encontrados para "{0}"`;
    </script><style>
    :root {
    --MENU-WIDTH-S: 14.375rem;
    --MENU-WIDTH-M: 14.375rem;
    --MENU-WIDTH-L: 18.75rem;
}

@media screen and (max-width: 70.5rem) {
    #R-sidebar {
        min-width: var(--INTERNAL-MENU-WIDTH-S);
        max-width: var(--INTERNAL-MENU-WIDTH-S);
        width: var(--INTERNAL-MENU-WIDTH-S);
    }
    #R-body {
        margin-inline-start: var(--INTERNAL-MENU-WIDTH-S);
        min-width: calc( 100% - var(--INTERNAL-MENU-WIDTH-S) );
        max-width: calc( 100% - var(--INTERNAL-MENU-WIDTH-S) );
        width: calc( 100% - var(--INTERNAL-MENU-WIDTH-S) );
    }
}
@media screen and (max-width: 70.5rem) {
     

    .mobile-support #R-sidebar {
        inset-inline-start: calc( -1 * var(--INTERNAL-MENU-WIDTH-S) );
        min-width: var(--INTERNAL-MENU-WIDTH-S);
        max-width: var(--INTERNAL-MENU-WIDTH-S);
        width: var(--INTERNAL-MENU-WIDTH-S);
    }
    .mobile-support #navshow{
        display: inline;
    }
    .mobile-support #R-body {
        min-width: 100%;
        max-width: 100%;
        width: 100%;
    }
    .mobile-support #R-body {
        margin-inline-start: 0;
    }
    .mobile-support.sidebar-flyout {
        overflow: hidden;
    }
    .mobile-support.sidebar-flyout #R-sidebar {
        inset-inline-start: 0;
        z-index: 90;
    }
    .mobile-support.sidebar-flyout #R-body {
        margin-inline-start: var(--INTERNAL-MENU-WIDTH-S);
        overflow: hidden;
    }
    .mobile-support.sidebar-flyout #R-body-overlay{
        background-color: rgba( 134, 134, 134, .5 );
        bottom: 0;
        cursor: pointer;
        height: 100vh;
        left: 0;
        position: absolute;
        right: 0;
        top: 0;
        z-index: 190;
    }
}

</style>


  </head>
  <body class="mobile-support html" data-url="../../../03orm/jpa/14ejercicios/index.html">
    <div id="R-body" class="default-animation">
      <div id="R-body-overlay"></div>
      <nav id="R-topbar">
        <div class="topbar-wrapper">
          <div class="topbar-sidebar-divider"></div>
          <div class="topbar-area topbar-area-start" data-area="start">
            <div class="topbar-button topbar-button-sidebar" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="hide"><button class="topbar-control" onclick="toggleNav()" type="button" title="Menú (CTRL&#43;ALT&#43;n)"><i class="fa-fw fas fa-bars"></i></button>
            </div>

            <div class="topbar-button topbar-button-toc" data-content-empty="hide" data-width-s="show" data-width-m="show" data-width-l="show"><button class="topbar-control" onclick="toggleTopbarFlyout(this)" type="button" title="Tabla de contenido (CTRL&#43;ALT&#43;t)"><i class="fa-fw fas fa-list-alt"></i></button>
              <div class="topbar-content">
                <div class="topbar-content-wrapper">
<nav class="TableOfContents">
  <ul>
    <li><a href="#ejercicios-de-apuntes">Ejercicios de apuntes</a>
      <ul>
        <li><a href="#ejercicio-0101-creación-de-un-proyecto-con-jpa">Ejercicio 01.01. Creación de un proyecto con JPA</a></li>
        <li><a href="#ejercicio-0102-creación-de-un-archivo-de-configuración-de-persistencia">Ejercicio 01.02. Creación de un archivo de configuración de persistencia</a></li>
        <li><a href="#ejercicio-0103-creación-de-una-entidad">Ejercicio 01.03. Creación de una entidad</a></li>
        <li><a href="#ejercicio-0104-creación-de-una-entidad">Ejercicio 01.04. Creación de una entidad</a></li>
        <li><a href="#ejercicio-0301-creación-de-una-aplicación-de-persistencia-de-una-biblioteca">Ejercicio 03.01. Creación de una aplicación de persistencia de una biblioteca</a></li>
        <li><a href="#ejercicio-0401-descarga-y-creación-de-la-base-de-datos-de-jokeapi">Ejercicio 04.01. Descarga y creación de la base de datos de JokeAPI</a></li>
        <li><a href="#ejercicio-0501-acceso-combinado-a-la-entidad-chiste">Ejercicio 05.01. Acceso combinado a la entidad Chiste.</a></li>
        <li><a href="#ejercicio-0502-clob-y-blob-de-una-entidad-documento">Ejercicio 05.02. CLOB y BLOB de una entidad Documento</a></li>
        <li><a href="#ejercicio-0503-conversores-personalizados-y-enumeraciones">Ejercicio 05.03. Conversores personalizados y enumeraciones</a></li>
        <li><a href="#ejercicio-0504-generación-de-ids-con-tabla">Ejercicio 05.04. Generación de ids con tabla</a></li>
        <li><a href="#ejercicio-0505-generación-de-ids-con-una-secuencia">Ejercicio 05.05. Generación de ids con una secuencia</a></li>
        <li><a href="#ejercicio-0506-ampliación-de-la-aplicación-de-persistencia-de-una-biblioteca">Ejercicio 05.06. Ampliación de la aplicación de persistencia de una biblioteca</a></li>
        <li><a href="#ejercicio-0601-relación-uno-a-uno-bidireccional-equipo-entrenador">Ejercicio 06.01. Relación uno a uno bidireccional Equipo-Entrenador</a></li>
        <li><a href="#ejercicio-0602-relación-muchos-a-uno-unidireccional-jugador-equipo">Ejercicio 06.02. Relación muchos a uno unidireccional Jugador-Equipo</a></li>
        <li><a href="#ejercicio-0603-relación-muchos-a-muchos-unidireccional-jugador-posición">Ejercicio 06.03. Relación muchos a muchos unidireccional Jugador-Posición</a></li>
        <li><a href="#ejercicio-0604-mapeo-de-una-base-de-datos-de-juegos">Ejercicio 06.04. Mapeo de una base de datos de juegos</a></li>
        <li><a href="#ejercicio-0605-claves-compartidas-en-relaciones-uno-a-uno">Ejercicio 06.05. Claves compartidas en relaciones uno a uno</a></li>
        <li><a href="#ejercicio-0701-elementos-embebidos">Ejercicio 07.01. Elementos embebidos.</a></li>
        <li><a href="#ejercicio-0702-clave-compuesta-en-una-relación-de-muchos-a-muchos">Ejercicio 07.02. Clave compuesta en una relación de muchos a muchos.</a></li>
        <li><a href="#ejercicio-0703-entidades-principales-de-base-de-datos-de-películas">Ejercicio 07.03. Entidades principales de base de datos de películas.</a></li>
        <li><a href="#ejercicio-0901-ejecución-de-consultas-jpa-películas">Ejercicio 09.01. Ejecución de consultas JPA Películas</a></li>
        <li><a href="#ejercicio-0902-creación-de-consultas-jpa-películas">Ejercicio 09.02. Creación de consultas JPA Películas</a></li>
        <li><a href="#ejercicio-0903-consultas-sql-a-jpql-películas">Ejercicio 09.03. Consultas SQL a JPQL (películas)</a></li>
        <li><a href="#ejercicio-1101-paginación-de-películas">Ejercicio 11.01. Paginación de películas</a></li>
        <li><a href="#ejercicio-1201-herencia">Ejercicio 12.01. Herencia</a></li>
      </ul>
    </li>
  </ul>
</nav>
                </div>
              </div>
            </div>
          </div>
          <ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype="http://schema.org/BreadcrumbList">
            <li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><a itemprop="item" href="../../../index.html"><span itemprop="name">Acceso a datos</span></a><meta itemprop="position" content="1">&nbsp;>&nbsp;</li>
            <li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><a itemprop="item" href="../../index.html"><span itemprop="name">UD 3. Object/Relational Mapping (ORM). JPA e Hibernate</span></a><meta itemprop="position" content="2">&nbsp;>&nbsp;</li>
            <li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><a itemprop="item" href="../index.html"><span itemprop="name">03.01. Jakarta Persistence (JPA).</span></a><meta itemprop="position" content="3">&nbsp;>&nbsp;</li>
            <li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><span itemprop="name">Ejercicios de la unidad de JPA</span><meta itemprop="position" content="4"></li>
          </ol>
          <div class="topbar-area topbar-area-end" data-area="end">
            <div class="topbar-button topbar-button-print" data-content-empty="disable" data-width-s="area-more" data-width-m="show" data-width-l="show"><a class="topbar-control" href="https://manuais.pages.iessanclemente.net/plantillas/dam/ad/03orm/jpa/14ejercicios/index.print.html" title="Imprimir todo el capítulo (CTRL+ALT+p)"><i class="fa-fw fas fa-print"></i></a>
            </div>
            <div class="topbar-button topbar-button-prev" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="../12herencia/index.html" title="12. Herencia. (🡐)"><i class="fa-fw fas fa-chevron-left"></i></a>
            </div>
            <div class="topbar-button topbar-button-next" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="../15boletines/index.html" title="Ejercicios de refuerzo. (🡒)"><i class="fa-fw fas fa-chevron-right"></i></a>
            </div>
            <div class="topbar-button topbar-button-more" data-content-empty="hide" data-width-s="show" data-width-m="show" data-width-l="show"><button class="topbar-control" onclick="toggleTopbarFlyout(this)" type="button" title="Más"><i class="fa-fw fas fa-ellipsis-v"></i></button>
              <div class="topbar-content">
                <div class="topbar-content-wrapper">
                  <div class="topbar-area topbar-area-more" data-area="more">
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </nav>
      <div id="R-main-overlay"></div>
      <main id="R-body-inner" class="highlightable 03orm" tabindex="-1">
        <div class="flex-block-wrapper">
<article class="default">
  <header class="headline">
  </header>

<h1 id="ejercicios-de-la-unidad-de-jpa">Ejercicios de la unidad de JPA</h1>

<!-- TOC -->
<ul>
<li><a href="index.html#ejercicios-de-apuntes">Ejercicios de apuntes</a>
<ul>
<li><a href="index.html#ejercicio-0101-creación-de-un-proyecto-con-jpa">Ejercicio 01.01. Creación de un proyecto con JPA</a></li>
<li><a href="index.html#ejercicio-0102-creación-de-un-archivo-de-configuración-de-persistencia">Ejercicio 01.02. Creación de un archivo de configuración de persistencia</a></li>
<li><a href="index.html#ejercicio-0103-creación-de-una-entidad">Ejercicio 01.03. Creación de una entidad</a></li>
<li><a href="index.html#ejercicio-0104-creación-de-una-entidad">Ejercicio 01.04. Creación de una entidad</a></li>
<li><a href="index.html#ejercicio-0301-creación-de-una-aplicación-de-persistencia-de-una-biblioteca">Ejercicio 03.01. Creación de una aplicación de persistencia de una biblioteca</a>
<ul>
<li><a href="index.html#0301-solución">03.01. Solución</a></li>
</ul>
</li>
<li><a href="index.html#ejercicio-0401-descarga-y-creación-de-la-base-de-datos-de-jokeapi">Ejercicio 04.01. Descarga y creación de la base de datos de JokeAPI</a>
<ul>
<li><a href="index.html#enumeraciones">Enumeraciones</a></li>
<li><a href="index.html#clases">Clases</a></li>
<li><a href="index.html#ejercicio">Ejercicio</a></li>
</ul>
</li>
<li><a href="index.html#ejercicio-0501-acceso-combinado-a-la-entidad-chiste">Ejercicio 05.01. Acceso combinado a la entidad Chiste.</a></li>
<li><a href="index.html#ejercicio-0502-clob-y-blob-de-una-entidad-documento">Ejercicio 05.02. CLOB y BLOB de una entidad Documento</a></li>
<li><a href="index.html#ejercicio-0503-conversores-personalizados-y-enumeraciones">Ejercicio 05.03. Conversores personalizados y enumeraciones</a></li>
<li><a href="index.html#ejercicio-0504-generación-de-ids-con-tabla">Ejercicio 05.04. Generación de ids con tabla</a></li>
<li><a href="index.html#ejercicio-0505-generación-de-ids-con-una-secuencia">Ejercicio 05.05. Generación de ids con una secuencia</a></li>
<li><a href="index.html#ejercicio-0506-ampliación-de-la-aplicación-de-persistencia-de-una-biblioteca">Ejercicio 05.06. Ampliación de la aplicación de persistencia de una biblioteca</a></li>
<li><a href="index.html#ejercicio-0601-relación-uno-a-uno-bidireccional-equipo-entrenador">Ejercicio 06.01. Relación uno a uno bidireccional Equipo-Entrenador</a></li>
<li><a href="index.html#ejercicio-0602-relación-muchos-a-uno-unidireccional-jugador-equipo">Ejercicio 06.02. Relación muchos a uno unidireccional Jugador-Equipo</a></li>
<li><a href="index.html#ejercicio-0603-relación-muchos-a-muchos-unidireccional-jugador-posición">Ejercicio 06.03. Relación muchos a muchos unidireccional Jugador-Posición</a></li>
<li><a href="index.html#ejercicio-0604-mapeo-de-una-base-de-datos-de-juegos">Ejercicio 06.04. Mapeo de una base de datos de juegos</a></li>
<li><a href="index.html#ejercicio-0605-claves-compartidas-en-relaciones-uno-a-uno">Ejercicio 06.05. Claves compartidas en relaciones uno a uno</a></li>
<li><a href="index.html#ejercicio-0701-elementos-embebidos">Ejercicio 07.01. Elementos embebidos.</a></li>
<li><a href="index.html#ejercicio-0702-clave-compuesta-en-una-relación-de-muchos-a-muchos">Ejercicio 07.02. Clave compuesta en una relación de muchos a muchos.</a></li>
<li><a href="index.html#ejercicio-0703-entidades-principales-de-base-de-datos-de-películas">Ejercicio 07.03. Entidades principales de base de datos de películas.</a></li>
<li><a href="index.html#ejercicio-0901-ejecución-de-consultas-jpa-películas">Ejercicio 09.01. Ejecución de consultas JPA Películas</a></li>
<li><a href="index.html#ejercicio-0902-creación-de-consultas-jpa-películas">Ejercicio 09.02. Creación de consultas JPA Películas</a></li>
<li><a href="index.html#ejercicio-0903-consultas-sql-a-jpql-películas">Ejercicio 09.03. Consultas SQL a JPQL (películas)</a></li>
<li><a href="index.html#ejercicio-1101-paginación-de-películas">Ejercicio 11.01. Paginación de películas</a></li>
<li><a href="index.html#ejercicio-1201-herencia">Ejercicio 12.01. Herencia</a></li>
</ul>
</li>
</ul>
<!-- TOC -->
<h2 id="ejercicios-de-apuntes">Ejercicios de apuntes</h2>
<h3 id="ejercicio-0101-creación-de-un-proyecto-con-jpa">Ejercicio 01.01. Creación de un proyecto con JPA</h3>
<p>Para crear un proyecto con JPA y Hibernate, se puede utilizar el asistente de creación de proyectos de Eclipse o IntelliJ IDEA; sin embargo, con la versión Community de IntelliJ IDEA no se puede crear un proyecto con JPA a través del asistente.
<strong>Crea un proyecto Java Maven y añade las dependencias de Hibernate y la API de Jakarta Persistence</strong>.</p>
<h3 id="ejercicio-0102-creación-de-un-archivo-de-configuración-de-persistencia">Ejercicio 01.02. Creación de un archivo de configuración de persistencia</h3>
<p>Crea un directorio <code>META-INF</code> en el directorio <code>src/main/resources</code> y añade un archivo <code>persistence.xml</code> con la configuración de la unidad de persistencia con el nombre <code>com.sanclemente.ad.jpa.exemplo</code>.</p>
<p>El fichero de configuración <code>persistence.xml</code> <strong>debe apuntar a una base de datos H2 en memoria</strong>. Además, debes añadir los Drivers de H2 para que la aplicación pueda conectarse a la base de datos:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#75715e">&lt;!-- https://mvnrepository.com/artifact/com.h2database/h2 --&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;groupId&gt;</span>com.h2database<span style="color:#f92672">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;artifactId&gt;</span>h2<span style="color:#f92672">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;version&gt;</span>2.3.232<span style="color:#f92672">&lt;/version&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/dependency&gt;</span></span></span></code></pre></div>
<p>Ten en cuenta que precisas crear la base de datos en memoria H2 y añadir las tablas necesarias, por lo que el parámetro <code>jakarta.persistence.schema-generation.database.action</code> debe ser &ldquo;create&rdquo;.</p>
<h3 id="ejercicio-0103-creación-de-una-entidad">Ejercicio 01.03. Creación de una entidad</h3>
<p>Crea una entidad Estudiante con <code>idEstudiante</code> (<code>Long</code>), <code>nombre</code>, <code>apellidos</code>, <code>fechaDeNacimiento</code> y <code>dirección</code>. Añade los atributos necesarios y las anotaciones para que sea una entidad. La clave primaria <strong>será <code>idEstudiante</code> de tipo autoincremental</strong>.</p>
<h3 id="ejercicio-0104-creación-de-una-entidad">Ejercicio 01.04. Creación de una entidad</h3>
<p>Crea una clase AppEstudiante que se conecte a la base de datos y añada un estudiante a la tabla de la base de datos.</p>
<p>Aunque lo veremos más adelante, lo que precisamos es crear un gestor de entidades e invocar al método <code>persist</code> para añadir un estudiante a la base de datos:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">AppEstudiante</span> {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span>(String<span style="color:#f92672">[]</span> args) {
</span></span><span style="display:flex;"><span>        EntityManagerFactory emf <span style="color:#f92672">=</span> Persistence.<span style="color:#a6e22e">createEntityManagerFactory</span>(<span style="color:#e6db74">&#34;com.sanclemente.ad.jpa.exemplo&#34;</span>);
</span></span><span style="display:flex;"><span>        EntityManager em <span style="color:#f92672">=</span> emf.<span style="color:#a6e22e">createEntityManager</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        Estudiante estudiante <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Estudiante(<span style="color:#e6db74">&#34;Juan&#34;</span>, <span style="color:#e6db74">&#34;Pérez&#34;</span>, LocalDate.<span style="color:#a6e22e">of</span>(2000, 1, 1), <span style="color:#e6db74">&#34;Calle Mayor, 1&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        em.<span style="color:#a6e22e">getTransaction</span>().<span style="color:#a6e22e">begin</span>();
</span></span><span style="display:flex;"><span>        em.<span style="color:#a6e22e">persist</span>(estudiante);
</span></span><span style="display:flex;"><span>        em.<span style="color:#a6e22e">getTransaction</span>().<span style="color:#a6e22e">commit</span>();
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// IMprime el estudiante para ver si se ha añadido correctamente y tiene un id</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        em.<span style="color:#a6e22e">close</span>();
</span></span><span style="display:flex;"><span>        emf.<span style="color:#a6e22e">close</span>();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<p>Para recuperarlo precisamos invocar al método <code>find</code> del gestor de entidades:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>Estudiante estudiante <span style="color:#f92672">=</span> em.<span style="color:#a6e22e">find</span>(Estudiante.<span style="color:#a6e22e">class</span>, 1L); <span style="color:#f92672">//</span> Recupera el estudiante con id 1</span></span></code></pre></div>
<hr>
<h3 id="ejercicio-0301-creación-de-una-aplicación-de-persistencia-de-una-biblioteca">Ejercicio 03.01. Creación de una aplicación de persistencia de una biblioteca</h3>
<p>Queremos desarrollar una <strong>aplicación para una biblioteca</strong> y necesitamos interactuar con una base de datos que contiene información sobre los libros que tenemos en nuestra colección.</p>
<p>Para ello, vamos a crear una clase <code>Book</code> que <strong>represente la entidad libro</strong>, la clase <code>Contido</code> y otra clase <code>BookDAO</code> que nos permita realizar <strong>operaciones básicas CRUD (Create, Read, Update y Delete) sobre la tabla <code>Book</code> en la base de datos</strong>.</p>
<p>Además, precisamos <strong>una clase <code>BibliotecaJpaManager</code></strong> para la gestión y obtención de los objetos de tipo <code>EntityManagerFactory</code> de una manera eficiente. Emplearemos el <strong>patrón Singleton para el gestor <code>BibliotecaJpaManager</code>, que tenga un único objeto de tipo <code>EntityManagerFactory</code></strong> y que nos permita obtener un objeto de tipo <code>EntityManager</code> para realizar las operaciones sobre la base de datos (<strong>queremos que el <mark>objeto de tipo <code>EntityManagerFactory</code> sea único para cada unidad de persistencia</mark></strong>, para cada unidad de persistencia, no así el EntityManager, que podrá hacer varios para cada unidad de persistencia).</p>
<p>A) <strong>BASE DE DATOS</strong> (es la misma base de datos que hemos empleado en la unidad de bases de datos con JDBC):</p>
<p>Está formada por una <strong>tabla <code>Book</code> y una tabla <code>Contido</code></strong>. La tabla <code>Book</code> tiene una estructura SIMILAR a la siguiente:</p>
<table>
  <thead>
      <tr>
          <th>Columna</th>
          <th>Tipo de dato</th>
          <th>Descripción</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>idBook</td>
          <td>int</td>
          <td>Identificador único del ejemplar del libro</td>
      </tr>
      <tr>
          <td>isbn</td>
          <td>varchar(13)</td>
          <td>Identificador del libro</td>
      </tr>
      <tr>
          <td>titulo</td>
          <td>varchar(100)</td>
          <td>Título del libro</td>
      </tr>
      <tr>
          <td>autor</td>
          <td>varchar(100)</td>
          <td>Autor del libro</td>
      </tr>
      <tr>
          <td>anho</td>
          <td>int</td>
          <td>Año de publicación del libro</td>
      </tr>
      <tr>
          <td>disponible</td>
          <td>boolean</td>
          <td>Indica si el libro está disponible</td>
      </tr>
      <tr>
          <td>portada</td>
          <td>Blob</td>
          <td>Portada del libro en formato binario</td>
      </tr>
      <tr>
          <td>dataPublicacion</td>
          <td>Date</td>
          <td>Fecha de publicación del libro</td>
      </tr>
  </tbody>
</table>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#75715e">-- PUBLIC.Book definition
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">-- Drop table
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">-- DROP TABLE PUBLIC.Book;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">CREATE</span> <span style="color:#66d9ef">TABLE</span> <span style="color:#66d9ef">PUBLIC</span>.Book (
</span></span><span style="display:flex;"><span>	idBook INTEGER <span style="color:#66d9ef">NOT</span> <span style="color:#66d9ef">NULL</span> AUTO_INCREMENT,
</span></span><span style="display:flex;"><span>	isbn CHARACTER VARYING(<span style="color:#ae81ff">13</span>) <span style="color:#66d9ef">NOT</span> <span style="color:#66d9ef">NULL</span>,
</span></span><span style="display:flex;"><span>	titulo CHARACTER VARYING(<span style="color:#ae81ff">255</span>) <span style="color:#66d9ef">NOT</span> <span style="color:#66d9ef">NULL</span>,
</span></span><span style="display:flex;"><span>	autor CHARACTER VARYING(<span style="color:#ae81ff">255</span>),
</span></span><span style="display:flex;"><span>	anho INTEGER,
</span></span><span style="display:flex;"><span>	disponible BOOLEAN <span style="color:#66d9ef">DEFAULT</span> <span style="color:#66d9ef">TRUE</span>,
</span></span><span style="display:flex;"><span>	portada BINARY <span style="color:#66d9ef">LARGE</span> <span style="color:#66d9ef">OBJECT</span>,
</span></span><span style="display:flex;"><span>	dataPublicacion DATE,
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">CONSTRAINT</span> BOOK_PK <span style="color:#66d9ef">PRIMARY</span> <span style="color:#66d9ef">KEY</span> (idBook)
</span></span><span style="display:flex;"><span>);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">CREATE</span> <span style="color:#66d9ef">UNIQUE</span> <span style="color:#66d9ef">INDEX</span> IdBookPK <span style="color:#66d9ef">ON</span> <span style="color:#66d9ef">PUBLIC</span>.Book (idBook);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">CREATE</span> <span style="color:#66d9ef">INDEX</span> IdxBookISBN <span style="color:#66d9ef">ON</span> <span style="color:#66d9ef">PUBLIC</span>.Book (isbn);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">CREATE</span> <span style="color:#66d9ef">INDEX</span> IdxBookTitle <span style="color:#66d9ef">ON</span> <span style="color:#66d9ef">PUBLIC</span>.Book (titulo);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">CREATE</span> <span style="color:#66d9ef">UNIQUE</span> <span style="color:#66d9ef">INDEX</span> PRIMARY_KEY_93 <span style="color:#66d9ef">ON</span> <span style="color:#66d9ef">PUBLIC</span>.Book (idBook);</span></span></code></pre></div>
<p>La tabla <code>Contido</code> tiene una estructura SIMILAR a la siguiente:</p>
<table>
  <thead>
      <tr>
          <th>Columna</th>
          <th>Tipo de dato</th>
          <th>Descripción</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>idContido</td>
          <td>int</td>
          <td>Identificador único del contenido del libro</td>
      </tr>
      <tr>
          <td>idBook</td>
          <td>int</td>
          <td>Identificador del libro</td>
      </tr>
      <tr>
          <td>contido</td>
          <td>Blob</td>
          <td>Contenido del libro en formato binario</td>
      </tr>
  </tbody>
</table>
<p>*<em><code>idBook</code> es una clave foránea</em>+ que referencia a la tabla <code>Book</code>.</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#75715e">-- PUBLIC.Contido definition
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">-- Drop table
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">-- DROP TABLE PUBLIC.Contido;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">CREATE</span> <span style="color:#66d9ef">TABLE</span> <span style="color:#66d9ef">PUBLIC</span>.Contido (
</span></span><span style="display:flex;"><span>	idContido INTEGER <span style="color:#66d9ef">NOT</span> <span style="color:#66d9ef">NULL</span> AUTO_INCREMENT,
</span></span><span style="display:flex;"><span>	idBook INTEGER <span style="color:#66d9ef">NOT</span> <span style="color:#66d9ef">NULL</span>,
</span></span><span style="display:flex;"><span>	contido CHARACTER <span style="color:#66d9ef">LARGE</span> <span style="color:#66d9ef">OBJECT</span>,
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">CONSTRAINT</span> Contido_PK <span style="color:#66d9ef">PRIMARY</span> <span style="color:#66d9ef">KEY</span> (idContido)
</span></span><span style="display:flex;"><span>);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">CREATE</span> <span style="color:#66d9ef">INDEX</span> FK_ID_BOOK_INDEX_9 <span style="color:#66d9ef">ON</span> <span style="color:#66d9ef">PUBLIC</span>.Contido (idBook);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">CREATE</span> <span style="color:#66d9ef">UNIQUE</span> <span style="color:#66d9ef">INDEX</span> PRIMARY_KEY_9 <span style="color:#66d9ef">ON</span> <span style="color:#66d9ef">PUBLIC</span>.Contido (idContido);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">-- PUBLIC.Contido foreign keys
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">ALTER</span> <span style="color:#66d9ef">TABLE</span> <span style="color:#66d9ef">PUBLIC</span>.Contido <span style="color:#66d9ef">ADD</span> <span style="color:#66d9ef">CONSTRAINT</span> FK_ID_BOOK <span style="color:#66d9ef">FOREIGN</span> <span style="color:#66d9ef">KEY</span> (idBook) <span style="color:#66d9ef">REFERENCES</span> <span style="color:#66d9ef">PUBLIC</span>.Book(idBook) <span style="color:#66d9ef">ON</span> <span style="color:#66d9ef">DELETE</span> <span style="color:#66d9ef">CASCADE</span> <span style="color:#66d9ef">ON</span> <span style="color:#66d9ef">UPDATE</span> <span style="color:#66d9ef">CASCADE</span>;</span></span></code></pre></div>
<p>Parámetros de la base de datos:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span>DRIVER: <span style="color:#e6db74">&#34;org.h2.Driver&#34;</span>
</span></span><span style="display:flex;"><span>URL: <span style="color:#e6db74">&#34;jdbc:h2:rutaBaseDatosSinExtensión;DB_CLOSE_ON_EXIT=TRUE;FILE_LOCK=NO;DATABASE_TO_UPPER=FALSE&#34;</span></span></span></code></pre></div>
<p>El fichero <code>persistencia.xml</code> debe tener la siguiente configuración:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#75715e">&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;persistence</span> <span style="color:#a6e22e">xmlns=</span><span style="color:#e6db74">&#34;https://jakarta.ee/xml/ns/persistence&#34;</span>
</span></span><span style="display:flex;"><span>             <span style="color:#a6e22e">xmlns:xsi=</span><span style="color:#e6db74">&#34;http://www.w3.org/2001/XMLSchema-instance&#34;</span>
</span></span><span style="display:flex;"><span>             <span style="color:#a6e22e">xsi:schemaLocation=</span><span style="color:#e6db74">&#34;https://jakarta.ee/xml/ns/persistence https://jakarta.ee/xml/ns/persistence/persistence_3_0.xsd&#34;</span>
</span></span><span style="display:flex;"><span>             <span style="color:#a6e22e">version=</span><span style="color:#e6db74">&#34;3.0&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;persistence-unit</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;bibliotecaH2&#34;</span> <span style="color:#a6e22e">transaction-type=</span><span style="color:#e6db74">&#34;RESOURCE_LOCAL&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;provider&gt;</span>org.hibernate.jpa.HibernatePersistenceProvider<span style="color:#f92672">&lt;/provider&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">&lt;!--        &lt;provider&gt;org.eclipse.persistence.jpa.PersistenceProvider&lt;/provider&gt;--&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;exclude-unlisted-classes&gt;</span>false<span style="color:#f92672">&lt;/exclude-unlisted-classes&gt;</span> <span style="color:#f92672">&lt;--</span> <span style="color:#960050;background-color:#1e0010">false</span> <span style="color:#960050;background-color:#1e0010">si</span> <span style="color:#960050;background-color:#1e0010">no</span> <span style="color:#960050;background-color:#1e0010">se</span> <span style="color:#960050;background-color:#1e0010">listan</span> <span style="color:#960050;background-color:#1e0010">las</span> <span style="color:#960050;background-color:#1e0010">clases</span> <span style="color:#960050;background-color:#1e0010">en</span> <span style="color:#960050;background-color:#1e0010">el</span> <span style="color:#960050;background-color:#1e0010">archivo</span> <span style="color:#960050;background-color:#1e0010">de</span> <span style="color:#960050;background-color:#1e0010">configuración</span> <span style="color:#960050;background-color:#1e0010">--</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;properties&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">&lt;!--      &lt;property name=&#34;jakarta.persistence.jdbc.url&#34; value=&#34;jdbc:mariadb://localhost:3306/peliculas&#34;/&gt;--&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;property</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;jakarta.persistence.jdbc.url&#34;</span>
</span></span><span style="display:flex;"><span>                      <span style="color:#a6e22e">value=</span><span style="color:#e6db74">&#34;jdbc:h2:rutaALaBaseDeDatos;DB_CLOSE_ON_EXIT=TRUE;DATABASE_TO_UPPER=FALSE;FILE_LOCK=NO&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">&lt;!-- Ejemplo con Access --&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">&lt;!--&lt;property name=&#34;jakarta.persistence.jdbc.url&#34; value=&#34;jdbc:ucanaccess://rutabase_base_datos.mdb&#34;/&gt;--&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">&lt;!--      &lt;property name=&#34;jakarta.persistence.jdbc.user&#34; value=&#34;root&#34;/&gt;--&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">&lt;!--      &lt;property name=&#34;jakarta.persistence.jdbc.password&#34; value=&#34;&#34;/&gt;--&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;property</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;jakarta.persistence.jdbc.user&#34;</span> <span style="color:#a6e22e">value=</span><span style="color:#e6db74">&#34;&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;property</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;jakarta.persistence.jdbc.password&#34;</span> <span style="color:#a6e22e">value=</span><span style="color:#e6db74">&#34;&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">&lt;!--      &lt;property name=&#34;jakarta.persistence.jdbc.driver&#34; value=&#34;net.ucanaccess.jdbc.UcanaccessDriver&#34;/&gt;--&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;property</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;jakarta.persistence.jdbc.driver&#34;</span> <span style="color:#a6e22e">value=</span><span style="color:#e6db74">&#34;org.h2.Driver&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">&lt;!-- Automáticamente, genera el esquema de la base de datos --&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;property</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;jakarta.persistence.schema-generation.database.action&#34;</span> <span style="color:#a6e22e">value=</span><span style="color:#e6db74">&#34;none&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">&lt;!-- Muestra por pantalla las sentencias SQL --&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;property</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;hibernate.show_sql&#34;</span> <span style="color:#a6e22e">value=</span><span style="color:#e6db74">&#34;true&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;property</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;hibernate.format_sql&#34;</span> <span style="color:#a6e22e">value=</span><span style="color:#e6db74">&#34;true&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;property</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;hibernate.highlight_sql&#34;</span> <span style="color:#a6e22e">value=</span><span style="color:#e6db74">&#34;true&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">&lt;!--      &lt;property name=&#34;hibernate.dialect&#34; value=&#34;org.hibernate.dialect.HSQLDialect&#34; /&gt;--&gt;</span> <span style="color:#75715e">&lt;!-- para HSQLDB y Ucanaccess --&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;property</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;hibernate.dialect&#34;</span> <span style="color:#a6e22e">value=</span><span style="color:#e6db74">&#34;org.hibernate.dialect.H2Dialect&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;/properties&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;/persistence-unit&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/persistence&gt;</span></span></span></code></pre></div>
<p>B) <strong>Clase <code>BibliotecaJpaManager</code>:</strong></p>
<p>Mediante el <strong>patrón Singleton crea una clase <code>BibliotecaJpaManager</code></strong>, mediante el patrón Singleton de manera que tenga un <strong>atributo <code>emFactory</code> de tipo <code>EntityManagerFactory</code> y que nos permita obtener un objeto de tipo <code>EntityManager</code> para realizar las operaciones sobre la base de datos</strong>.</p>
<p>Además, debe tener un <strong>método estático <code>getEntityManager</code></strong> que devuelva un objeto de tipo <code>EntityManager</code> y que se encargue de crear el objeto <code>EntityManager</code>.</p>
<p>Hazlo con Thread-Safe y doble comprobación.</p>
<p><em><strong>Reto: haz que la clase <code>BibliotecaJpaManager</code> tenga un singleton para cada factory, guardándolos en un mapa con el nombre de la unidad de persistencia como clave:</strong></em></p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> Map<span style="color:#f92672">&lt;</span>String, EntityManagerFactory<span style="color:#f92672">&gt;</span> instancies <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> HashMap<span style="color:#f92672">&lt;&gt;</span>();</span></span></code></pre></div>
<p>C) <strong>Clase <code>Book</code> implementa <code>Serializable</code>:</strong></p>
<p>Haz que sea una <strong>entidad JPA</strong> y que implemente la interfaz <code>Serializable</code>.</p>
<p>La clase <code>Book</code> debe tener los siguientes atributos:</p>
<ul>
<li><code>idBook: Long</code> (autonumérico)</li>
<li><code>isbn: String</code> (tamaño 13)</li>
<li><code>title: String</code></li>
<li><code>author: String</code></li>
<li><code>ano: Integer</code></li>
<li><code>available: Boolean</code></li>
<li><code>portada: byte[]</code></li>
<li><code>dataPublicacion: LocalDate</code> (<strong>Nuevo</strong> campo)</li>
<li><code>List&lt;Contido&gt; contenido;</code> (<strong>Nuevo</strong>, lista de contenidos del libro, de momento, mientras no tengamos relaciones, hazlo <strong><code>transient</code></strong>)</li>
</ul>
<p>(Fíjate que ya <strong>no existe el campo contido[]</strong> que habíamos definido en la clase <code>Book</code> de la unidad de bases de datos con JDBC).</p>
<p>La clase debe tener, al menos, los siguientes constructores:</p>
<ul>
<li><code>Book()</code></li>
<li><code>Book(String isbn, String title, String author, Short year, Boolean available, byte[] portada)</code></li>
<li><code>Book(Long idBook, String isbn, String title, String author, Short year, Boolean available, byte[] portada)</code></li>
<li>Aquellos que consideres necesarios.</li>
</ul>
<p>La <strong>lista de <code>Contido</code> es una lista de objetos de tipo <code>Contido</code></strong> que representan los contenidos del libro. La <strong>clase <code>Contido</code> tiene los siguientes atributos: <code>idContido</code> y <code>contido</code></strong>.
Ten en cuenta que existe en la base de datos <strong>una tabla <code>Contido</code> con los campos <code>idContido</code> y <code>contido</code> y una referencia al libro mediante una clave foránea <code>idBook</code></strong>. De momento, no incluyas la <code>List</code> de contenidos en la clase <code>Book</code>, hazlos <code>transient</code> (<strong>bien con la anotación <code>@Transient</code> o con la palabra reservada <code>transient</code></strong>), hasta que veamos las relaciones, que será @OneToMany.</p>
<p>Los métodos &ldquo;set&rdquo; de las propiedades deben devolver una referencia al propio objeto para poder encadenarlos.</p>
<p><strong>IMPORTANTE: ten en cuenta que los atributos de la clase <code>Book</code> no coinciden con los campos de tabla por lo que debes refactorizar: <em>author -&gt; autor, ano -&gt; anho, avaliable -&gt; disponible, &hellip;</em> o emplear la anotación <code>@Column</code> para mapear los atributos de la clase con los campos de la tabla.</strong></p>
<p>Métodos de la clase Book (ya implantados):</p>
<ul>
<li>
<p>Get y set para cada atributo.</p>
</li>
<li>
<p><code>setPortada</code> (sin implantar): recibe File y lo asigna al atributo <code>portada</code>.</p>
</li>
<li>
<p><code>setPortada</code> (sin implantar): recibe un array de bytes y lo asigna al atributo <code>portada</code>.</p>
</li>
<li>
<p><code>setPortada</code> (Sin implantar): recibe un String con el nombre del fichero y lo asigna al atributo <code>portada</code>.</p>
</li>
<li></li>
<li>
<p><code>getImage</code>: devuelve un objeto de tipo <code>Image</code> con la portada del libro.</p>
</li>
</ul>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> Image <span style="color:#a6e22e">getImage</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (portada <span style="color:#f92672">!=</span> <span style="color:#66d9ef">null</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">try</span> (ByteArrayInputStream bis <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ByteArrayInputStream(portada)) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> ImageIO.<span style="color:#a6e22e">read</span>(bis);
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">catch</span> (IOException e) {
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">null</span>;
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<ul>
<li>
<p><code>equals</code> y <code>hashCode</code>: considerando que son iguales cuando tienen el mismo <code>isbn</code>.
Además, el método <code>hashCode</code> debe devolver un valor coherente con el método <code>equals</code> (todos los objetos iguales deben tener, al menos el mismo <code>hashCode</code>).</p>
</li>
<li>
<p><code>toString</code>: devuelve el título, el autor y el año. Si no está disponible escribe un asterisco.</p>
</li>
</ul>
<p>D) <strong>Clase <code>Contido</code> implementa <code>Serializable</code>:</strong></p>
<p>A diferencia de la clase empleada en la unidad de bases de datos con JDBC, <strong>la clase <code>Contido</code> no debe tener referencia al <code>idBook</code></strong>, pues no es la mejor práctica (está hecho sólo a modo de ejemplo), <strong>debe tener, si queremos la relación bidireccional, una referencia a Book</strong>.</p>
<ul>
<li><code>idContido: Long</code> (autonumérico)</li>
<li><code>contido: String</code> (contenido del libro en formato texto). Puedes hacer un atributo de tipo <code>String</code> o <code>byte[]</code> (para almacenar el contenido en formato binario), en cualquier caso, deberías modificar la tabla <code>Contido</code> en la base de datos.</li>
<li><code>Book book</code> (relación con la clase <code>Book</code>)</li>
</ul>
<p>Si has implantado la clase <code>ContidoDao</code>, debes <strong>modificar los métodos que obtienen el <code>idBook</code> del book</strong>:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>contido.<span style="color:#a6e22e">getBook</span>().<span style="color:#a6e22e">getIdBook</span>();</span></span></code></pre></div>
<p>E) <strong>Clase <code>BookJPADao</code></strong>:</p>
<p>Esta clase, al igual que la clase <code>BookDao</code>, la clase <code>BookJPADao</code><strong>debe implantar la interface <code>Dao&lt;T&gt;</code></strong>, de modo que tenga <strong>un objeto de tipo <code>EntityManager</code>como atributo</strong>. En sistemas empresariales, como la gestión de transacciones no se suele hacer por método, se guarda una referencia a la clase <code>EntityManagerFactory</code> y se gestiona por medio de try-with-resources para manejar los cierres de los <code>EntityManager</code>.</p>
<p><strong><code>Dao&lt;T&gt;</code></strong>:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">import</span> java.util.List;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> *
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @author pepecalo
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @param &lt;T&gt; Tipo de dato del objeto
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">interface</span> <span style="color:#a6e22e">DAO</span><span style="color:#f92672">&lt;</span>T<span style="color:#f92672">&gt;</span> {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    T <span style="color:#a6e22e">get</span>(<span style="color:#66d9ef">long</span> id);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    List<span style="color:#f92672">&lt;</span>T<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">getAll</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">save</span>(T t);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">update</span>(T t);
</span></span><span style="display:flex;"><span>   
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">delete</span>(T t);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">boolean</span> <span style="color:#a6e22e">deleteById</span>(<span style="color:#66d9ef">long</span> id);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> List<span style="color:#f92672">&lt;</span>Integer<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">getAllIds</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">updateLOB</span>(T book, String f); <span style="color:#75715e">// en BookJPADao recibe un objeto de tipo Book y un String con el nombre del fichero</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">updateLOBById</span>(<span style="color:#66d9ef">long</span> id, String f);
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">deleteAll</span>();
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<p><strong>Clase <code>BookJPADao</code>:</strong></p>
<p>Implementa la interfaz <code>DAO&lt;Book&gt;</code> y gestiona las operaciones CRUD sobre la tabla <code>Book</code> de la base de datos.
Tiene como atributo un objeto de tipo <code>EntityManager</code> que recoge en el constructor.</p>
<p><strong>Clase <code>BookDAOFactory</code>:</strong></p>
<p>Factory de clases que implanten la interfaz <code>DAO&lt;Book&gt;</code>.</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">import</span> jakarta.persistence.EntityManager;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * Factory de clases que implanten la interfaz DAO&lt;Book&gt;.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @version 1.0
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @since 1.0
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @see BookJpaDAO
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @see TipoDAO
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> */</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">BookDaoFactory</span> {
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">enum</span> TipoDao {
</span></span><span style="display:flex;"><span>        JDBC_H2, JPA_H2, JPA_POSTGRES, HIBERNATE, JSON, JDBC_POSTGRES;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> Dao<span style="color:#f92672">&lt;</span>Book<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">getBookDAO</span>(TipoDao tipo) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">switch</span> (tipo) {
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">// ..</span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">null</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<p>Implementa un método estático <code>getBookDAO</code> que recoge el tipo de DAO que se va a emplear y devuelve el objeto de tipo <code>BookJPADAO</code>. Sería interesante hacer cambios para que getBookDao recoja los parámetros necesarios como propiedades de la base de datos, nombre del archivo JSON, nombre de la unidad de persistencia, etc.</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> Dao<span style="color:#f92672">&lt;</span>Book<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">getBookDAO</span>(TipoDao tipo, Map<span style="color:#f92672">&lt;</span>String, String<span style="color:#f92672">&gt;</span> propiedades) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">switch</span> (tipo) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">case</span> JPA_H2:
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">new</span> BookJPADao(BibliotecaJpaManager.<span style="color:#a6e22e">getEntityManager</span>(propiedades.<span style="color:#a6e22e">get</span>(<span style="color:#e6db74">&#34;unidadPersistencia&#34;</span>)));
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// ...</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">default</span>:
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">null</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<p><strong>AppBiblioteca:</strong></p>
<p>Ejecuta la aplicación para que haga uso del <code>BookDaoFactory</code> para obtener un objeto de tipo  <code>DAO&lt;Book&gt;</code> para asignarlo al controlador de la aplicación. La aplicación debe funcionar igual que con JDBC, pero ahora con JPA.</p>
<p>Con JDBC_H2:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>Dao<span style="color:#f92672">&lt;</span>Book<span style="color:#f92672">&gt;</span> bookDao <span style="color:#f92672">=</span> BookDaoFactory.<span style="color:#a6e22e">getBookDAO</span>(BookDaoFactory.<span style="color:#a6e22e">TipoDAO</span>.<span style="color:#a6e22e">JDBC_H2</span>);</span></span></code></pre></div>
<p>Con JPA_H2:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>Dao<span style="color:#f92672">&lt;</span>Book<span style="color:#f92672">&gt;</span> bookDao <span style="color:#f92672">=</span> BookDaoFactory.<span style="color:#a6e22e">getBookDAO</span>(BookDaoFactory.<span style="color:#a6e22e">TipoDAO</span>.<span style="color:#a6e22e">JPA_H2</span>);</span></span></code></pre></div>
<p>Haz <strong>pruebas con los dos tipos de DAO. ¿Has notado alguna diferencia? Haz mejoras sobre el funcionamiento de la aplicación</strong>.</p>
<p>Puedes hacer pruebas de persistencia de libros en la base de datos:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>Book libro <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Book(<span style="color:#e6db74">&#34;9788424937744&#34;</span>, <span style="color:#e6db74">&#34;Tractatus logico-philosophicus-investigaciones filosóficas&#34;</span>, <span style="color:#e6db74">&#34;Ludwig Wittgenstein&#34;</span>, 2017, <span style="color:#66d9ef">false</span>);
</span></span><span style="display:flex;"><span>libro <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Book(<span style="color:#e6db74">&#34;9788499088150&#34;</span>, <span style="color:#e6db74">&#34;Verano&#34;</span>, <span style="color:#e6db74">&#34;J. M. Coetzee&#34;</span>, 2011, <span style="color:#66d9ef">true</span>);</span></span></code></pre></div>
<h4 id="0301-solución">03.01. Solución</h4>

<details class=" box cstyle notices transparent expand">
  <summary class="box-label">
    <i class="expander-icon fa-fw fas fa-chevron-right"></i> 
    Solución: BibliotecaJpaManager
  </summary>
  <div class="box-content">
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">import</span> jakarta.persistence.EntityManager;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> jakarta.persistence.EntityManagerFactory;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> jakarta.persistence.Persistence;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.util.HashMap;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.util.Map;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import static</span> com.javhoz.ad.biblioteca.model.BibliotecaLogger.LOG;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">BibliotecaJpaManager</span> {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">final</span> String BIBLIOTECA_H2 <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;bibliotecaH2&#34;</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">final</span> String BIBLIOTECA_POSTGRES <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;bibliotecaPostgres&#34;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">final</span> Map<span style="color:#f92672">&lt;</span>String, EntityManagerFactory<span style="color:#f92672">&gt;</span> instancies <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> HashMap<span style="color:#f92672">&lt;&gt;</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#a6e22e">BibliotecaJpaManager</span>() {
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">boolean</span> <span style="color:#a6e22e">isEntityManagerFactoryClosed</span>(String unidadPersistencia) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#f92672">!</span>instancies.<span style="color:#a6e22e">containsKey</span>(unidadPersistencia) <span style="color:#f92672">||</span> instancies.<span style="color:#a6e22e">get</span>(unidadPersistencia) <span style="color:#f92672">==</span> <span style="color:#66d9ef">null</span> <span style="color:#f92672">||</span>
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">!</span>instancies.<span style="color:#a6e22e">get</span>(unidadPersistencia).<span style="color:#a6e22e">isOpen</span>();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> EntityManagerFactory <span style="color:#a6e22e">getEntityManagerFactory</span>(String unidadPersistencia) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (isEntityManagerFactoryClosed(unidadPersistencia)) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">synchronized</span> (BibliotecaJpaManager.<span style="color:#a6e22e">class</span>) {
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">if</span> (isEntityManagerFactoryClosed(unidadPersistencia)) {
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">try</span> {
</span></span><span style="display:flex;"><span>                        instancies.<span style="color:#a6e22e">put</span>(unidadPersistencia, Persistence.<span style="color:#a6e22e">createEntityManagerFactory</span>(unidadPersistencia));
</span></span><span style="display:flex;"><span>                    } <span style="color:#66d9ef">catch</span> (Exception e) {
</span></span><span style="display:flex;"><span>                        LOG.<span style="color:#a6e22e">error</span>(<span style="color:#e6db74">&#34;Erro ó crear a unidade de persistencia &#34;</span> <span style="color:#f92672">+</span> unidadPersistencia <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>                                <span style="color:#e6db74">&#34;: &#34;</span> <span style="color:#f92672">+</span> e.<span style="color:#a6e22e">getMessage</span>());
</span></span><span style="display:flex;"><span>                    }
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> instancies.<span style="color:#a6e22e">get</span>(unidadPersistencia);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> EntityManager <span style="color:#a6e22e">getEntityManager</span>(String persistenceUnitName) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> getEntityManagerFactory(persistenceUnitName).<span style="color:#a6e22e">createEntityManager</span>();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">close</span>(String persistenceUnitName) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (instancies.<span style="color:#a6e22e">containsKey</span>(persistenceUnitName)) {
</span></span><span style="display:flex;"><span>            instancies.<span style="color:#a6e22e">get</span>(persistenceUnitName).<span style="color:#a6e22e">close</span>();
</span></span><span style="display:flex;"><span>            instancies.<span style="color:#a6e22e">remove</span>(persistenceUnitName);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
  </div>
</details>

<details class=" box cstyle notices transparent expand">
  <summary class="box-label">
    <i class="expander-icon fa-fw fas fa-chevron-right"></i> 
    Solución: Book
  </summary>
  <div class="box-content">
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">import</span> jakarta.persistence.*;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> javax.imageio.ImageIO;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.awt.*;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.util.ArrayList;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.util.List;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.io.*;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.nio.file.Files;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.nio.file.Path;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.nio.file.Paths;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.time.LocalDate;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.util.Objects;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @author pepecalo
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@Entity</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Book</span> <span style="color:#66d9ef">implements</span> Serializable {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//    private static final long serialVersionUID = 1L;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Id</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@GeneratedValue</span>(strategy <span style="color:#f92672">=</span> GenerationType.<span style="color:#a6e22e">IDENTITY</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> Long idBook;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Column</span>(length <span style="color:#f92672">=</span> 13, nullable <span style="color:#f92672">=</span> <span style="color:#66d9ef">false</span>, unique <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span>))
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> String isbn;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Column</span>(name <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;titulo&#34;</span>, nullable <span style="color:#f92672">=</span> <span style="color:#66d9ef">false</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> String title;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Column</span>(name <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;autor&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> String author;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Column</span>(name <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;anho&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> Short ano;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Column</span>(name <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;disponible&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> Boolean available;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">byte</span><span style="color:#f92672">[]</span> portada;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> LocalDate dataPublicacion;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//    @Transient // Ambas opciones son válidas</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">transient</span> <span style="color:#66d9ef">private</span> List<span style="color:#f92672">&lt;</span>Contido<span style="color:#f92672">&gt;</span> contenido <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ArrayList<span style="color:#f92672">&lt;&gt;</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">final</span> <span style="color:#66d9ef">long</span> serialVersionUID <span style="color:#f92672">=</span> 1L;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">Book</span>() {
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">Book</span>(String title, String author, Short year, Boolean available) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">title</span> <span style="color:#f92672">=</span> title;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">author</span> <span style="color:#f92672">=</span> author;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">ano</span> <span style="color:#f92672">=</span> year;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">available</span> <span style="color:#f92672">=</span> available;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">Book</span>(String isbn, String title, String author, Short year,
</span></span><span style="display:flex;"><span>                Boolean available) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">isbn</span> <span style="color:#f92672">=</span> isbn;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">title</span> <span style="color:#f92672">=</span> title;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">author</span> <span style="color:#f92672">=</span> author;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">ano</span> <span style="color:#f92672">=</span> year;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">available</span> <span style="color:#f92672">=</span> available;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">Book</span>(String isbn, String title, String author, Short year,
</span></span><span style="display:flex;"><span>                Boolean available, <span style="color:#66d9ef">byte</span><span style="color:#f92672">[]</span> portada) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">isbn</span> <span style="color:#f92672">=</span> isbn;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">title</span> <span style="color:#f92672">=</span> title;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">author</span> <span style="color:#f92672">=</span> author;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">ano</span> <span style="color:#f92672">=</span> year;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">available</span> <span style="color:#f92672">=</span> available;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">portada</span> <span style="color:#f92672">=</span> portada;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">Book</span>(Long idBook, String isbn, String title, String author,
</span></span><span style="display:flex;"><span>                Short year, Boolean available, <span style="color:#66d9ef">byte</span><span style="color:#f92672">[]</span> portada) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">idBook</span> <span style="color:#f92672">=</span> idBook;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">isbn</span> <span style="color:#f92672">=</span> isbn;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">title</span> <span style="color:#f92672">=</span> title;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">author</span> <span style="color:#f92672">=</span> author;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">ano</span> <span style="color:#f92672">=</span> year;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">available</span> <span style="color:#f92672">=</span> available;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">portada</span> <span style="color:#f92672">=</span> portada;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> Long <span style="color:#a6e22e">getIdBook</span>() {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> idBook;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> Book <span style="color:#a6e22e">setIdBook</span>(Long idBook) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">idBook</span> <span style="color:#f92672">=</span> idBook;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">this</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">getIsbn</span>() {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> isbn;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> Book <span style="color:#a6e22e">setIsbn</span>(String isbn) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">isbn</span> <span style="color:#f92672">=</span> isbn;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">this</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">getTitle</span>() {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> title;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> Book <span style="color:#a6e22e">setTitle</span>(String title) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">title</span> <span style="color:#f92672">=</span> title;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">this</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">getAuthor</span>() {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> author;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> Book <span style="color:#a6e22e">setAuthor</span>(String author) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">author</span> <span style="color:#f92672">=</span> author;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">this</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> Short <span style="color:#a6e22e">getYear</span>() {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> ano;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> Book <span style="color:#a6e22e">setAno</span>(Short ano) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">ano</span> <span style="color:#f92672">=</span> ano;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">this</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> Boolean <span style="color:#a6e22e">isAvailable</span>() {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> available;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> Book <span style="color:#a6e22e">setAvailable</span>(Boolean available) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">available</span> <span style="color:#f92672">=</span> available;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">this</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">byte</span><span style="color:#f92672">[]</span> <span style="color:#a6e22e">getCover</span>() {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> portada;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> Book <span style="color:#a6e22e">setCover</span>(<span style="color:#66d9ef">byte</span><span style="color:#f92672">[]</span> portada) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">portada</span> <span style="color:#f92672">=</span> portada;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">this</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> LocalDate <span style="color:#a6e22e">getDataPublicacion</span>() {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> dataPublicacion;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> Book <span style="color:#a6e22e">setDataPublicacion</span>(LocalDate dataPublicacion) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">dataPublicacion</span> <span style="color:#f92672">=</span> dataPublicacion;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">this</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * Asigna la portada con flujos, leyendo los bytes.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     *
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * @param f
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> Book <span style="color:#a6e22e">setPortada</span>(File f) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (f <span style="color:#f92672">==</span> <span style="color:#66d9ef">null</span> <span style="color:#f92672">||</span> <span style="color:#f92672">!</span>f.<span style="color:#a6e22e">exists</span>())
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">this</span>;
</span></span><span style="display:flex;"><span>        Path p <span style="color:#f92672">=</span> Paths.<span style="color:#a6e22e">get</span>(f.<span style="color:#a6e22e">getAbsolutePath</span>());
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">try</span> (BufferedInputStream bi <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> BufferedInputStream(Files.<span style="color:#a6e22e">newInputStream</span>(p));
</span></span><span style="display:flex;"><span>             ByteArrayOutputStream outputStream <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ByteArrayOutputStream()) {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">byte</span><span style="color:#f92672">[]</span> buffer <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#66d9ef">byte</span><span style="color:#f92672">[</span>4096<span style="color:#f92672">]</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">int</span> bytesLidos;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">while</span> ((bytesLidos <span style="color:#f92672">=</span> bi.<span style="color:#a6e22e">read</span>(buffer)) <span style="color:#f92672">&gt;</span> 0) {
</span></span><span style="display:flex;"><span>                outputStream.<span style="color:#a6e22e">write</span>(buffer, 0, bytesLidos);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            portada <span style="color:#f92672">=</span> outputStream.<span style="color:#a6e22e">toByteArray</span>();
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">catch</span> (FileNotFoundException ex) {
</span></span><span style="display:flex;"><span>            System.<span style="color:#a6e22e">err</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Archivo no encontrado: &#34;</span> <span style="color:#f92672">+</span> ex.<span style="color:#a6e22e">getMessage</span>());
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">catch</span> (IOException ex) {
</span></span><span style="display:flex;"><span>            System.<span style="color:#a6e22e">err</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Erro de E/S: &#34;</span> <span style="color:#f92672">+</span> ex.<span style="color:#a6e22e">getMessage</span>());
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">this</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * Asigna la portada con Java NIO, leyendo los bytes.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     *
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * @param file
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> Book <span style="color:#a6e22e">setPortada</span>(String file) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">try</span> {
</span></span><span style="display:flex;"><span>            Path ruta <span style="color:#f92672">=</span> Paths.<span style="color:#a6e22e">get</span>(file);
</span></span><span style="display:flex;"><span>            portada <span style="color:#f92672">=</span> Files.<span style="color:#a6e22e">readAllBytes</span>(ruta);
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">catch</span> (IOException ex) {
</span></span><span style="display:flex;"><span>            System.<span style="color:#a6e22e">err</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Error de E/S: &#34;</span> <span style="color:#f92672">+</span> ex.<span style="color:#a6e22e">getMessage</span>());
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">this</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> Image <span style="color:#a6e22e">getImage</span>() {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (portada <span style="color:#f92672">!=</span> <span style="color:#66d9ef">null</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">try</span> (ByteArrayInputStream bis <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ByteArrayInputStream(portada)) {
</span></span><span style="display:flex;"><span>                Image imaxe <span style="color:#f92672">=</span> ImageIO.<span style="color:#a6e22e">read</span>(bis);
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">if</span>(available) {
</span></span><span style="display:flex;"><span>                    imaxe.<span style="color:#a6e22e">getGraphics</span>().<span style="color:#a6e22e">drawLine</span>(0,0, 100, 100);
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">return</span> imaxe;
</span></span><span style="display:flex;"><span>            } <span style="color:#66d9ef">catch</span> (IOException e) {
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">null</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">hashCode</span>() {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">int</span> hash <span style="color:#f92672">=</span> 7;
</span></span><span style="display:flex;"><span>        hash <span style="color:#f92672">=</span> 41 <span style="color:#f92672">*</span> hash <span style="color:#f92672">+</span> Objects.<span style="color:#a6e22e">hashCode</span>(<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">isbn</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> hash;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">boolean</span> <span style="color:#a6e22e">equals</span>(Object obj) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (<span style="color:#66d9ef">this</span> <span style="color:#f92672">==</span> obj) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">true</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (obj <span style="color:#f92672">==</span> <span style="color:#66d9ef">null</span> <span style="color:#f92672">||</span> getClass() <span style="color:#f92672">!=</span> obj.<span style="color:#a6e22e">getClass</span>()) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">false</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">final</span> Book other <span style="color:#f92672">=</span> (Book) obj;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> Objects.<span style="color:#a6e22e">equals</span>(<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">isbn</span>, other.<span style="color:#a6e22e">isbn</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">toString</span>() {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> idBook <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;] [isbn: &#34;</span> <span style="color:#f92672">+</span> isbn <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;] &#34;</span> <span style="color:#f92672">+</span> title <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;. &#34;</span>
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">+</span> author <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34; (&#34;</span> <span style="color:#f92672">+</span> ano <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;) [&#34;</span> <span style="color:#f92672">+</span> ((available) <span style="color:#f92672">?</span> <span style="color:#e6db74">&#39;*&#39;</span> : <span style="color:#e6db74">&#39; &#39;</span>) <span style="color:#f92672">+</span> <span style="color:#e6db74">&#39;]&#39;</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
  </div>
</details>

<details class=" box cstyle notices transparent expand">
  <summary class="box-label">
    <i class="expander-icon fa-fw fas fa-chevron-right"></i> 
    Solución: Clase Contido
  </summary>
  <div class="box-content">
<p>De momento, <strong>no hemos declarado <code>Contido</code> como entidad JPA</strong>, pero lo haremos en el futuro, cuando veamos las relaciones.</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">import</span> java.util.Objects;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @autor pepecalo
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * CREATE TABLE PUBLIC.Contido (
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * 	idContido INTEGER NOT NULL AUTO_INCREMENT,
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * 	idBook INTEGER NOT NULL,
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * 	contido CHARACTER LARGE OBJECT,
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * 	CONSTRAINT Contido_PK PRIMARY KEY (idContido),
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * 	CONSTRAINT FK_ID_BOOK FOREIGN KEY (idBook) REFERENCES PUBLIC.Book(idBook) ON DELETE CASCADE ON UPDATE CASCADE
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * );
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * CREATE UNIQUE INDEX PRIMARY_KEY_9 ON PUBLIC.Contido (idContido);
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> */</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Contido</span> {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> Long idContido;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> String contido;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> Book book;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">Contido</span>() {
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">Contido</span>(Long idBook, String contido) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">contido</span> <span style="color:#f92672">=</span> contido;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">Contido</span>(Long idContido, Long idBook) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">idContido</span> <span style="color:#f92672">=</span> idContido;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">Contido</span>(Long idContido, Long idBook, String contido) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">idContido</span> <span style="color:#f92672">=</span> idContido;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">contido</span> <span style="color:#f92672">=</span> contido;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> Long <span style="color:#a6e22e">getIdContido</span>() {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> idContido;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">setIdContido</span>(Long idContido) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">idContido</span> <span style="color:#f92672">=</span> idContido;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">getContido</span>() {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> contido;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">setContido</span>(String contido) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">contido</span> <span style="color:#f92672">=</span> contido;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> Book <span style="color:#a6e22e">getBook</span>() {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> book;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">setBook</span>(Book book) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">book</span> <span style="color:#f92672">=</span> book;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">hashCode</span>() {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> 97 <span style="color:#f92672">*</span> 7 <span style="color:#f92672">+</span> Objects.<span style="color:#a6e22e">hashCode</span>(<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">idContido</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">boolean</span> <span style="color:#a6e22e">equals</span>(Object obj) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (obj <span style="color:#f92672">==</span> <span style="color:#66d9ef">null</span> <span style="color:#f92672">||</span> <span style="color:#f92672">!</span>(obj <span style="color:#66d9ef">instanceof</span> Contido other)) <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">false</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> Objects.<span style="color:#a6e22e">equals</span>(<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">idContido</span>, other.<span style="color:#a6e22e">idContido</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">toString</span>() {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> idContido <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;: &#34;</span> <span style="color:#f92672">+</span> contido;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
  </div>
</details>

<details class=" box cstyle notices transparent expand">
  <summary class="box-label">
    <i class="expander-icon fa-fw fas fa-chevron-right"></i> 
    Solución: BookJPADao
  </summary>
  <div class="box-content">
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">import</span> jakarta.persistence.EntityManager;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> jakarta.persistence.EntityTransaction;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> jakarta.persistence.TypedQuery;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.util.List;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">BookJPADao</span> <span style="color:#66d9ef">implements</span> Dao<span style="color:#f92672">&lt;</span>Book<span style="color:#f92672">&gt;</span> {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">final</span> EntityManager em;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">BookJPADao</span>(EntityManager em) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">em</span> <span style="color:#f92672">=</span> em;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> Book <span style="color:#a6e22e">get</span>(<span style="color:#66d9ef">long</span> id) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> em.<span style="color:#a6e22e">find</span>(Book.<span style="color:#a6e22e">class</span>, id);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> List<span style="color:#f92672">&lt;</span>Book<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">getAll</span>() {
</span></span><span style="display:flex;"><span>        TypedQuery<span style="color:#f92672">&lt;</span>Book<span style="color:#f92672">&gt;</span> query <span style="color:#f92672">=</span> em.<span style="color:#a6e22e">createQuery</span>(<span style="color:#e6db74">&#34;SELECT b FROM Book b&#34;</span>, Book.<span style="color:#a6e22e">class</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> query.<span style="color:#a6e22e">getResultList</span>();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">save</span>(Book book) {
</span></span><span style="display:flex;"><span>        EntityTransaction tx <span style="color:#f92672">=</span> em.<span style="color:#a6e22e">getTransaction</span>();
</span></span><span style="display:flex;"><span>        tx.<span style="color:#a6e22e">begin</span>();
</span></span><span style="display:flex;"><span>        em.<span style="color:#a6e22e">persist</span>(book);
</span></span><span style="display:flex;"><span>        tx.<span style="color:#a6e22e">commit</span>();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">update</span>(Book book) {
</span></span><span style="display:flex;"><span>        EntityTransaction tx <span style="color:#f92672">=</span> em.<span style="color:#a6e22e">getTransaction</span>();
</span></span><span style="display:flex;"><span>        tx.<span style="color:#a6e22e">begin</span>();
</span></span><span style="display:flex;"><span>        em.<span style="color:#a6e22e">merge</span>(book);
</span></span><span style="display:flex;"><span>        tx.<span style="color:#a6e22e">commit</span>();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">delete</span>(Book book) {
</span></span><span style="display:flex;"><span>        EntityTransaction tx <span style="color:#f92672">=</span> em.<span style="color:#a6e22e">getTransaction</span>();
</span></span><span style="display:flex;"><span>        tx.<span style="color:#a6e22e">begin</span>();
</span></span><span style="display:flex;"><span>        em.<span style="color:#a6e22e">remove</span>(book);
</span></span><span style="display:flex;"><span>        tx.<span style="color:#a6e22e">commit</span>();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">boolean</span> <span style="color:#a6e22e">deleteById</span>(<span style="color:#66d9ef">long</span> id) {
</span></span><span style="display:flex;"><span>        Book book <span style="color:#f92672">=</span> get(id);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (book <span style="color:#f92672">!=</span> <span style="color:#66d9ef">null</span>) {
</span></span><span style="display:flex;"><span>            delete(book);
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">true</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">false</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> List<span style="color:#f92672">&lt;</span>Integer<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">getAllIds</span>() {
</span></span><span style="display:flex;"><span>        TypedQuery<span style="color:#f92672">&lt;</span>Integer<span style="color:#f92672">&gt;</span> query <span style="color:#f92672">=</span> em.<span style="color:#a6e22e">createQuery</span>(<span style="color:#e6db74">&#34;SELECT b.idBook FROM Book b&#34;</span>, Integer.<span style="color:#a6e22e">class</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> query.<span style="color:#a6e22e">getResultList</span>();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">updateLOB</span>(Book book, String f) {
</span></span><span style="display:flex;"><span>        book.<span style="color:#a6e22e">setPortada</span>(f);
</span></span><span style="display:flex;"><span>        update(book); <span style="color:#75715e">// La tansacción se hace en el método update</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">updateLOBById</span>(<span style="color:#66d9ef">long</span> id, String f) {
</span></span><span style="display:flex;"><span>        Book book <span style="color:#f92672">=</span> get(id);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (book <span style="color:#f92672">!=</span> <span style="color:#66d9ef">null</span>) {
</span></span><span style="display:flex;"><span>            updateLOB(book, f); <span style="color:#75715e">// La transacción se hace en el método updateLOB, que a su vez llama a update</span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">deleteAll</span>() {
</span></span><span style="display:flex;"><span>        EntityTransaction tx <span style="color:#f92672">=</span> em.<span style="color:#a6e22e">getTransaction</span>();
</span></span><span style="display:flex;"><span>        tx.<span style="color:#a6e22e">begin</span>();
</span></span><span style="display:flex;"><span>        em.<span style="color:#a6e22e">createQuery</span>(<span style="color:#e6db74">&#34;DELETE FROM Book&#34;</span>).<span style="color:#a6e22e">executeUpdate</span>();
</span></span><span style="display:flex;"><span>        tx.<span style="color:#a6e22e">commit</span>();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
  </div>
</details>

<details class=" box cstyle notices transparent expand">
  <summary class="box-label">
    <i class="expander-icon fa-fw fas fa-chevron-right"></i> 
    Solución: BookDaoFactory
  </summary>
  <div class="box-content">
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">import</span> java.util.Map;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">BookDaoFactory</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">enum</span> TipoDAO {
</span></span><span style="display:flex;"><span>        JDBC_H2, JPA_H2, JPA_POSTGRES, HIBERNATE, JSON, JDBC_POSTGRES;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> Dao<span style="color:#f92672">&lt;</span>Book<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">getBookDAO</span>(TipoDAO tipo) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">switch</span> (tipo) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">case</span> JDBC_H2:
</span></span><span style="display:flex;"><span>                BibliotecaConnectionMaganer bibliotecaConnection <span style="color:#f92672">=</span> BibliotecaConnectionMaganer.<span style="color:#a6e22e">getInstance</span>();
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">new</span> BookDao(bibliotecaConnection.<span style="color:#a6e22e">getConnection</span>());
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">case</span> JPA_H2:
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">new</span> BookJPADao((BibliotecaJpaManager.<span style="color:#a6e22e">getEntityManager</span>(BibliotecaJpaManager.<span style="color:#a6e22e">BIBLIOTECA_H2</span>)));
</span></span><span style="display:flex;"><span>                <span style="color:#75715e">// ...</span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">null</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
  </div>
</details>
<hr>
<h3 id="ejercicio-0401-descarga-y-creación-de-la-base-de-datos-de-jokeapi">Ejercicio 04.01. Descarga y creación de la base de datos de JokeAPI</h3>
<p>Dado el <strong>modelo de la aplicación de JokeAPI</strong>, en la que tenemos las enumeraciones <code>Categoria</code>m <code>TipoChiste</code>, <code>Flag</code> y la clase <code>Chiste</code>, <strong>vamos a crear una base de datos con JPA</strong> y los chistes de la API.</p>
<h4 id="enumeraciones">Enumeraciones</h4>
<p><strong>A)</strong> La <strong>enumeración <code>Categoria</code></strong> tiene los siguientes valores:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">enum</span> Categoria {
</span></span><span style="display:flex;"><span>    ANY(<span style="color:#e6db74">&#34;Any&#34;</span>),
</span></span><span style="display:flex;"><span>    MISC(<span style="color:#e6db74">&#34;Misc&#34;</span>),
</span></span><span style="display:flex;"><span>    PROGRAMMING(<span style="color:#e6db74">&#34;Programming&#34;</span>),
</span></span><span style="display:flex;"><span>    DARK(<span style="color:#e6db74">&#34;Dark&#34;</span>),
</span></span><span style="display:flex;"><span>    PUN(<span style="color:#e6db74">&#34;Pun&#34;</span>),
</span></span><span style="display:flex;"><span>    SPOOKY(<span style="color:#e6db74">&#34;Spooky&#34;</span>),
</span></span><span style="display:flex;"><span>    CHRISTMAS(<span style="color:#e6db74">&#34;Christmas&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//...</span>
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>

<details class=" box cstyle notices transparent expand">
  <summary class="box-label">
    <i class="expander-icon fa-fw fas fa-chevron-right"></i> 
    Detalle de implementación de la enumeración Categoría
  </summary>
  <div class="box-content">
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">package</span> com.javhoz.ad.chistes.model;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * Updated by javhoz on 16/01/2025.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * &lt;p&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * Enumeración de categorías de chistes.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * Pueden ser: Any, Misc, Programming, Dark, Pun, Spooky, Christmas
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * Atributo: nombre, de tipo cadena.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">enum</span> Categoria {
</span></span><span style="display:flex;"><span>    ANY(<span style="color:#e6db74">&#34;Any&#34;</span>),
</span></span><span style="display:flex;"><span>    MISC(<span style="color:#e6db74">&#34;Misc&#34;</span>),
</span></span><span style="display:flex;"><span>    PROGRAMMING(<span style="color:#e6db74">&#34;Programming&#34;</span>),
</span></span><span style="display:flex;"><span>    DARK(<span style="color:#e6db74">&#34;Dark&#34;</span>),
</span></span><span style="display:flex;"><span>    PUN(<span style="color:#e6db74">&#34;Pun&#34;</span>),
</span></span><span style="display:flex;"><span>    SPOOKY(<span style="color:#e6db74">&#34;Spooky&#34;</span>),
</span></span><span style="display:flex;"><span>    CHRISTMAS(<span style="color:#e6db74">&#34;Christmas&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">final</span> String nombre;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    Categoria(String nombre) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">nombre</span> <span style="color:#f92672">=</span> nombre;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">getNombre</span>() {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> nombre;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * Devuelve la categoría a partir de su nombre.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     *
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * @param nombre Nombre de la categoría
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * @return Categoría
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> Categoria <span style="color:#a6e22e">getCategoria</span>(String nombre) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span> (Categoria c : Categoria.<span style="color:#a6e22e">values</span>()) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> (c.<span style="color:#a6e22e">getNombre</span>().<span style="color:#a6e22e">equals</span>(nombre)) {
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">return</span> c;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">null</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * Sobreescribe el método toString() para que devuelva el nombre de la categoría.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     *
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * @return Nombre de la categoría
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * @see java.lang.Enum#toString()
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">toString</span>() {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> nombre;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
  </div>
</details>
<p><strong>B)</strong> La <strong>enumeración <code>TipoChiste</code></strong> contiene los siguientes valores:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">enum</span> TipoChiste {
</span></span><span style="display:flex;"><span>    SINGLE(<span style="color:#e6db74">&#34;single&#34;</span>),
</span></span><span style="display:flex;"><span>    TWOPART(<span style="color:#e6db74">&#34;twopart&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//...</span>
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>

<details class=" box cstyle notices transparent expand">
  <summary class="box-label">
    <i class="expander-icon fa-fw fas fa-chevron-right"></i> 
    Detalle de implementación de la enumeración TipoChiste
  </summary>
  <div class="box-content">
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">package</span> com.javhoz.ad.chistes.model;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * Updated by javhoz on 16/01/2025.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * Enumeración de tipos de chistes.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * Pueden ser: single, twopart
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * Atributo: String nombre.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * Constructor: TipoChiste(String nombre)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @see Categoria
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @see Flag
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @see Chiste
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> *
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">enum</span> TipoChiste {
</span></span><span style="display:flex;"><span>    SINGLE(<span style="color:#e6db74">&#34;single&#34;</span>),
</span></span><span style="display:flex;"><span>    TWOPART(<span style="color:#e6db74">&#34;twopart&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">final</span> String nombre;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    TipoChiste(String nombre) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">nombre</span> <span style="color:#f92672">=</span> nombre;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">getNombre</span>() {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> nombre;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * Devuelve el tipo de chiste a partir de su nombre.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * @param nombre Nombre del tipo de chiste
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * @return Tipo de chiste
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> TipoChiste <span style="color:#a6e22e">getTipoChiste</span>(String nombre) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span> (TipoChiste tc : TipoChiste.<span style="color:#a6e22e">values</span>()) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> (tc.<span style="color:#a6e22e">getNombre</span>().<span style="color:#a6e22e">equals</span>(nombre)) {
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">return</span> tc;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">null</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * Sobreescribe el método toString() para que devuelva el nombre del tipo de chiste.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * @return Nombre del tipo de chiste
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * @see java.lang.Enum#toString()
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">toString</span>() {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> nombre;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
  </div>
</details>
<p><strong>C)</strong> La <strong>enumeración <code>Flag</code></strong> contiene los siguientes valores:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>Flag es una enumeración con los siguientes valores:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">```</span>java
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">enum</span> Flag {
</span></span><span style="display:flex;"><span>    EXPLICIT(<span style="color:#e6db74">&#34;Explicit&#34;</span>),
</span></span><span style="display:flex;"><span>    NSFW(<span style="color:#e6db74">&#34;NSFW&#34;</span>),
</span></span><span style="display:flex;"><span>    RELIGION(<span style="color:#e6db74">&#34;Religion&#34;</span>),
</span></span><span style="display:flex;"><span>    POLITICAL(<span style="color:#e6db74">&#34;Political&#34;</span>),
</span></span><span style="display:flex;"><span>    RACIST(<span style="color:#e6db74">&#34;Racist&#34;</span>),
</span></span><span style="display:flex;"><span>    SEXIST(<span style="color:#e6db74">&#34;Sexist&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//...</span>
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>

<details class=" box cstyle notices transparent expand">
  <summary class="box-label">
    <i class="expander-icon fa-fw fas fa-chevron-right"></i> 
    Detalle de implementación de la enumeración Flag
  </summary>
  <div class="box-content">
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">package</span> com.javhoz.ad.chistes.model;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * Updated by javhoz on 16/01/2025.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * Enumeración de banderas de chistes.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * Pueden ser: NSFW, RELIGION, POLITICAL, RACIST, SEXIST
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * Atributo: String nombre.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * Constructor: Flag(String nombre)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @see Categoria
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @link &lt;a href=&#34;https://v2.jokeapi.dev/flags&#34;&gt;https://v2.jokeapi.dev/flags&lt;/a&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">enum</span> Flag {
</span></span><span style="display:flex;"><span>    EXPLICIT(<span style="color:#e6db74">&#34;Explicit&#34;</span>),
</span></span><span style="display:flex;"><span>    NSFW(<span style="color:#e6db74">&#34;NSFW&#34;</span>),
</span></span><span style="display:flex;"><span>    RELIGION(<span style="color:#e6db74">&#34;Religion&#34;</span>),
</span></span><span style="display:flex;"><span>    POLITICAL(<span style="color:#e6db74">&#34;Political&#34;</span>),
</span></span><span style="display:flex;"><span>    RACIST(<span style="color:#e6db74">&#34;Racist&#34;</span>),
</span></span><span style="display:flex;"><span>    SEXIST(<span style="color:#e6db74">&#34;Sexist&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">final</span> String nombre;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    Flag(String nombre) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">nombre</span> <span style="color:#f92672">=</span> nombre;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">getNombre</span>() {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> nombre;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * Devuelve la bandera a partir de su nombre.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * @param nombre Nombre de la bandera
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * @return Bandera
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> Flag <span style="color:#a6e22e">getFlag</span>(String nombre) {
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Con expresiones lambda:</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> java.<span style="color:#a6e22e">util</span>.<span style="color:#a6e22e">Arrays</span>.<span style="color:#a6e22e">stream</span>(Flag.<span style="color:#a6e22e">values</span>()).<span style="color:#a6e22e">filter</span>(f <span style="color:#f92672">-&gt;</span> f.<span style="color:#a6e22e">getNombre</span>().<span style="color:#a6e22e">equals</span>(nombre)).<span style="color:#a6e22e">findFirst</span>()
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">orElse</span>(<span style="color:#66d9ef">null</span>);
</span></span><span style="display:flex;"><span><span style="color:#75715e">/*        // Con un bucle for:
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//        for (Flag f : Flag.values()) {
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//            if (f.getNombre().equals(nombre)) {
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//                return f;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//            }
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//        }
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//        return null;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">        */</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * Sobreescribe el método toString() para que devuelva el nombre de la bandera.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * @return Nombre de la bandera
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * @see java.lang.Enum#toString()
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">toString</span>() {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> nombre;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
  </div>
</details>
<p><strong>D)</strong> <strong><code>Lenguaje</code> es una enumeración</strong> con los siguientes valores:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">enum</span> Lenguaje {
</span></span><span style="display:flex;"><span>    CS(<span style="color:#e6db74">&#34;cs&#34;</span>),
</span></span><span style="display:flex;"><span>    DE(<span style="color:#e6db74">&#34;de&#34;</span>),
</span></span><span style="display:flex;"><span>    EN(<span style="color:#e6db74">&#34;en&#34;</span>),
</span></span><span style="display:flex;"><span>    ES(<span style="color:#e6db74">&#34;es&#34;</span>),
</span></span><span style="display:flex;"><span>    FR(<span style="color:#e6db74">&#34;fr&#34;</span>),
</span></span><span style="display:flex;"><span>    PT(<span style="color:#e6db74">&#34;pt&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//...</span>
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>

<details class=" box cstyle notices transparent expand">
  <summary class="box-label">
    <i class="expander-icon fa-fw fas fa-chevron-right"></i> 
    Detalle de implementación de la enumeración Lenguaje
  </summary>
  <div class="box-content">
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">package</span> com.javhoz.ad.chistes.model;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.util.Arrays;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * Lenguajes admitidos por la API de chistes.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> *  * &#34;jokeLanguages&#34;: [
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> *  *         &#34;cs&#34;,
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> *  *         &#34;de&#34;,
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> *  *         &#34;en&#34;,
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> *  *         &#34;es&#34;,
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> *  *         &#34;fr&#34;,
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> *  *         &#34;pt&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> *  *     ]
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> *  Atributo con el nombre del lenguaje del chiste.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> *
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @see &lt;a href=&#34;https://sv443.net/jokeapi/v2/#languages&#34;&gt;https://sv443.net/jokeapi/v2/#languages&lt;/a&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">enum</span> Lenguaje {
</span></span><span style="display:flex;"><span>    CS(<span style="color:#e6db74">&#34;cs&#34;</span>),
</span></span><span style="display:flex;"><span>    DE(<span style="color:#e6db74">&#34;de&#34;</span>),
</span></span><span style="display:flex;"><span>    EN(<span style="color:#e6db74">&#34;en&#34;</span>),
</span></span><span style="display:flex;"><span>    ES(<span style="color:#e6db74">&#34;es&#34;</span>),
</span></span><span style="display:flex;"><span>    FR(<span style="color:#e6db74">&#34;fr&#34;</span>),
</span></span><span style="display:flex;"><span>    PT(<span style="color:#e6db74">&#34;pt&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">final</span> String lenguaje;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * Constructor de la clase Lenguajes.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * @param lenguaje Nombre del lenguaje
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     */</span>
</span></span><span style="display:flex;"><span>    Lenguaje(String lenguaje) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">lenguaje</span> <span style="color:#f92672">=</span> lenguaje;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * Devuelve el nombre del lenguaje.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * @return Nombre del lenguaje
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">getLenguaje</span>() {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> lenguaje;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> Lenguaje <span style="color:#a6e22e">getLenguaje</span>(String lenguaje) {
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Con expresiones lambda:</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> Arrays.<span style="color:#a6e22e">stream</span>(Lenguaje.<span style="color:#a6e22e">values</span>()).<span style="color:#a6e22e">filter</span>(l <span style="color:#f92672">-&gt;</span> l.<span style="color:#a6e22e">getLenguaje</span>().<span style="color:#a6e22e">equals</span>(lenguaje)).<span style="color:#a6e22e">findFirst</span>()
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">orElse</span>(<span style="color:#66d9ef">null</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">/* // Con un bucle for:
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//        for (Lenguaje l : Lenguaje.values()) {
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//            if (l.getLenguaje().equals(lenguaje)) {
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//                return l;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//            }
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//        }
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//         return null;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">*/</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">toString</span>() {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> lenguaje;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
  </div>
</details>
<h4 id="clases">Clases</h4>
<p>A) La <strong>clase <code>Chiste</code></strong> tiene los siguientes atributos:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Chiste</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">int</span> id;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> Categoria categoria;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> TipoChiste tipo;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">final</span> List<span style="color:#f92672">&lt;</span>Flag<span style="color:#f92672">&gt;</span> banderas;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> String chiste;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> String respuesta;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> Lenguaje lenguaje;
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//...</span>
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>

<details class=" box cstyle notices transparent expand">
  <summary class="box-label">
    <i class="expander-icon fa-fw fas fa-chevron-right"></i> 
    Detalle de implementación de la clase Chiste
  </summary>
  <div class="box-content">
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">package</span> com.javhoz.ad.chistes.model;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> jakarta.persistence.*;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.util.ArrayList;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.util.List;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.util.Objects;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * Updated by javhoz on 16/01/2025.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * &lt;p&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * Clase que representa un chiste.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * Atributos: id de tipo int, categoria de tipo Categoria, idiomade tipo Lenguaje, tipo de TipoChiste,
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> *  List&lt;Flag&gt; banderas, String chiste, String respuesta.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Chiste</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">int</span> id;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> Categoria categoria;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> TipoChiste tipo;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">final</span> List<span style="color:#f92672">&lt;</span>Flag<span style="color:#f92672">&gt;</span> banderas;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> String chiste;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> String respuesta;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> Lenguaje lenguaje;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * Constructor de la clase Chiste.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * @param id Identificador del chiste
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * @param categoria Categoría del chiste
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * @param idioma Idioma del chiste
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * @param tipo Tipo del chiste
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * @param chiste Chiste
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * @param respuesta Respuesta del chiste
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">Chiste</span>(<span style="color:#66d9ef">int</span> id, Categoria categoria, String idioma, TipoChiste tipo, String chiste, String respuesta) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">id</span> <span style="color:#f92672">=</span> id;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">categoria</span> <span style="color:#f92672">=</span> categoria;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">tipo</span> <span style="color:#f92672">=</span> tipo;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">chiste</span> <span style="color:#f92672">=</span> chiste;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">respuesta</span> <span style="color:#f92672">=</span> respuesta;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">banderas</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ArrayList<span style="color:#f92672">&lt;&gt;</span>();
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">lenguaje</span> <span style="color:#f92672">=</span> Lenguaje.<span style="color:#a6e22e">getLenguaje</span>(idioma);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * Constructor por defecto de la clase Chiste.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     *
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">Chiste</span>() {
</span></span><span style="display:flex;"><span><span style="color:#75715e">//        this.id = 0;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">categoria</span> <span style="color:#f92672">=</span> Categoria.<span style="color:#a6e22e">ANY</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">lenguaje</span> <span style="color:#f92672">=</span> Lenguaje.<span style="color:#a6e22e">EN</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">tipo</span> <span style="color:#f92672">=</span> TipoChiste.<span style="color:#a6e22e">SINGLE</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">chiste</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&#34;</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">respuesta</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&#34;</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">banderas</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ArrayList<span style="color:#f92672">&lt;&gt;</span>();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * Devuelve el identificador del chiste.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * @return Identificador del chiste
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">getId</span>() {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> id;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * Establece el identificador del chiste.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * @param id Identificador del chiste
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">setId</span>(<span style="color:#66d9ef">int</span> id) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">id</span> <span style="color:#f92672">=</span> id;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * Devuelve la categoría del chiste.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * @return Categoría del chiste
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> Categoria <span style="color:#a6e22e">getCategoria</span>() {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> categoria;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">getCategoriaString</span>() {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> categoria.<span style="color:#a6e22e">getNombre</span>();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * Establece la categoría del chiste.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * @param categoria Categoría del chiste
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">setCategoria</span>(Categoria categoria) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">categoria</span> <span style="color:#f92672">=</span> categoria;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">setCategoria</span>(String categoria) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">categoria</span> <span style="color:#f92672">=</span> Categoria.<span style="color:#a6e22e">getCategoria</span>(categoria);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> Lenguaje <span style="color:#a6e22e">getLenguaje</span>() {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> lenguaje;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">getLenguajeString</span>() {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> lenguaje.<span style="color:#a6e22e">getLenguaje</span>();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">setLenguaje</span>(String lenguaje) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">lenguaje</span> <span style="color:#f92672">=</span> Lenguaje.<span style="color:#a6e22e">getLenguaje</span>(lenguaje);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">setLenguaje</span>(Lenguaje lenguaje) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">lenguaje</span> <span style="color:#f92672">=</span> lenguaje;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * Devuelve el tipo del chiste.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * @return Tipo del chiste
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> TipoChiste <span style="color:#a6e22e">getTipo</span>() {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> tipo;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">getTipoString</span>() {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> tipo.<span style="color:#a6e22e">getNombre</span>();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * Establece el tipo del chiste.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * @param tipo Tipo del chiste
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">setTipo</span>(TipoChiste tipo) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">tipo</span> <span style="color:#f92672">=</span> tipo;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">setTipo</span>(String tipo) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">tipo</span> <span style="color:#f92672">=</span> TipoChiste.<span style="color:#a6e22e">getTipoChiste</span>(tipo);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * Devuelve las banderas del chiste.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * @return Banderas del chiste
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> List<span style="color:#f92672">&lt;</span>Flag<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">getBanderas</span>() {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> banderas;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * Añade una bandera al chiste.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * @param flag Bandera a añadir
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">addFlag</span>(Flag flag) {
</span></span><span style="display:flex;"><span>        banderas.<span style="color:#a6e22e">add</span>(flag);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">boolean</span> <span style="color:#a6e22e">removeFlag</span>(Flag bandera) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> banderas.<span style="color:#a6e22e">remove</span>(bandera);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * Si el chiste tiene esa bandera, devuelve true.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * @param bandera Bandera a comprobar
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * @return  true si el chiste tiene esa bandera, false en caso contrario
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">boolean</span> <span style="color:#a6e22e">containsFlag</span>(Flag bandera) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> banderas.<span style="color:#a6e22e">contains</span>(bandera);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * Devuelve el chiste como cadena de caracteres.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * @return Chiste como String
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">getChiste</span>() {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> chiste;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * Establece el chiste.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * @param chiste Chiste
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">setChiste</span>(String chiste) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">chiste</span> <span style="color:#f92672">=</span> chiste;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * Devuelve la respuesta del chiste.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * @return Respuesta del chiste
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">getRespuesta</span>() {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> respuesta;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * Establece la respuesta del chiste.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * @param respuesta Respuesta del chiste
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">setRespuesta</span>(String respuesta) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">respuesta</span> <span style="color:#f92672">=</span> respuesta;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">boolean</span> <span style="color:#a6e22e">equals</span>(Object o) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (<span style="color:#66d9ef">this</span> <span style="color:#f92672">==</span> o) <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">true</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (o <span style="color:#f92672">==</span> <span style="color:#66d9ef">null</span> <span style="color:#f92672">||</span> getClass() <span style="color:#f92672">!=</span> o.<span style="color:#a6e22e">getClass</span>()) <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">false</span>;
</span></span><span style="display:flex;"><span>        Chiste chiste <span style="color:#f92672">=</span> (Chiste) o;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> id <span style="color:#f92672">==</span> chiste.<span style="color:#a6e22e">id</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">hashCode</span>() {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> Objects.<span style="color:#a6e22e">hash</span>(id);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * Sobrescritura del método toString() para que devuelva el chiste.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * Lo devuelve empleando un StringBuilder y por medio del método forEach() para recorrer la lista de banderas.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * @return Chiste como String
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">toString</span>() {
</span></span><span style="display:flex;"><span>        StringBuilder sb <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> StringBuilder();
</span></span><span style="display:flex;"><span>        sb.<span style="color:#a6e22e">append</span>(<span style="color:#e6db74">&#34;Chiste: &#34;</span>).<span style="color:#a6e22e">append</span>(chiste).<span style="color:#a6e22e">append</span>(System.<span style="color:#a6e22e">lineSeparator</span>());
</span></span><span style="display:flex;"><span>        sb.<span style="color:#a6e22e">append</span>(<span style="color:#e6db74">&#34;Respuesta: &#34;</span>).<span style="color:#a6e22e">append</span>(respuesta).<span style="color:#a6e22e">append</span>(System.<span style="color:#a6e22e">lineSeparator</span>());
</span></span><span style="display:flex;"><span>        sb.<span style="color:#a6e22e">append</span>(<span style="color:#e6db74">&#34;Categoría: &#34;</span>).<span style="color:#a6e22e">append</span>(categoria).<span style="color:#a6e22e">append</span>(System.<span style="color:#a6e22e">lineSeparator</span>());
</span></span><span style="display:flex;"><span>        sb.<span style="color:#a6e22e">append</span>(<span style="color:#e6db74">&#34;Idioma: &#34;</span>).<span style="color:#a6e22e">append</span>(lenguaje).<span style="color:#a6e22e">append</span>(System.<span style="color:#a6e22e">lineSeparator</span>());
</span></span><span style="display:flex;"><span>        sb.<span style="color:#a6e22e">append</span>(<span style="color:#e6db74">&#34;Tipo: &#34;</span>).<span style="color:#a6e22e">append</span>(tipo).<span style="color:#a6e22e">append</span>(System.<span style="color:#a6e22e">lineSeparator</span>());
</span></span><span style="display:flex;"><span>        sb.<span style="color:#a6e22e">append</span>(<span style="color:#e6db74">&#34;Banderas: &#34;</span>);
</span></span><span style="display:flex;"><span>        banderas.<span style="color:#a6e22e">forEach</span>(b <span style="color:#f92672">-&gt;</span> sb.<span style="color:#a6e22e">append</span>(b).<span style="color:#a6e22e">append</span>(<span style="color:#e6db74">&#34; &#34;</span>));
</span></span><span style="display:flex;"><span>        sb.<span style="color:#a6e22e">append</span>(System.<span style="color:#a6e22e">lineSeparator</span>());
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> sb.<span style="color:#a6e22e">toString</span>();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
  </div>
</details>
<p><strong>B)</strong> El adapter <strong><code>ChisteDeserializer</code></strong>:</p>

<details class=" box cstyle notices transparent expand">
  <summary class="box-label">
    <i class="expander-icon fa-fw fas fa-chevron-right"></i> 
    Detalle de implementación de la clase ChisteDeserializer
  </summary>
  <div class="box-content">
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">package</span> com.javhoz.ad.chistes.model;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> com.google.gson.*;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.lang.reflect.Type;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/*
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">{
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">&#34;error&#34;: false,
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">&#34;category&#34;: &#34;Programming&#34;,
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">&#34;type&#34;: &#34;twopart&#34;,
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">&#34;setup&#34;: &#34;¿Por qué C consigue todas las chicas y Java no tiene ninguna?&#34;,
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">&#34;delivery&#34;: &#34;Porque C no las trata como objetos.&#34;,
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">&#34;flags&#34;: {
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">&#34;nsfw&#34;: false,
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">&#34;religious&#34;: false,
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">&#34;political&#34;: false,
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">&#34;racist&#34;: false,
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">&#34;sexist&#34;: false,
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">&#34;explicit&#34;: false
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">},
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">&#34;safe&#34;: true,
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">&#34;id&#34;: 6,
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">&#34;lang&#34;: &#34;es&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">}
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ChisteDeserializer</span> <span style="color:#66d9ef">implements</span> JsonDeserializer<span style="color:#f92672">&lt;</span>Chiste<span style="color:#f92672">&gt;</span> {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> Chiste <span style="color:#a6e22e">deserialize</span>(JsonElement elemento, Type type,
</span></span><span style="display:flex;"><span>                              JsonDeserializationContext jsonDeserializationContext) <span style="color:#66d9ef">throws</span> JsonParseException {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Comprobación si es un objeto:</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span>elemento.<span style="color:#a6e22e">isJsonObject</span>())
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">null</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Creo un chiste vacío, al que le daré valor a sus atributos:</span>
</span></span><span style="display:flex;"><span>        Chiste chiste <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Chiste();
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Recupero el objeto JSON del chiste</span>
</span></span><span style="display:flex;"><span>        JsonObject jsonChiste <span style="color:#f92672">=</span> elemento.<span style="color:#a6e22e">getAsJsonObject</span>();
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Comprobación de que no hay error en la petición:</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (jsonChiste.<span style="color:#a6e22e">get</span>(<span style="color:#e6db74">&#34;error&#34;</span>) <span style="color:#f92672">!=</span> <span style="color:#66d9ef">null</span> <span style="color:#f92672">&amp;&amp;</span> jsonChiste.<span style="color:#a6e22e">get</span>(<span style="color:#e6db74">&#34;error&#34;</span>).<span style="color:#a6e22e">getAsBoolean</span>()) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">null</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Compruebo que cada elemento del objeto existe y lo asigno al objeto Chiste:</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// La comprobación se hace con el método get() de la clase JsonObject que devuelve</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// un JsonElement. Si es null, no existe el elemento.</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (jsonChiste.<span style="color:#a6e22e">get</span>(<span style="color:#e6db74">&#34;category&#34;</span>) <span style="color:#f92672">!=</span> <span style="color:#66d9ef">null</span>) {
</span></span><span style="display:flex;"><span>            chiste.<span style="color:#a6e22e">setCategoria</span>(jsonChiste.<span style="color:#a6e22e">get</span>(<span style="color:#e6db74">&#34;category&#34;</span>).<span style="color:#a6e22e">getAsString</span>());
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (jsonChiste.<span style="color:#a6e22e">get</span>(<span style="color:#e6db74">&#34;type&#34;</span>) <span style="color:#f92672">!=</span> <span style="color:#66d9ef">null</span>) {
</span></span><span style="display:flex;"><span>            chiste.<span style="color:#a6e22e">setTipo</span>(jsonChiste.<span style="color:#a6e22e">get</span>(<span style="color:#e6db74">&#34;type&#34;</span>).<span style="color:#a6e22e">getAsString</span>());
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// En realidad, dependiendo del tipo de chiste, el setup o el delivery pueden no existir.</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Por lo que podría hacer comprobando el valor de type, pero lo dejo así para que veáis</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// como se puede hacer con el método get() de la clase JsonObject.</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (jsonChiste.<span style="color:#a6e22e">get</span>(<span style="color:#e6db74">&#34;setup&#34;</span>) <span style="color:#f92672">!=</span> <span style="color:#66d9ef">null</span>) {
</span></span><span style="display:flex;"><span>            chiste.<span style="color:#a6e22e">setChiste</span>(jsonChiste.<span style="color:#a6e22e">get</span>(<span style="color:#e6db74">&#34;setup&#34;</span>).<span style="color:#a6e22e">getAsString</span>());
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> (jsonChiste.<span style="color:#a6e22e">get</span>(<span style="color:#e6db74">&#34;delivery&#34;</span>) <span style="color:#f92672">!=</span> <span style="color:#66d9ef">null</span>) {
</span></span><span style="display:flex;"><span>                chiste.<span style="color:#a6e22e">setRespuesta</span>(jsonChiste.<span style="color:#a6e22e">get</span>(<span style="color:#e6db74">&#34;delivery&#34;</span>).<span style="color:#a6e22e">getAsString</span>());
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> (jsonChiste.<span style="color:#a6e22e">get</span>(<span style="color:#e6db74">&#34;joke&#34;</span>) <span style="color:#f92672">!=</span> <span style="color:#66d9ef">null</span>) {
</span></span><span style="display:flex;"><span>            chiste.<span style="color:#a6e22e">setChiste</span>(jsonChiste.<span style="color:#a6e22e">get</span>(<span style="color:#e6db74">&#34;joke&#34;</span>).<span style="color:#a6e22e">getAsString</span>());
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (jsonChiste.<span style="color:#a6e22e">get</span>(<span style="color:#e6db74">&#34;lang&#34;</span>) <span style="color:#f92672">!=</span> <span style="color:#66d9ef">null</span>) {
</span></span><span style="display:flex;"><span>            chiste.<span style="color:#a6e22e">setLenguaje</span>(jsonChiste.<span style="color:#a6e22e">get</span>(<span style="color:#e6db74">&#34;lang&#34;</span>).<span style="color:#a6e22e">getAsString</span>());
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (jsonChiste.<span style="color:#a6e22e">get</span>(<span style="color:#e6db74">&#34;id&#34;</span>) <span style="color:#f92672">!=</span> <span style="color:#66d9ef">null</span>) {
</span></span><span style="display:flex;"><span>            chiste.<span style="color:#a6e22e">setId</span>(jsonChiste.<span style="color:#a6e22e">get</span>(<span style="color:#e6db74">&#34;id&#34;</span>).<span style="color:#a6e22e">getAsInt</span>());
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (jsonChiste.<span style="color:#a6e22e">get</span>(<span style="color:#e6db74">&#34;flags&#34;</span>) <span style="color:#f92672">!=</span> <span style="color:#66d9ef">null</span>) {
</span></span><span style="display:flex;"><span>            JsonObject flags <span style="color:#f92672">=</span> jsonChiste.<span style="color:#a6e22e">get</span>(<span style="color:#e6db74">&#34;flags&#34;</span>).<span style="color:#a6e22e">getAsJsonObject</span>();
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> (flags.<span style="color:#a6e22e">get</span>(<span style="color:#e6db74">&#34;nsfw&#34;</span>).<span style="color:#a6e22e">getAsBoolean</span>()) {
</span></span><span style="display:flex;"><span>                chiste.<span style="color:#a6e22e">addFlag</span>(Flag.<span style="color:#a6e22e">NSFW</span>);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> (flags.<span style="color:#a6e22e">get</span>(<span style="color:#e6db74">&#34;religious&#34;</span>).<span style="color:#a6e22e">getAsBoolean</span>()) {
</span></span><span style="display:flex;"><span>                chiste.<span style="color:#a6e22e">addFlag</span>(Flag.<span style="color:#a6e22e">RELIGION</span>);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> (flags.<span style="color:#a6e22e">get</span>(<span style="color:#e6db74">&#34;political&#34;</span>).<span style="color:#a6e22e">getAsBoolean</span>()) {
</span></span><span style="display:flex;"><span>                chiste.<span style="color:#a6e22e">addFlag</span>(Flag.<span style="color:#a6e22e">POLITICAL</span>);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> (flags.<span style="color:#a6e22e">get</span>(<span style="color:#e6db74">&#34;racist&#34;</span>).<span style="color:#a6e22e">getAsBoolean</span>()) {
</span></span><span style="display:flex;"><span>                chiste.<span style="color:#a6e22e">addFlag</span>(Flag.<span style="color:#a6e22e">RACIST</span>);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> (flags.<span style="color:#a6e22e">get</span>(<span style="color:#e6db74">&#34;sexist&#34;</span>).<span style="color:#a6e22e">getAsBoolean</span>()) {
</span></span><span style="display:flex;"><span>                chiste.<span style="color:#a6e22e">addFlag</span>(Flag.<span style="color:#a6e22e">SEXIST</span>);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> (flags.<span style="color:#a6e22e">get</span>(<span style="color:#e6db74">&#34;explicit&#34;</span>).<span style="color:#a6e22e">getAsBoolean</span>()) {
</span></span><span style="display:flex;"><span>                chiste.<span style="color:#a6e22e">addFlag</span>(Flag.<span style="color:#a6e22e">EXPLICIT</span>);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> chiste;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
  </div>
</details>
<p><strong>C)</strong> La clase <strong><code>ChisteTypeAdapter</code></strong>:</p>

<details class=" box cstyle notices transparent expand">
  <summary class="box-label">
    <i class="expander-icon fa-fw fas fa-chevron-right"></i> 
    Detalle de implementación de la clase ChisteTypeAdapter
  </summary>
  <div class="box-content">
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">package</span> com.javhoz.ad.chistes.model;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> com.google.gson.TypeAdapter;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> com.google.gson.stream.JsonReader;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> com.google.gson.stream.JsonToken;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> com.google.gson.stream.JsonWriter;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.io.IOException;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/*
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">Formato de JSON:
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">{
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">  &#34;id&#34;: 1,
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">  &#34;category&#34;: &#34;Programming&#34;,
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">  &#34;type&#34;: &#34;single&#34;,
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">  &#34;joke&#34;: &#34;Chuck Norris can write multithreaded applications with a single thread.&#34;,
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">  &#34;flags&#34;: {
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">    &#34;nsfw&#34;: false,
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">    &#34;religious&#34;: false,
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">    &#34;political&#34;: false,
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">    &#34;racist&#34;: false,
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">    &#34;sexist&#34;: false
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">  },
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">  &#34;lang&#34;: &#34;en&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> */</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * Updated by javhoz on 16/01/2025.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * Clase que adaptará el tipo Chiste para que pueda ser serializado y deserializado por Gson.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> *
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @see com.google.gson.Gson
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @see com.google.gson.TypeAdapter
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @see com.google.gson.GsonBuilder
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @see com.google.gson.JsonDeserializer
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ChisteTypeAdapter</span> <span style="color:#66d9ef">extends</span> TypeAdapter<span style="color:#f92672">&lt;</span>Chiste<span style="color:#f92672">&gt;</span> {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">write</span>(JsonWriter jsonWriter, Chiste chiste) <span style="color:#66d9ef">throws</span> IOException {
</span></span><span style="display:flex;"><span>        jsonWriter.<span style="color:#a6e22e">beginObject</span>();
</span></span><span style="display:flex;"><span>        jsonWriter.<span style="color:#a6e22e">name</span>(<span style="color:#e6db74">&#34;id&#34;</span>).<span style="color:#a6e22e">value</span>(chiste.<span style="color:#a6e22e">getId</span>());
</span></span><span style="display:flex;"><span>        jsonWriter.<span style="color:#a6e22e">name</span>(<span style="color:#e6db74">&#34;category&#34;</span>).<span style="color:#a6e22e">value</span>(chiste.<span style="color:#a6e22e">getCategoriaString</span>());
</span></span><span style="display:flex;"><span>        jsonWriter.<span style="color:#a6e22e">name</span>(<span style="color:#e6db74">&#34;type&#34;</span>).<span style="color:#a6e22e">value</span>(chiste.<span style="color:#a6e22e">getTipoString</span>());
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (chiste.<span style="color:#a6e22e">getTipo</span>() <span style="color:#f92672">==</span> TipoChiste.<span style="color:#a6e22e">SINGLE</span>) {
</span></span><span style="display:flex;"><span>            jsonWriter.<span style="color:#a6e22e">name</span>(<span style="color:#e6db74">&#34;joke&#34;</span>).<span style="color:#a6e22e">value</span>(chiste.<span style="color:#a6e22e">getChiste</span>());
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>            jsonWriter.<span style="color:#a6e22e">name</span>(<span style="color:#e6db74">&#34;setup&#34;</span>).<span style="color:#a6e22e">value</span>(chiste.<span style="color:#a6e22e">getChiste</span>());
</span></span><span style="display:flex;"><span>            jsonWriter.<span style="color:#a6e22e">name</span>(<span style="color:#e6db74">&#34;delivery&#34;</span>).<span style="color:#a6e22e">value</span>(chiste.<span style="color:#a6e22e">getRespuesta</span>());
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        jsonWriter.<span style="color:#a6e22e">name</span>(<span style="color:#e6db74">&#34;flags&#34;</span>);
</span></span><span style="display:flex;"><span>        jsonWriter.<span style="color:#a6e22e">beginObject</span>();
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Recorremos todas las banderas y asignamos el valor verdadero o falso si el chiste la contiene o no, respectivamente.</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Puede hacerse por medio del método containsFlag() de la clase Chiste o recoger las banderas</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// del chiste e invocar el método contains() de la clase List.</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span> (Flag flag : Flag.<span style="color:#a6e22e">values</span>()) {
</span></span><span style="display:flex;"><span>            jsonWriter.<span style="color:#a6e22e">name</span>(flag.<span style="color:#a6e22e">getNombre</span>().<span style="color:#a6e22e">toLowerCase</span>()).<span style="color:#a6e22e">value</span>(chiste.<span style="color:#a6e22e">containsFlag</span>(flag));
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        jsonWriter.<span style="color:#a6e22e">endObject</span>();
</span></span><span style="display:flex;"><span>        jsonWriter.<span style="color:#a6e22e">name</span>(<span style="color:#e6db74">&#34;lang&#34;</span>).<span style="color:#a6e22e">value</span>(chiste.<span style="color:#a6e22e">getLenguajeString</span>());
</span></span><span style="display:flex;"><span>        jsonWriter.<span style="color:#a6e22e">endObject</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * Método que deserializa un objeto Chiste a partir de un JsonReader.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     *
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * @param reader JsonReader que contiene el objeto Chiste
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * @return Objeto Chiste
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * @throws IOException Si hay un error de E/S
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * @see com.google.gson.stream.JsonReader
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * @see com.google.gson.stream.JsonToken
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> Chiste <span style="color:#a6e22e">read</span>(JsonReader reader) <span style="color:#66d9ef">throws</span> IOException {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(reader.<span style="color:#a6e22e">peek</span>()<span style="color:#f92672">==</span> JsonToken.<span style="color:#a6e22e">NULL</span> <span style="color:#f92672">||</span> reader.<span style="color:#a6e22e">peek</span>()<span style="color:#f92672">!=</span> JsonToken.<span style="color:#a6e22e">BEGIN_OBJECT</span>){
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">// reader.nextNull();</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">null</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        reader.<span style="color:#a6e22e">beginObject</span>();
</span></span><span style="display:flex;"><span>        Chiste chiste <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Chiste();
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">while</span> (reader.<span style="color:#a6e22e">peek</span>() <span style="color:#f92672">!=</span> JsonToken.<span style="color:#a6e22e">END_OBJECT</span>) {
</span></span><span style="display:flex;"><span>            String name <span style="color:#f92672">=</span> reader.<span style="color:#a6e22e">nextName</span>();
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">switch</span> (name) {
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">case</span> <span style="color:#e6db74">&#34;id&#34;</span> <span style="color:#f92672">-&gt;</span> chiste.<span style="color:#a6e22e">setId</span>(reader.<span style="color:#a6e22e">nextInt</span>());
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">case</span> <span style="color:#e6db74">&#34;category&#34;</span> <span style="color:#f92672">-&gt;</span> chiste.<span style="color:#a6e22e">setCategoria</span>(Categoria.<span style="color:#a6e22e">getCategoria</span>(reader.<span style="color:#a6e22e">nextString</span>()));
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">case</span> <span style="color:#e6db74">&#34;type&#34;</span> <span style="color:#f92672">-&gt;</span> chiste.<span style="color:#a6e22e">setTipo</span>(TipoChiste.<span style="color:#a6e22e">getTipoChiste</span>(reader.<span style="color:#a6e22e">nextString</span>()));
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">case</span> <span style="color:#e6db74">&#34;joke&#34;</span>, <span style="color:#e6db74">&#34;setup&#34;</span> <span style="color:#f92672">-&gt;</span> chiste.<span style="color:#a6e22e">setChiste</span>(reader.<span style="color:#a6e22e">nextString</span>());
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">case</span> <span style="color:#e6db74">&#34;delivery&#34;</span> <span style="color:#f92672">-&gt;</span> chiste.<span style="color:#a6e22e">setRespuesta</span>(reader.<span style="color:#a6e22e">nextString</span>());
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">case</span> <span style="color:#e6db74">&#34;flags&#34;</span> <span style="color:#f92672">-&gt;</span> <span style="color:#75715e">// Para hacerlo más modular he puesto el código en un método aparte.</span>
</span></span><span style="display:flex;"><span>                        readFlags(reader, chiste);
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">case</span> <span style="color:#e6db74">&#34;lang&#34;</span> <span style="color:#f92672">-&gt;</span> chiste.<span style="color:#a6e22e">setLenguaje</span>(reader.<span style="color:#a6e22e">nextString</span>());
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">default</span> <span style="color:#f92672">-&gt;</span> reader.<span style="color:#a6e22e">skipValue</span>();
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        reader.<span style="color:#a6e22e">endObject</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> chiste;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">readFlags</span>(JsonReader reader, Chiste chiste) <span style="color:#66d9ef">throws</span> IOException {
</span></span><span style="display:flex;"><span>        reader.<span style="color:#a6e22e">beginObject</span>();
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">while</span> (reader.<span style="color:#a6e22e">peek</span>() <span style="color:#f92672">!=</span> JsonToken.<span style="color:#a6e22e">END_OBJECT</span>) {
</span></span><span style="display:flex;"><span>            String flagName <span style="color:#f92672">=</span> reader.<span style="color:#a6e22e">nextName</span>();
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">switch</span> (flagName) {
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">case</span> <span style="color:#e6db74">&#34;nsfw&#34;</span> <span style="color:#f92672">-&gt;</span> {
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">if</span> (reader.<span style="color:#a6e22e">nextBoolean</span>()) chiste.<span style="color:#a6e22e">addFlag</span>(Flag.<span style="color:#a6e22e">NSFW</span>);
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">case</span> <span style="color:#e6db74">&#34;religious&#34;</span> <span style="color:#f92672">-&gt;</span> {
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">if</span> (reader.<span style="color:#a6e22e">nextBoolean</span>()) chiste.<span style="color:#a6e22e">addFlag</span>(Flag.<span style="color:#a6e22e">RELIGION</span>);
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">case</span> <span style="color:#e6db74">&#34;political&#34;</span> <span style="color:#f92672">-&gt;</span> {
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">if</span> (reader.<span style="color:#a6e22e">nextBoolean</span>())
</span></span><span style="display:flex;"><span>                        chiste.<span style="color:#a6e22e">addFlag</span>(Flag.<span style="color:#a6e22e">POLITICAL</span>);
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">case</span> <span style="color:#e6db74">&#34;racist&#34;</span> <span style="color:#f92672">-&gt;</span> {
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">if</span> (reader.<span style="color:#a6e22e">nextBoolean</span>())
</span></span><span style="display:flex;"><span>                        chiste.<span style="color:#a6e22e">addFlag</span>(Flag.<span style="color:#a6e22e">RACIST</span>);
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">case</span> <span style="color:#e6db74">&#34;sexist&#34;</span> <span style="color:#f92672">-&gt;</span> {
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">if</span> (reader.<span style="color:#a6e22e">nextBoolean</span>())
</span></span><span style="display:flex;"><span>                        chiste.<span style="color:#a6e22e">addFlag</span>(Flag.<span style="color:#a6e22e">SEXIST</span>);
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">case</span> <span style="color:#e6db74">&#34;explicit&#34;</span> <span style="color:#f92672">-&gt;</span> {
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">if</span> (reader.<span style="color:#a6e22e">nextBoolean</span>())
</span></span><span style="display:flex;"><span>                        chiste.<span style="color:#a6e22e">addFlag</span>(Flag.<span style="color:#a6e22e">EXPLICIT</span>);
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">default</span> <span style="color:#f92672">-&gt;</span> reader.<span style="color:#a6e22e">skipValue</span>();
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        reader.<span style="color:#a6e22e">endObject</span>();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
  </div>
</details>
<p><strong>D)</strong> La interface <strong>IChisteDAO</strong> y clase <strong>ChisteDAO</strong> se usa para obtener los chistes de la API:</p>

<details class=" box cstyle notices transparent expand">
  <summary class="box-label">
    <i class="expander-icon fa-fw fas fa-chevron-right"></i> 
    Detalle de implementación de la interfaz IChisteDAO
  </summary>
  <div class="box-content">
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">package</span> com.javhoz.ad.chistes.model;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.io.Writer;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">interface</span> <span style="color:#a6e22e">IChisteDAO</span> {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    String <span style="color:#a6e22e">getRandomJokeAsString</span>();
</span></span><span style="display:flex;"><span>    String <span style="color:#a6e22e">getJokeAsString</span>(String categoria, String<span style="color:#f92672">[]</span> tipo, String<span style="color:#f92672">[]</span> banderas);
</span></span><span style="display:flex;"><span>    String <span style="color:#a6e22e">getJokeAsString</span>(String categoria, String<span style="color:#f92672">[]</span> tipo, String<span style="color:#f92672">[]</span> banderas, String idioma);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    Chiste <span style="color:#a6e22e">getRandomJoke</span>();
</span></span><span style="display:flex;"><span>    Chiste <span style="color:#a6e22e">getJoke</span>(String categoria, String<span style="color:#f92672">[]</span> tipo, String<span style="color:#f92672">[]</span> banderas);
</span></span><span style="display:flex;"><span>    Chiste <span style="color:#a6e22e">getJoke</span>(String categoria, String<span style="color:#f92672">[]</span> tipo, String<span style="color:#f92672">[]</span> banderas, String idioma);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    Chiste <span style="color:#a6e22e">getJokeById</span>(<span style="color:#66d9ef">int</span> id);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">saveJokeAsJson</span>(Chiste chiste, Writer writer);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
  </div>
</details>
<p><em>Podrías realizar mejoras en el código, como la gestión de excepciones, la comprobación de valores nulos, la simplificación de código, etc.</em></p>

<details class=" box cstyle notices transparent expand">
  <summary class="box-label">
    <i class="expander-icon fa-fw fas fa-chevron-right"></i> 
    Detalle de implementación de la clase ChisteDAO
  </summary>
  <div class="box-content">
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">package</span> com.javhoz.ad.chistes.model;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> com.google.gson.Gson;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> com.google.gson.GsonBuilder;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.io.BufferedReader;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.io.IOException;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.io.InputStreamReader;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.io.Writer;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.net.MalformedURLException;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.net.URI;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.net.URISyntaxException;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.util.Arrays;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.util.Objects;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * Created by Pepe Calo on 07/11/2023
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * Implementación de la interfaz IChisteDAO que consulta un chiste en un archivo Json
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * mediante la librería Gson.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * La API de chistes utilizada es:
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * &lt;a href=&#34;https://v2.jokeapi.dev/joke/&#34;&gt;...&lt;/a&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> *
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @see IChisteDAO
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @see Chiste
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @see Gson
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @see GsonBuilder
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @see com.google.gson.JsonObject
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @see com.google.gson.JsonParser
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ChisteDAO</span> <span style="color:#66d9ef">implements</span> IChisteDAO {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">final</span> Gson gson;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// https://v2.jokeapi.dev/joke/Programming,Miscellaneous?blacklistFlags=nsfw,religious</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">final</span> String BASE_URL <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;https://v2.jokeapi.dev/joke/&#34;</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">final</span> String ENDPOINT <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;?format=json&#34;</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">final</span> <span style="color:#66d9ef">int</span> NO_ID <span style="color:#f92672">=</span> 0;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">final</span> String SINGLE <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;single&#34;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * Constructor de la clase ChisteDAO.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * Si deseas emplear las clases ChisteSerializer y ChisteDeserializer, debes comentar la línea con ChisteTypeAdapter
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * y no comentar las de los otros dos adaptadores.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">ChisteDAO</span>() {
</span></span><span style="display:flex;"><span>        gson <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> GsonBuilder().<span style="color:#a6e22e">setPrettyPrinting</span>()
</span></span><span style="display:flex;"><span><span style="color:#75715e">//                .registerTypeAdapter(Chiste.class, new ChisteDeserializer())</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//                .registerTypeAdapter(Chiste.class, new ChisteSerializer())</span>
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">registerTypeAdapter</span>(Chiste.<span style="color:#a6e22e">class</span>, <span style="color:#66d9ef">new</span> ChisteTypeAdapter())
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">create</span>();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> String <span style="color:#a6e22e">getURL</span>(String categoria, String<span style="color:#f92672">[]</span> tipo, String<span style="color:#f92672">[]</span> banderas, String idioma, <span style="color:#66d9ef">int</span> id) {
</span></span><span style="display:flex;"><span>        String url <span style="color:#f92672">=</span> BASE_URL <span style="color:#f92672">+</span> categoria <span style="color:#f92672">+</span> ENDPOINT;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (tipo <span style="color:#f92672">!=</span> <span style="color:#66d9ef">null</span> <span style="color:#f92672">&amp;&amp;</span> tipo.<span style="color:#a6e22e">length</span> <span style="color:#f92672">&gt;</span> 0) {
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">// Concateno los elementos no nulos media stream de un array de String. En el caso de que no haya ninguno, devuelvo un Optional vacío.</span>
</span></span><span style="display:flex;"><span>            String tipos <span style="color:#f92672">=</span> Arrays.<span style="color:#a6e22e">stream</span>(tipo).<span style="color:#a6e22e">filter</span>(Objects::nonNull).<span style="color:#a6e22e">reduce</span>((s, s2) <span style="color:#f92672">-&gt;</span> s <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;,&#34;</span> <span style="color:#f92672">+</span> s2).<span style="color:#a6e22e">orElse</span>(<span style="color:#66d9ef">null</span>);
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span>(tipos<span style="color:#f92672">!=</span><span style="color:#66d9ef">null</span> <span style="color:#f92672">&amp;&amp;</span> <span style="color:#f92672">!</span>tipos.<span style="color:#a6e22e">isEmpty</span>()){
</span></span><span style="display:flex;"><span>                url <span style="color:#f92672">+=</span> <span style="color:#e6db74">&#34;&amp;type=&#34;</span> <span style="color:#f92672">+</span> tipos;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (banderas <span style="color:#f92672">!=</span> <span style="color:#66d9ef">null</span> <span style="color:#f92672">&amp;&amp;</span> banderas.<span style="color:#a6e22e">length</span> <span style="color:#f92672">&gt;</span> 0) {
</span></span><span style="display:flex;"><span>            String flags <span style="color:#f92672">=</span> Arrays.<span style="color:#a6e22e">stream</span>(banderas).<span style="color:#a6e22e">filter</span>(Objects::nonNull).<span style="color:#a6e22e">reduce</span>((s, s2) <span style="color:#f92672">-&gt;</span> s <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;,&#34;</span> <span style="color:#f92672">+</span> s2).<span style="color:#a6e22e">orElse</span>(<span style="color:#66d9ef">null</span>);
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span>(flags<span style="color:#f92672">!=</span><span style="color:#66d9ef">null</span> <span style="color:#f92672">&amp;&amp;</span> <span style="color:#f92672">!</span>flags.<span style="color:#a6e22e">isEmpty</span>()){
</span></span><span style="display:flex;"><span>                url <span style="color:#f92672">+=</span> <span style="color:#e6db74">&#34;&amp;blacklistFlags=&#34;</span> <span style="color:#f92672">+</span> flags;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (idioma <span style="color:#f92672">!=</span> <span style="color:#66d9ef">null</span> <span style="color:#f92672">&amp;&amp;</span> <span style="color:#f92672">!</span>idioma.<span style="color:#a6e22e">isEmpty</span>()) {
</span></span><span style="display:flex;"><span>            url <span style="color:#f92672">+=</span> <span style="color:#e6db74">&#34;&amp;lang=&#34;</span> <span style="color:#f92672">+</span> idioma;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (id <span style="color:#f92672">&gt;</span> 0) {
</span></span><span style="display:flex;"><span>            url <span style="color:#f92672">+=</span> <span style="color:#e6db74">&#34;&amp;idRange=&#34;</span> <span style="color:#f92672">+</span> id;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;url = &#34;</span> <span style="color:#f92672">+</span> url);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> url;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> Chiste <span style="color:#a6e22e">getJoke</span>(String url) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">try</span> (BufferedReader is <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> BufferedReader(<span style="color:#66d9ef">new</span> InputStreamReader(<span style="color:#66d9ef">new</span> URI(url).<span style="color:#a6e22e">toURL</span>().<span style="color:#a6e22e">openStream</span>()))) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> gson.<span style="color:#a6e22e">fromJson</span>(is, Chiste.<span style="color:#a6e22e">class</span>);
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">catch</span> (MalformedURLException e) {
</span></span><span style="display:flex;"><span>            System.<span style="color:#a6e22e">err</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Error en la URL: &#34;</span> <span style="color:#f92672">+</span> e.<span style="color:#a6e22e">getMessage</span>());
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">catch</span> (IOException e) {
</span></span><span style="display:flex;"><span>            System.<span style="color:#a6e22e">err</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Erro E/S: &#34;</span> <span style="color:#f92672">+</span> e.<span style="color:#a6e22e">getMessage</span>());
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">catch</span> (URISyntaxException e) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">throw</span> <span style="color:#66d9ef">new</span> RuntimeException(e);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">null</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> String <span style="color:#a6e22e">getJokeAsString</span>(String url) {
</span></span><span style="display:flex;"><span>        Chiste chiste <span style="color:#f92672">=</span> getJoke(url);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> (chiste<span style="color:#f92672">!=</span><span style="color:#66d9ef">null</span>) <span style="color:#f92672">?</span> chiste.<span style="color:#a6e22e">getChiste</span>() <span style="color:#f92672">+</span> System.<span style="color:#a6e22e">lineSeparator</span>() <span style="color:#f92672">+</span> chiste.<span style="color:#a6e22e">getRespuesta</span>() : <span style="color:#e6db74">&#34;&#34;</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">getJokeAsString</span>(String categoria, String<span style="color:#f92672">[]</span> tipo, String<span style="color:#f92672">[]</span> banderas) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> getJokeAsString(getURL(categoria, tipo, banderas, <span style="color:#66d9ef">null</span>, NO_ID));
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> Chiste <span style="color:#a6e22e">getJoke</span>(String categoria, String<span style="color:#f92672">[]</span> tipo, String<span style="color:#f92672">[]</span> banderas) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> getJoke(getURL(categoria, tipo, banderas, <span style="color:#66d9ef">null</span>, NO_ID));
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">getJokeAsString</span>(String categoria, String<span style="color:#f92672">[]</span> tipo, String<span style="color:#f92672">[]</span> banderas, String idioma) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> getJokeAsString(getURL(categoria, tipo, banderas, idioma, NO_ID));
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> Chiste <span style="color:#a6e22e">getJoke</span>(String categoria, String<span style="color:#f92672">[]</span> tipo, String<span style="color:#f92672">[]</span> banderas, String idioma) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> getJoke(getURL(categoria, tipo, banderas, idioma, NO_ID));
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> Chiste <span style="color:#a6e22e">getJokeById</span>(<span style="color:#66d9ef">int</span> id) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> getJoke(getURL(<span style="color:#e6db74">&#34;Any&#34;</span>, <span style="color:#66d9ef">null</span>, <span style="color:#66d9ef">null</span>, <span style="color:#66d9ef">null</span>, id));
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">saveJokeAsJson</span>(Chiste chiste, Writer writer) {
</span></span><span style="display:flex;"><span>        gson.<span style="color:#a6e22e">toJson</span>(chiste, writer);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">getRandomJokeAsString</span>() {
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(BASE_URL <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;Any&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> getJokeAsString(BASE_URL <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;Any&#34;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> Chiste <span style="color:#a6e22e">getRandomJoke</span>() {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> getJoke(BASE_URL <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;Any&#34;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
  </div>
</details>
<h4 id="ejercicio">Ejercicio</h4>
<p><strong>Crear una base de datos con JPA</strong> y Hibernate para la aplicación JokeAPI y transfiere todos los datos de JSON a la base de datos.</p>
<p>Añade las dependencias necesarias y el fichero de configuración <code>persistence.xml</code> en el directorio <code>META-INF</code> de <code>src/main/resources</code>:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#75715e">&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;persistence</span> <span style="color:#a6e22e">xmlns=</span><span style="color:#e6db74">&#34;https://jakarta.ee/xml/ns/persistence&#34;</span>
</span></span><span style="display:flex;"><span>             <span style="color:#a6e22e">xmlns:xsi=</span><span style="color:#e6db74">&#34;http://www.w3.org/2001/XMLSchema-instance&#34;</span>
</span></span><span style="display:flex;"><span>             <span style="color:#a6e22e">xsi:schemaLocation=</span><span style="color:#e6db74">&#34;https://jakarta.ee/xml/ns/persistence https://jakarta.ee/xml/ns/persistence/persistence_3_0.xsd&#34;</span>
</span></span><span style="display:flex;"><span>             <span style="color:#a6e22e">version=</span><span style="color:#e6db74">&#34;3.0&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;persistence-unit</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;chistesH2&#34;</span> <span style="color:#a6e22e">transaction-type=</span><span style="color:#e6db74">&#34;RESOURCE_LOCAL&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;provider&gt;</span>org.hibernate.jpa.HibernatePersistenceProvider<span style="color:#f92672">&lt;/provider&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">&lt;!--        &lt;provider&gt;org.eclipse.persistence.jpa.PersistenceProvider&lt;/provider&gt;--&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;exclude-unlisted-classes&gt;</span>false<span style="color:#f92672">&lt;/exclude-unlisted-classes&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;properties&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;property</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;jakarta.persistence.jdbc.url&#34;</span>
</span></span><span style="display:flex;"><span>                      <span style="color:#a6e22e">value=</span><span style="color:#e6db74">&#34;jdbc:h2:RutaABaseDatos;DB_CLOSE_ON_EXIT=TRUE;DATABASE_TO_UPPER=FALSE;FILE_LOCK=NO&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;property</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;jakarta.persistence.jdbc.user&#34;</span> <span style="color:#a6e22e">value=</span><span style="color:#e6db74">&#34;&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;property</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;jakarta.persistence.jdbc.password&#34;</span> <span style="color:#a6e22e">value=</span><span style="color:#e6db74">&#34;&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;property</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;jakarta.persistence.jdbc.driver&#34;</span> <span style="color:#a6e22e">value=</span><span style="color:#e6db74">&#34;org.h2.Driver&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">&lt;!-- Automáticamente, genera el esquema de la base de datos --&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;property</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;jakarta.persistence.schema-generation.database.action&#34;</span> <span style="color:#a6e22e">value=</span><span style="color:#e6db74">&#34;drop-and-create&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">&lt;!-- Muestra por pantalla las sentencias SQL --&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;property</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;hibernate.show_sql&#34;</span> <span style="color:#a6e22e">value=</span><span style="color:#e6db74">&#34;false&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;property</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;hibernate.format_sql&#34;</span> <span style="color:#a6e22e">value=</span><span style="color:#e6db74">&#34;true&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;property</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;hibernate.highlight_sql&#34;</span> <span style="color:#a6e22e">value=</span><span style="color:#e6db74">&#34;true&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;property</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;hibernate.dialect&#34;</span> <span style="color:#a6e22e">value=</span><span style="color:#e6db74">&#34;org.hibernate.dialect.H2Dialect&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;/properties&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;/persistence-unit&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/persistence&gt;</span></span></span></code></pre></div>
<p>Para ello, crea las siguientes clases:</p>
<p>A) <strong>ChisteJpaManager</strong> que empleando el patrón Singleton, gestione la creación de la factoría de entidades y el EntityManager.</p>

<details class=" box cstyle notices transparent expand">
  <summary class="box-label">
    <i class="expander-icon fa-fw fas fa-chevron-right"></i> 
    Solución de ChisteJpaManager
  </summary>
  <div class="box-content">
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">package</span> com.javhoz.ad.chistes.model;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> jakarta.persistence.EntityManager;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> jakarta.persistence.EntityManagerFactory;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> jakarta.persistence.Persistence;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.util.HashMap;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.util.Map;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import static</span> com.javhoz.ad.chistes.model.ChisteLogger.LOG;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ChisteJpaManager</span> {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">final</span> String BIBLIOTECA_H2 <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;chistesH2&#34;</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">final</span> String BIBLIOTECA_POSTGRES <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;chistesPostgres&#34;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">final</span> Map<span style="color:#f92672">&lt;</span>String, EntityManagerFactory<span style="color:#f92672">&gt;</span> instancies <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> HashMap<span style="color:#f92672">&lt;&gt;</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#a6e22e">ChisteJpaManager</span>() {
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">boolean</span> <span style="color:#a6e22e">isEntityManagerFactoryClosed</span>(String unidadPersistencia) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#f92672">!</span>instancies.<span style="color:#a6e22e">containsKey</span>(unidadPersistencia) <span style="color:#f92672">||</span> instancies.<span style="color:#a6e22e">get</span>(unidadPersistencia) <span style="color:#f92672">==</span> <span style="color:#66d9ef">null</span> <span style="color:#f92672">||</span>
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">!</span>instancies.<span style="color:#a6e22e">get</span>(unidadPersistencia).<span style="color:#a6e22e">isOpen</span>();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> EntityManagerFactory <span style="color:#a6e22e">getEntityManagerFactory</span>(String unidadPersistencia) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (isEntityManagerFactoryClosed(unidadPersistencia)) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">synchronized</span> (ChisteJpaManager.<span style="color:#a6e22e">class</span>) {
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">if</span> (isEntityManagerFactoryClosed(unidadPersistencia)) {
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">try</span> {
</span></span><span style="display:flex;"><span>                        instancies.<span style="color:#a6e22e">put</span>(unidadPersistencia, Persistence.<span style="color:#a6e22e">createEntityManagerFactory</span>(unidadPersistencia));
</span></span><span style="display:flex;"><span>                    } <span style="color:#66d9ef">catch</span> (Exception e) {
</span></span><span style="display:flex;"><span>                        LOG.<span style="color:#a6e22e">error</span>(<span style="color:#e6db74">&#34;Erro ó crear a unidade de persistencia &#34;</span> <span style="color:#f92672">+</span> unidadPersistencia <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>                                <span style="color:#e6db74">&#34;: &#34;</span> <span style="color:#f92672">+</span> e.<span style="color:#a6e22e">getMessage</span>());
</span></span><span style="display:flex;"><span>                    }
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> instancies.<span style="color:#a6e22e">get</span>(unidadPersistencia);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> EntityManager <span style="color:#a6e22e">getEntityManager</span>(String persistenceUnitName) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> getEntityManagerFactory(persistenceUnitName).<span style="color:#a6e22e">createEntityManager</span>();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">close</span>(String persistenceUnitName) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (instancies.<span style="color:#a6e22e">containsKey</span>(persistenceUnitName)) {
</span></span><span style="display:flex;"><span>            instancies.<span style="color:#a6e22e">get</span>(persistenceUnitName).<span style="color:#a6e22e">close</span>();
</span></span><span style="display:flex;"><span>            instancies.<span style="color:#a6e22e">remove</span>(persistenceUnitName);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
  </div>
</details>
<p>B) <strong>Chiste</strong> que emplea JPA para mapear la clase Chiste con la tabla Chiste de la base de datos.</p>

<details class=" box cstyle notices transparent expand">
  <summary class="box-label">
    <i class="expander-icon fa-fw fas fa-chevron-right"></i> 
    Solución de Chiste
  </summary>
  <div class="box-content">
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">package</span> com.javhoz.ad.chistes.model;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> jakarta.persistence.*;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.util.ArrayList;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@Entity</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Chiste</span> <span style="color:#66d9ef">implements</span> java.<span style="color:#a6e22e">io</span>.<span style="color:#a6e22e">Serializable</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Id</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Column</span>(name <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;idChiste&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">int</span> id;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> Categoria categoria;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> TipoChiste tipo;
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Como se trata de una relación muchos a muchos, se emplea la anotación @ElementCollection</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// H2 admite el tipo de dato Array de enteros (TINYINT ARRAY), prueba a no poner la anotación @ElementCollection ni @CollectionTable</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@ElementCollection</span> <span style="color:#75715e">// Para que se cree una tabla intermedia</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Enumerated</span>(EnumType.<span style="color:#a6e22e">STRING</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@CollectionTable</span>(name <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;FlagsChiste&#34;</span>, joinColumns <span style="color:#f92672">=</span> <span style="color:#a6e22e">@JoinColumn</span>(name <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;idChiste&#34;</span>))
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">final</span> List<span style="color:#f92672">&lt;</span>Flag<span style="color:#f92672">&gt;</span> banderas;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> String chiste;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> String respuesta;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> Lenguaje lenguaje;
</span></span><span style="display:flex;"><span><span style="color:#75715e">//...</span>
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
  </div>
</details>
<p><strong>C)</strong> <strong>ChisteDownloader</strong> que descarga los chistes de la API y los guarda en la base de datos.</p>
<p>Ten el cuenta que ChisteDownloader es un Singleton y que se puede configurar el número de chistes a descargar, además de un tiempo de espera entre chiste y chiste (la API sólo permite 120 peticiones por minuto).</p>
<p>Por ello, haz que sea un hilo que se ejecute cada cierto tiempo ( implements Runnable ) y tenga los siguientes atributos:</p>
<ul>
<li><strong>tiempoEspera</strong> que es el tiempo de espera entre chiste y chiste.</li>
<li><strong>instance</strong> que es la instancia de ChisteDownloader.</li>
<li><strong>MAX_CHISTES</strong> que es el número máximo de chistes a descargar.</li>
<li><strong>chisteDAO</strong> que es el DAO de Chiste.</li>
<li><strong>numeroChistes</strong> que es el número de chistes a descargar (si no se indica debe ser MAX_CHISTES).</li>
</ul>

<details class=" box cstyle notices transparent expand">
  <summary class="box-label">
    <i class="expander-icon fa-fw fas fa-chevron-right"></i> 
    Solución de ChisteDownloader
  </summary>
  <div class="box-content">
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">package</span> com.javhoz.ad.chistes;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> com.javhoz.ad.chistes.model.Chiste;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> com.javhoz.ad.chistes.model.ChisteDAO;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> com.javhoz.ad.chistes.model.ChisteJpaManager;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import static</span> java.lang.Thread.sleep;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ChisteDownloader</span> <span style="color:#66d9ef">implements</span> Runnable {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">final</span> <span style="color:#66d9ef">long</span> tiempoEspera <span style="color:#f92672">=</span> 550;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> ChisteDownloader instance;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">final</span> <span style="color:#66d9ef">int</span> MAX_CHISTES <span style="color:#f92672">=</span> 200;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> ChisteDAO chisteDAO;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">int</span> numeroChistes <span style="color:#f92672">=</span> MAX_CHISTES;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#a6e22e">ChisteDownloader</span>() {
</span></span><span style="display:flex;"><span>        chisteDAO <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ChisteDAO();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> ChisteDownloader <span style="color:#a6e22e">getInstance</span>() {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (instance <span style="color:#f92672">==</span> <span style="color:#66d9ef">null</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">synchronized</span> (ChisteDownloader.<span style="color:#a6e22e">class</span>) {
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">if</span> (instance <span style="color:#f92672">==</span> <span style="color:#66d9ef">null</span>) {
</span></span><span style="display:flex;"><span>                    instance <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ChisteDownloader();
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> instance;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">setNumeroChistes</span>(<span style="color:#66d9ef">int</span> numeroChistes) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">numeroChistes</span> <span style="color:#f92672">=</span> numeroChistes;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">run</span>() {
</span></span><span style="display:flex;"><span>        chisteDAO <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ChisteDAO();
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">var</span> emf <span style="color:#f92672">=</span> ChisteJpaManager.<span style="color:#a6e22e">getEntityManagerFactory</span>(ChisteJpaManager.<span style="color:#a6e22e">BIBLIOTECA_H2</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">var</span> em <span style="color:#f92672">=</span> emf.<span style="color:#a6e22e">createEntityManager</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> 0; i <span style="color:#f92672">&lt;</span> numeroChistes; i<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>            Chiste chiste <span style="color:#f92672">=</span> chisteDAO.<span style="color:#a6e22e">getJokeById</span>(i);
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> (chiste <span style="color:#f92672">!=</span> <span style="color:#66d9ef">null</span>) {
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">try</span> {
</span></span><span style="display:flex;"><span>                    em.<span style="color:#a6e22e">getTransaction</span>().<span style="color:#a6e22e">begin</span>();
</span></span><span style="display:flex;"><span>                    em.<span style="color:#a6e22e">persist</span>(chiste);
</span></span><span style="display:flex;"><span>                    em.<span style="color:#a6e22e">getTransaction</span>().<span style="color:#a6e22e">commit</span>();
</span></span><span style="display:flex;"><span>                } <span style="color:#66d9ef">catch</span> (Exception e) {
</span></span><span style="display:flex;"><span>                    em.<span style="color:#a6e22e">getTransaction</span>().<span style="color:#a6e22e">rollback</span>();
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>                System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">print</span>(<span style="color:#e6db74">&#34;*&#34;</span>);
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">try</span> {
</span></span><span style="display:flex;"><span>                    sleep(tiempoEspera);
</span></span><span style="display:flex;"><span>                } <span style="color:#66d9ef">catch</span> (InterruptedException e) {
</span></span><span style="display:flex;"><span>                    System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Error en el hilo&#34;</span>);
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
  </div>
</details>
<p><strong>D)</strong> <strong>Main</strong> que descarga los chistes y los guarda en la base de datos.</p>

<details class=" box cstyle notices transparent expand">
  <summary class="box-label">
    <i class="expander-icon fa-fw fas fa-chevron-right"></i> 
    Solución de Main
  </summary>
  <div class="box-content">
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span>(String<span style="color:#f92672">[]</span> args) {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        ChisteDownloader chisteDownloader <span style="color:#f92672">=</span> ChisteDownloader.<span style="color:#a6e22e">getInstance</span>();
</span></span><span style="display:flex;"><span>        chisteDownloader.<span style="color:#a6e22e">setNumeroChistes</span>(300);
</span></span><span style="display:flex;"><span>        Thread thread <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Thread(chisteDownloader);
</span></span><span style="display:flex;"><span>        thread.<span style="color:#a6e22e">start</span>();
</span></span><span style="display:flex;"><span>    }</span></span></code></pre></div>
  </div>
</details>
<hr>
<h3 id="ejercicio-0501-acceso-combinado-a-la-entidad-chiste">Ejercicio 05.01. Acceso combinado a la entidad Chiste.</h3>
<p>Mofifica la entidad Chiste para que guarde el chiste y la respuesta en un solo campo en la base de datos, pero que se muestren por separado en la aplicación.</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#a6e22e">@Entity</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Chiste</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Id</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">int</span> id;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> Categoria categoria;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> TipoChiste tipo;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> List<span style="color:#f92672">&lt;</span>Flag<span style="color:#f92672">&gt;</span> banderas;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> String chiste;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> String respuesta;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> Lenguaje lenguaje;
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// ...</span>
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<h3 id="ejercicio-0502-clob-y-blob-de-una-entidad-documento">Ejercicio 05.02. CLOB y BLOB de una entidad Documento</h3>
<p>Crea una entidad Documento que tenga un campo de texto grande (CLOB) para el contenido del documento y un campo de bytes grande (BLOB) para la imagen del documento. Haz pruebas con tres gestores de bases de datos: H2, SQLite y PostgreSQL y comprueba el resultado creando la tabla en cada uno de ellos, con y sin declaración de tipo de LOB.</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@Entity</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Documento</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Id</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">long</span> id;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Lob</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> String contenido;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Lob</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">byte</span><span style="color:#f92672">[]</span> imagen;
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// ...</span>
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<h3 id="ejercicio-0503-conversores-personalizados-y-enumeraciones">Ejercicio 05.03. Conversores personalizados y enumeraciones</h3>
<p>Declara una entidad <code>Persona</code> con atributos:</p>
<ul>
<li><code>idPersona</code>.</li>
<li><code>nombre</code>.</li>
<li><code>apellidos</code>.</li>
<li><code>fechaNacimiento</code> de tipo <code>LocalDate</code>.</li>
<li><code>sexo</code> de tipo enumerado <code>Sexo</code> que puede ser <code>HOMBRE</code> o <code>MUJER</code>.</li>
<li><code>estadoCivil</code> de tipo enumerado <code>EstadoCivil</code> que puede ser <code>SOLTERO</code>, <code>CASADO</code>, <code>DIVORCIADO</code> o <code>VIUDO</code>.</li>
<li><code>foto</code> de tipo <code>byte[]</code>.</li>
</ul>
<p>Realiza las conversiones para que:</p>
<ul>
<li>El <strong>nombre</strong> y <strong>apellidos</strong> se guardan en la base de datos como <strong>&ldquo;apellido1, nombre&rdquo;</strong>, con la primera letra de cada palabra en mayúsculas (empleando acceso por campo y por propiedad).</li>
<li>La <strong>fecha de nacimiento</strong> como un <strong>entero</strong> que representa la edad de la persona en años (obviamente no es la mejor forma de almacenar la edad, pero quiero que practiquéis con los convertidores), usando anotaciones <code>@PostLoad</code> y <code>@PrePersist</code>. Haz pruebas de comportamiento haciendo consultas, inserciones y actualizaciones.</li>
<li>Las <strong>enumeraciones</strong> se guardarán como <strong>cadenas en el caso de estado civil</strong> y como un <strong>carácter de &lsquo;H&rsquo; o &lsquo;M&rsquo; en el caso del sexo</strong>. Hazlo con conversores personalizados.</li>
<li>La <strong>fotografia</strong> se guardará en un campo de tipo BLOB.</li>
</ul>
<p>Debes completar la entidad <code>Persona</code> y los convertidores necesarios para que funcione correctamente.</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Persona</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">long</span> idPersona;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> String nombre;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> String apellidos;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> LocalDate fechaNacimiento;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> Sexo sexo;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> EstadoCivil estadoCivil;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">byte</span><span style="color:#f92672">[]</span> foto;
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// ...</span>
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<p>Hazlo contra la base de datos H2 y comprueba que los datos se guardan correctamente, creando varios registros y recuperándolos.</p>
<h3 id="ejercicio-0504-generación-de-ids-con-tabla">Ejercicio 05.04. Generación de ids con tabla</h3>
<p>A partir del ejecicio anterior con Persona, haz aque el campo <code>idPersona</code> de tipo <code>Long</code> y genera el identificador con una tabla.
La tabla debe ser compartida con otras entidades que tengan un campo <code>id</code> de tipo <code>Long</code>.</p>
<ul>
<li>Nombre de la tabla: <code>LONG_ID_GEN</code></li>
<li>Columnas:
<ul>
<li><code>nomePK</code>.</li>
<li><code>valorPK</code>.</li>
<li>El valor de la columna <code>nomePK</code> para la entidad <code>Persona</code> debe ser <code>PERSONA_ID</code>.</li>
<li>Dale un valor inicial de 1000 y un tamaño de asignación de 100.</li>
</ul>
</li>
</ul>
<p>Crea otro generador para esa tabla que se utilizará para la entidad <code>Direccion</code> con un valor inicial de 2000 y un tamaño de asignación de 50.</p>
<p>Haz pruebas de inserción de datos.</p>
<h3 id="ejercicio-0505-generación-de-ids-con-una-secuencia">Ejercicio 05.05. Generación de ids con una secuencia</h3>
<p>Repite el ejercicio anterior con <code>Persona</code>, pero esta vez <strong>utiliza una secuencia para generar el identificador en una base de datos H2</strong>. Haz pruebas compartiendo la secuencia y sin compartirla.
Si puedes, haz lo mismo con una base de datos <strong>PostgreSQL</strong>.</p>
<hr>
<h3 id="ejercicio-0506-ampliación-de-la-aplicación-de-persistencia-de-una-biblioteca">Ejercicio 05.06. Ampliación de la aplicación de persistencia de una biblioteca</h3>
<p>Amplía el ejercicio de la biblioteca para que la entidad <code>Book</code> tenga un identificador generado automáticamente por medio de una tabla.</p>
<p>Además:</p>
<ul>
<li>
<p>Crea una enumeración llamada Categoría con los siguientes valores: <code>NOVELA</code>, <code>POESIA</code>, <code>ENSAYO</code>, <code>TEATRO</code> y <code>OTROS</code>.</p>
</li>
<li>
<p>Haz que la entidad <code>Book</code> tenga un atributo de tipo <code>Categoría</code> y que se persista en la base de datos como una cadena. Realiza una conversión de la enumeración a cadena y viceversa de modo que guarde la categoría con el nombre en mayúsculas sólo la primera letra y con acentos.</p>
</li>
<li>
<p>Haz que la columna ISBN sea única, de un tamaño de 13 caracteres y que no pueda ser nula.</p>
</li>
<li>
<p>Crea un atributo de tipo <code>Calendar</code> para la fecha de publicación del libro y haz que se persista en la base de datos como un tipo <code>DATE</code>.</p>
</li>
<li>
<p>Crea un atributo transitorio que sea el número de días que han pasado desde la fecha de publicación hasta la fecha actual. Utiliza la clase <code>java.time.LocalDate</code> para obtener la fecha actual.</p>
</li>
<li>
<p>Crea otro atributo <strong>transitorio con el ISBN en versión de 10 dígitos</strong>, teniendo en cuenta que el ISBN es un número de 13 dígitos. Para ello, puedes utilizar la clase <code>java.math.BigInteger</code> para realizar la conversión y el siguiente algoritmo:</p>
<ol>
<li>Elimina los primeros tres dígitos (normalmente 978)</li>
<li>Elimina el último dígito. Ahora tienes nueve dígitos</li>
<li>Ahora necesitas calcular el &lsquo;dígito de control&rsquo;, que será el décimo dígito de tu ISBN. El objetivo del dígito de control es asegurarse de no haber cometido un error tipográfico: transponer dos dígitos, por ejemplo, o escribir mal uno. Esto es bastante complicado:</li>
<li>Multiplica el primer dígito por 10, el segundo por 9, el tercero por 8 y así sucesivamente, hasta llegar al último dígito (multiplicado por 2).</li>
<li>Ahora tienes una cadena de 9 números nuevos. Agrégalos todos juntos.</li>
<li>Divide esta suma por once. Ahora estás interesado en el resto. Por ejemplo, si la suma fuera 242, que es exactamente 11 x 22, entonces el resto es cero. Si la suma fuera 243, entonces sobraría 1. Tendrás un resto que está entre 0 y 10.</li>
<li>Resta ese resto de 11 para obtener el dígito de control.</li>
<li>Si el resultado es 10, entonces el dígito de control es &lsquo;X&rsquo;.</li>
</ol>
</li>
</ul>
<p>Código Java:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ISBN</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span>(String<span style="color:#f92672">[]</span> args) {
</span></span><span style="display:flex;"><span>            String isbn <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;978-3-16-148410-0&#34;</span>;
</span></span><span style="display:flex;"><span>            String isbn10 <span style="color:#f92672">=</span> isbn.<span style="color:#a6e22e">substring</span>(3, isbn.<span style="color:#a6e22e">length</span>() <span style="color:#f92672">-</span> 1);
</span></span><span style="display:flex;"><span>            System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(isbn10);
</span></span><span style="display:flex;"><span>            BigInteger sum <span style="color:#f92672">=</span> BigInteger.<span style="color:#a6e22e">ZERO</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> 0; i <span style="color:#f92672">&lt;</span> isbn10.<span style="color:#a6e22e">length</span>(); i<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">int</span> digit <span style="color:#f92672">=</span> Character.<span style="color:#a6e22e">getNumericValue</span>(isbn10.<span style="color:#a6e22e">charAt</span>(i));
</span></span><span style="display:flex;"><span>                sum <span style="color:#f92672">=</span> sum.<span style="color:#a6e22e">add</span>(BigInteger.<span style="color:#a6e22e">valueOf</span>(digit).<span style="color:#a6e22e">multiply</span>(BigInteger.<span style="color:#a6e22e">valueOf</span>(10 <span style="color:#f92672">-</span> i)));
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(sum);
</span></span><span style="display:flex;"><span>            BigInteger remainder <span style="color:#f92672">=</span> sum.<span style="color:#a6e22e">mod</span>(BigInteger.<span style="color:#a6e22e">valueOf</span>(11));
</span></span><span style="display:flex;"><span>            System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(remainder);
</span></span><span style="display:flex;"><span>            BigInteger controlDigit <span style="color:#f92672">=</span> BigInteger.<span style="color:#a6e22e">valueOf</span>(11).<span style="color:#a6e22e">subtract</span>(remainder);
</span></span><span style="display:flex;"><span>            System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(controlDigit);
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> (controlDigit.<span style="color:#a6e22e">intValue</span>() <span style="color:#f92672">==</span> 10) {
</span></span><span style="display:flex;"><span>                System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;X&#34;</span>);
</span></span><span style="display:flex;"><span>            } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>                System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(controlDigit);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }</span></span></code></pre></div>
<p>Un ejemplo más completo:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>   <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ISBNConverter</span> {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span>(String<span style="color:#f92672">[]</span> args) {
</span></span><span style="display:flex;"><span>        String isbn13 <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;9780123456789&#34;</span>; <span style="color:#75715e">// ISBN-13</span>
</span></span><span style="display:flex;"><span>        String isbn10 <span style="color:#f92672">=</span> convertirISBN13aISBN10(isbn13);
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;ISBN-10: &#34;</span> <span style="color:#f92672">+</span> isbn10);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> String <span style="color:#a6e22e">convertirISBN13aISBN10</span>(String isbn13) {
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Verifica si el ISBN-13 proporcionado es válido</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span>esISBN13Valido(isbn13)) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;ISBN-13 no válido&#34;</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Elimina los primeros 3 dígitos (978 o 979) del ISBN-13</span>
</span></span><span style="display:flex;"><span>        String isbn10Parcial <span style="color:#f92672">=</span> isbn13.<span style="color:#a6e22e">substring</span>(3);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Calcula el dígito de verificación para el ISBN-10 parcial</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">int</span> suma <span style="color:#f92672">=</span> 0;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> 0; i <span style="color:#f92672">&lt;</span> 9; i<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">int</span> digito <span style="color:#f92672">=</span> Character.<span style="color:#a6e22e">getNumericValue</span>(isbn10Parcial.<span style="color:#a6e22e">charAt</span>(i));
</span></span><span style="display:flex;"><span>            suma <span style="color:#f92672">+=</span> (i <span style="color:#f92672">+</span> 1) <span style="color:#f92672">*</span> digito;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">int</span> digitoVerificador <span style="color:#f92672">=</span> suma <span style="color:#f92672">%</span> 11;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">char</span> digitoVerificadorChar;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (digitoVerificador <span style="color:#f92672">==</span> 10) {
</span></span><span style="display:flex;"><span>            digitoVerificadorChar <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;X&#39;</span>;
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>            digitoVerificadorChar <span style="color:#f92672">=</span> (<span style="color:#66d9ef">char</span>) (<span style="color:#e6db74">&#39;0&#39;</span> <span style="color:#f92672">+</span> digitoVerificador);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Combina el ISBN-10 parcial con el dígito de verificación calculado</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> isbn10Parcial <span style="color:#f92672">+</span> digitoVerificadorChar;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">boolean</span> <span style="color:#a6e22e">esISBN13Valido</span>(String isbn13) {
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Verifica que el ISBN-13 tenga 13 dígitos y comience con &#34;978&#34; o &#34;979&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> isbn13.<span style="color:#a6e22e">matches</span>(<span style="color:#e6db74">&#34;^97[89]\\d{10}$&#34;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<p>Crea varios libros y pérsistelos en la base de datos (una nueva). Recupéralos y  muestra los valores de los datos, incluyendo transitorios.</p>
<h3 id="ejercicio-0601-relación-uno-a-uno-bidireccional-equipo-entrenador">Ejercicio 06.01. Relación uno a uno bidireccional Equipo-Entrenador</h3>
<p>Vamos a crear una aplicación de equipos de la NBA. Cada equipo tiene un entrenador y cada entrenador tiene un equipo, por lo que la <strong>relación es uno a uno bidireccional</strong>.</p>
<p>Crea las siguientes entidades:</p>
<ul>
<li><code>Equipo</code>: con los atributos <code>idEquipo</code>, <code>nombre</code>, <code>ciudad</code>, <code>conferencia</code>, <code>division</code>, <code>nombreCompleto</code> y <code>abreviatura</code>.
<ul>
<li>Crea una enumeración <code>Conferencia</code> con los valores <code>ESTE</code> y <code>OESTE</code>.</li>
<li>Crea una enumeración <code>Division</code> con los valores <code>ATLANTICO</code>, <code>CENTRAL</code>, <code>SURESTE</code>, <code>NOROESTE</code>, <code>PACIFICO</code> y <code>SUROESTE</code>.</li>
<li>En la base de datos, <strong>la conferencia y la división se guardarán como cadenas</strong>:
<ul>
<li><code>EAST</code>, <code>WEST</code></li>
<li><code>ATLANTIC</code>, <code>CENTRAL</code>, <code>SOUTHEAST</code>, <code>NORTHWEST</code>, <code>PACIFIC</code>, <code>SOUTHWEST</code></li>
</ul>
</li>
<li>La abreviatura debe ser única, así como el idEquipo.</li>
</ul>
</li>
</ul>
<p>Los equipos puedes cargarlos del siguiente archivo JSON:</p>

<details class=" box cstyle notices transparent expand">
  <summary class="box-label">
    <i class="expander-icon fa-fw fas fa-chevron-right"></i> 
    Ver datos de ejemplo
  </summary>
  <div class="box-content">
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span><span style="color:#f92672">&#34;Equipo&#34;</span>: [
</span></span><span style="display:flex;"><span>	{
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;abreviatura&#34;</span> : <span style="color:#e6db74">&#34;ATL&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;idEquipo&#34;</span> : <span style="color:#ae81ff">1</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;ciudad&#34;</span> : <span style="color:#e6db74">&#34;Atlanta&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;conferencia&#34;</span> : <span style="color:#e6db74">&#34;EAST&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;division&#34;</span> : <span style="color:#e6db74">&#34;SOUTHEAST&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;nombre&#34;</span> : <span style="color:#e6db74">&#34;Hawks&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;nombreCompleto&#34;</span> : <span style="color:#e6db74">&#34;Atlanta Hawks&#34;</span>
</span></span><span style="display:flex;"><span>	},
</span></span><span style="display:flex;"><span>	{
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;abreviatura&#34;</span> : <span style="color:#e6db74">&#34;BOS&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;idEquipo&#34;</span> : <span style="color:#ae81ff">2</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;ciudad&#34;</span> : <span style="color:#e6db74">&#34;Boston&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;conferencia&#34;</span> : <span style="color:#e6db74">&#34;EAST&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;division&#34;</span> : <span style="color:#e6db74">&#34;ATLANTIC&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;nombre&#34;</span> : <span style="color:#e6db74">&#34;Celtics&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;nombreCompleto&#34;</span> : <span style="color:#e6db74">&#34;Boston Celtics&#34;</span>
</span></span><span style="display:flex;"><span>	},
</span></span><span style="display:flex;"><span>	{
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;abreviatura&#34;</span> : <span style="color:#e6db74">&#34;BKN&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;idEquipo&#34;</span> : <span style="color:#ae81ff">3</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;ciudad&#34;</span> : <span style="color:#e6db74">&#34;Brooklyn&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;conferencia&#34;</span> : <span style="color:#e6db74">&#34;EAST&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;division&#34;</span> : <span style="color:#e6db74">&#34;ATLANTIC&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;nombre&#34;</span> : <span style="color:#e6db74">&#34;Nets&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;nombreCompleto&#34;</span> : <span style="color:#e6db74">&#34;Brooklyn Nets&#34;</span>
</span></span><span style="display:flex;"><span>	},
</span></span><span style="display:flex;"><span>	{
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;abreviatura&#34;</span> : <span style="color:#e6db74">&#34;CHA&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;idEquipo&#34;</span> : <span style="color:#ae81ff">4</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;ciudad&#34;</span> : <span style="color:#e6db74">&#34;Charlotte&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;conferencia&#34;</span> : <span style="color:#e6db74">&#34;EAST&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;division&#34;</span> : <span style="color:#e6db74">&#34;SOUTHEAST&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;nombre&#34;</span> : <span style="color:#e6db74">&#34;Hornets&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;nombreCompleto&#34;</span> : <span style="color:#e6db74">&#34;Charlotte Hornets&#34;</span>
</span></span><span style="display:flex;"><span>	},
</span></span><span style="display:flex;"><span>	{
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;abreviatura&#34;</span> : <span style="color:#e6db74">&#34;CHI&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;idEquipo&#34;</span> : <span style="color:#ae81ff">5</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;ciudad&#34;</span> : <span style="color:#e6db74">&#34;Chicago&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;conferencia&#34;</span> : <span style="color:#e6db74">&#34;EAST&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;division&#34;</span> : <span style="color:#e6db74">&#34;CENTRAL&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;nombre&#34;</span> : <span style="color:#e6db74">&#34;Bulls&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;nombreCompleto&#34;</span> : <span style="color:#e6db74">&#34;Chicago Bulls&#34;</span>
</span></span><span style="display:flex;"><span>	},
</span></span><span style="display:flex;"><span>	{
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;abreviatura&#34;</span> : <span style="color:#e6db74">&#34;CLE&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;idEquipo&#34;</span> : <span style="color:#ae81ff">6</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;ciudad&#34;</span> : <span style="color:#e6db74">&#34;Cleveland&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;conferencia&#34;</span> : <span style="color:#e6db74">&#34;EAST&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;division&#34;</span> : <span style="color:#e6db74">&#34;CENTRAL&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;nombre&#34;</span> : <span style="color:#e6db74">&#34;Cavaliers&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;nombreCompleto&#34;</span> : <span style="color:#e6db74">&#34;Cleveland Cavaliers&#34;</span>
</span></span><span style="display:flex;"><span>	},
</span></span><span style="display:flex;"><span>	{
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;abreviatura&#34;</span> : <span style="color:#e6db74">&#34;DAL&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;idEquipo&#34;</span> : <span style="color:#ae81ff">7</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;ciudad&#34;</span> : <span style="color:#e6db74">&#34;Dallas&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;conferencia&#34;</span> : <span style="color:#e6db74">&#34;WEST&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;division&#34;</span> : <span style="color:#e6db74">&#34;SOUTHWEST&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;nombre&#34;</span> : <span style="color:#e6db74">&#34;Mavericks&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;nombreCompleto&#34;</span> : <span style="color:#e6db74">&#34;Dallas Mavericks&#34;</span>
</span></span><span style="display:flex;"><span>	},
</span></span><span style="display:flex;"><span>	{
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;abreviatura&#34;</span> : <span style="color:#e6db74">&#34;DEN&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;idEquipo&#34;</span> : <span style="color:#ae81ff">8</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;ciudad&#34;</span> : <span style="color:#e6db74">&#34;Denver&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;conferencia&#34;</span> : <span style="color:#e6db74">&#34;WEST&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;division&#34;</span> : <span style="color:#e6db74">&#34;NORTHWEST&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;nombre&#34;</span> : <span style="color:#e6db74">&#34;Nuggets&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;nombreCompleto&#34;</span> : <span style="color:#e6db74">&#34;Denver Nuggets&#34;</span>
</span></span><span style="display:flex;"><span>	},
</span></span><span style="display:flex;"><span>	{
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;abreviatura&#34;</span> : <span style="color:#e6db74">&#34;DET&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;idEquipo&#34;</span> : <span style="color:#ae81ff">9</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;ciudad&#34;</span> : <span style="color:#e6db74">&#34;Detroit&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;conferencia&#34;</span> : <span style="color:#e6db74">&#34;EAST&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;division&#34;</span> : <span style="color:#e6db74">&#34;CENTRAL&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;nombre&#34;</span> : <span style="color:#e6db74">&#34;Pistons&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;nombreCompleto&#34;</span> : <span style="color:#e6db74">&#34;Detroit Pistons&#34;</span>
</span></span><span style="display:flex;"><span>	},
</span></span><span style="display:flex;"><span>	{
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;abreviatura&#34;</span> : <span style="color:#e6db74">&#34;GSW&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;idEquipo&#34;</span> : <span style="color:#ae81ff">10</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;ciudad&#34;</span> : <span style="color:#e6db74">&#34;Golden State&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;conferencia&#34;</span> : <span style="color:#e6db74">&#34;WEST&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;division&#34;</span> : <span style="color:#e6db74">&#34;PACIFIC&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;nombre&#34;</span> : <span style="color:#e6db74">&#34;Warriors&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;nombreCompleto&#34;</span> : <span style="color:#e6db74">&#34;Golden State Warriors&#34;</span>
</span></span><span style="display:flex;"><span>	},
</span></span><span style="display:flex;"><span>	{
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;abreviatura&#34;</span> : <span style="color:#e6db74">&#34;HOU&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;idEquipo&#34;</span> : <span style="color:#ae81ff">11</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;ciudad&#34;</span> : <span style="color:#e6db74">&#34;Houston&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;conferencia&#34;</span> : <span style="color:#e6db74">&#34;WEST&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;division&#34;</span> : <span style="color:#e6db74">&#34;SOUTHWEST&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;nombre&#34;</span> : <span style="color:#e6db74">&#34;Rockets&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;nombreCompleto&#34;</span> : <span style="color:#e6db74">&#34;Houston Rockets&#34;</span>
</span></span><span style="display:flex;"><span>	},
</span></span><span style="display:flex;"><span>	{
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;abreviatura&#34;</span> : <span style="color:#e6db74">&#34;IND&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;idEquipo&#34;</span> : <span style="color:#ae81ff">12</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;ciudad&#34;</span> : <span style="color:#e6db74">&#34;Indiana&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;conferencia&#34;</span> : <span style="color:#e6db74">&#34;EAST&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;division&#34;</span> : <span style="color:#e6db74">&#34;CENTRAL&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;nombre&#34;</span> : <span style="color:#e6db74">&#34;Pacers&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;nombreCompleto&#34;</span> : <span style="color:#e6db74">&#34;Indiana Pacers&#34;</span>
</span></span><span style="display:flex;"><span>	},
</span></span><span style="display:flex;"><span>	{
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;abreviatura&#34;</span> : <span style="color:#e6db74">&#34;LAC&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;idEquipo&#34;</span> : <span style="color:#ae81ff">13</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;ciudad&#34;</span> : <span style="color:#e6db74">&#34;LA&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;conferencia&#34;</span> : <span style="color:#e6db74">&#34;WEST&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;division&#34;</span> : <span style="color:#e6db74">&#34;PACIFIC&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;nombre&#34;</span> : <span style="color:#e6db74">&#34;Clippers&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;nombreCompleto&#34;</span> : <span style="color:#e6db74">&#34;LA Clippers&#34;</span>
</span></span><span style="display:flex;"><span>	},
</span></span><span style="display:flex;"><span>	{
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;abreviatura&#34;</span> : <span style="color:#e6db74">&#34;LAL&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;idEquipo&#34;</span> : <span style="color:#ae81ff">14</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;ciudad&#34;</span> : <span style="color:#e6db74">&#34;Los Angeles&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;conferencia&#34;</span> : <span style="color:#e6db74">&#34;WEST&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;division&#34;</span> : <span style="color:#e6db74">&#34;PACIFIC&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;nombre&#34;</span> : <span style="color:#e6db74">&#34;Lakers&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;nombreCompleto&#34;</span> : <span style="color:#e6db74">&#34;Los Angeles Lakers&#34;</span>
</span></span><span style="display:flex;"><span>	},
</span></span><span style="display:flex;"><span>	{
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;abreviatura&#34;</span> : <span style="color:#e6db74">&#34;MEM&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;idEquipo&#34;</span> : <span style="color:#ae81ff">15</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;ciudad&#34;</span> : <span style="color:#e6db74">&#34;Memphis&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;conferencia&#34;</span> : <span style="color:#e6db74">&#34;WEST&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;division&#34;</span> : <span style="color:#e6db74">&#34;SOUTHWEST&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;nombre&#34;</span> : <span style="color:#e6db74">&#34;Grizzlies&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;nombreCompleto&#34;</span> : <span style="color:#e6db74">&#34;Memphis Grizzlies&#34;</span>
</span></span><span style="display:flex;"><span>	},
</span></span><span style="display:flex;"><span>	{
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;abreviatura&#34;</span> : <span style="color:#e6db74">&#34;MIA&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;idEquipo&#34;</span> : <span style="color:#ae81ff">16</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;ciudad&#34;</span> : <span style="color:#e6db74">&#34;Miami&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;conferencia&#34;</span> : <span style="color:#e6db74">&#34;EAST&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;division&#34;</span> : <span style="color:#e6db74">&#34;SOUTHEAST&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;nombre&#34;</span> : <span style="color:#e6db74">&#34;Heat&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;nombreCompleto&#34;</span> : <span style="color:#e6db74">&#34;Miami Heat&#34;</span>
</span></span><span style="display:flex;"><span>	},
</span></span><span style="display:flex;"><span>	{
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;abreviatura&#34;</span> : <span style="color:#e6db74">&#34;MIL&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;idEquipo&#34;</span> : <span style="color:#ae81ff">17</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;ciudad&#34;</span> : <span style="color:#e6db74">&#34;Milwaukee&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;conferencia&#34;</span> : <span style="color:#e6db74">&#34;EAST&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;division&#34;</span> : <span style="color:#e6db74">&#34;CENTRAL&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;nombre&#34;</span> : <span style="color:#e6db74">&#34;Bucks&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;nombreCompleto&#34;</span> : <span style="color:#e6db74">&#34;Milwaukee Bucks&#34;</span>
</span></span><span style="display:flex;"><span>	},
</span></span><span style="display:flex;"><span>	{
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;abreviatura&#34;</span> : <span style="color:#e6db74">&#34;MIN&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;idEquipo&#34;</span> : <span style="color:#ae81ff">18</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;ciudad&#34;</span> : <span style="color:#e6db74">&#34;Minnesota&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;conferencia&#34;</span> : <span style="color:#e6db74">&#34;WEST&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;division&#34;</span> : <span style="color:#e6db74">&#34;NORTHWEST&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;nombre&#34;</span> : <span style="color:#e6db74">&#34;Timberwolves&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;nombreCompleto&#34;</span> : <span style="color:#e6db74">&#34;Minnesota Timberwolves&#34;</span>
</span></span><span style="display:flex;"><span>	},
</span></span><span style="display:flex;"><span>	{
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;abreviatura&#34;</span> : <span style="color:#e6db74">&#34;NOP&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;idEquipo&#34;</span> : <span style="color:#ae81ff">19</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;ciudad&#34;</span> : <span style="color:#e6db74">&#34;New Orleans&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;conferencia&#34;</span> : <span style="color:#e6db74">&#34;WEST&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;division&#34;</span> : <span style="color:#e6db74">&#34;SOUTHWEST&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;nombre&#34;</span> : <span style="color:#e6db74">&#34;Pelicans&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;nombreCompleto&#34;</span> : <span style="color:#e6db74">&#34;New Orleans Pelicans&#34;</span>
</span></span><span style="display:flex;"><span>	},
</span></span><span style="display:flex;"><span>	{
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;abreviatura&#34;</span> : <span style="color:#e6db74">&#34;NYK&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;idEquipo&#34;</span> : <span style="color:#ae81ff">20</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;ciudad&#34;</span> : <span style="color:#e6db74">&#34;New York&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;conferencia&#34;</span> : <span style="color:#e6db74">&#34;EAST&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;division&#34;</span> : <span style="color:#e6db74">&#34;ATLANTIC&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;nombre&#34;</span> : <span style="color:#e6db74">&#34;Knicks&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;nombreCompleto&#34;</span> : <span style="color:#e6db74">&#34;New York Knicks&#34;</span>
</span></span><span style="display:flex;"><span>	},
</span></span><span style="display:flex;"><span>	{
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;abreviatura&#34;</span> : <span style="color:#e6db74">&#34;OKC&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;idEquipo&#34;</span> : <span style="color:#ae81ff">21</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;ciudad&#34;</span> : <span style="color:#e6db74">&#34;Oklahoma City&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;conferencia&#34;</span> : <span style="color:#e6db74">&#34;WEST&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;division&#34;</span> : <span style="color:#e6db74">&#34;NORTHWEST&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;nombre&#34;</span> : <span style="color:#e6db74">&#34;Thunder&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;nombreCompleto&#34;</span> : <span style="color:#e6db74">&#34;Oklahoma City Thunder&#34;</span>
</span></span><span style="display:flex;"><span>	},
</span></span><span style="display:flex;"><span>	{
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;abreviatura&#34;</span> : <span style="color:#e6db74">&#34;ORL&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;idEquipo&#34;</span> : <span style="color:#ae81ff">22</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;ciudad&#34;</span> : <span style="color:#e6db74">&#34;Orlando&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;conferencia&#34;</span> : <span style="color:#e6db74">&#34;EAST&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;division&#34;</span> : <span style="color:#e6db74">&#34;SOUTHEAST&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;nombre&#34;</span> : <span style="color:#e6db74">&#34;Magic&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;nombreCompleto&#34;</span> : <span style="color:#e6db74">&#34;Orlando Magic&#34;</span>
</span></span><span style="display:flex;"><span>	},
</span></span><span style="display:flex;"><span>	{
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;abreviatura&#34;</span> : <span style="color:#e6db74">&#34;PHI&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;idEquipo&#34;</span> : <span style="color:#ae81ff">23</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;ciudad&#34;</span> : <span style="color:#e6db74">&#34;Philadelphia&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;conferencia&#34;</span> : <span style="color:#e6db74">&#34;EAST&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;division&#34;</span> : <span style="color:#e6db74">&#34;ATLANTIC&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;nombre&#34;</span> : <span style="color:#e6db74">&#34;76ers&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;nombreCompleto&#34;</span> : <span style="color:#e6db74">&#34;Philadelphia 76ers&#34;</span>
</span></span><span style="display:flex;"><span>	},
</span></span><span style="display:flex;"><span>	{
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;abreviatura&#34;</span> : <span style="color:#e6db74">&#34;PHX&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;idEquipo&#34;</span> : <span style="color:#ae81ff">24</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;ciudad&#34;</span> : <span style="color:#e6db74">&#34;Phoenix&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;conferencia&#34;</span> : <span style="color:#e6db74">&#34;WEST&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;division&#34;</span> : <span style="color:#e6db74">&#34;PACIFIC&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;nombre&#34;</span> : <span style="color:#e6db74">&#34;Suns&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;nombreCompleto&#34;</span> : <span style="color:#e6db74">&#34;Phoenix Suns&#34;</span>
</span></span><span style="display:flex;"><span>	},
</span></span><span style="display:flex;"><span>	{
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;abreviatura&#34;</span> : <span style="color:#e6db74">&#34;POR&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;idEquipo&#34;</span> : <span style="color:#ae81ff">25</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;ciudad&#34;</span> : <span style="color:#e6db74">&#34;Portland&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;conferencia&#34;</span> : <span style="color:#e6db74">&#34;WEST&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;division&#34;</span> : <span style="color:#e6db74">&#34;NORTHWEST&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;nombre&#34;</span> : <span style="color:#e6db74">&#34;Trail Blazers&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;nombreCompleto&#34;</span> : <span style="color:#e6db74">&#34;Portland Trail Blazers&#34;</span>
</span></span><span style="display:flex;"><span>	},
</span></span><span style="display:flex;"><span>	{
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;abreviatura&#34;</span> : <span style="color:#e6db74">&#34;SAC&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;idEquipo&#34;</span> : <span style="color:#ae81ff">26</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;ciudad&#34;</span> : <span style="color:#e6db74">&#34;Sacramento&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;conferencia&#34;</span> : <span style="color:#e6db74">&#34;WEST&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;division&#34;</span> : <span style="color:#e6db74">&#34;PACIFIC&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;nombre&#34;</span> : <span style="color:#e6db74">&#34;Kings&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;nombreCompleto&#34;</span> : <span style="color:#e6db74">&#34;Sacramento Kings&#34;</span>
</span></span><span style="display:flex;"><span>	},
</span></span><span style="display:flex;"><span>	{
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;abreviatura&#34;</span> : <span style="color:#e6db74">&#34;SAS&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;idEquipo&#34;</span> : <span style="color:#ae81ff">27</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;ciudad&#34;</span> : <span style="color:#e6db74">&#34;San Antonio&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;conferencia&#34;</span> : <span style="color:#e6db74">&#34;WEST&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;division&#34;</span> : <span style="color:#e6db74">&#34;SOUTHWEST&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;nombre&#34;</span> : <span style="color:#e6db74">&#34;Spurs&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;nombreCompleto&#34;</span> : <span style="color:#e6db74">&#34;San Antonio Spurs&#34;</span>
</span></span><span style="display:flex;"><span>	},
</span></span><span style="display:flex;"><span>	{
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;abreviatura&#34;</span> : <span style="color:#e6db74">&#34;TOR&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;idEquipo&#34;</span> : <span style="color:#ae81ff">28</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;ciudad&#34;</span> : <span style="color:#e6db74">&#34;Toronto&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;conferencia&#34;</span> : <span style="color:#e6db74">&#34;EAST&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;division&#34;</span> : <span style="color:#e6db74">&#34;ATLANTIC&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;nombre&#34;</span> : <span style="color:#e6db74">&#34;Raptors&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;nombreCompleto&#34;</span> : <span style="color:#e6db74">&#34;Toronto Raptors&#34;</span>
</span></span><span style="display:flex;"><span>	},
</span></span><span style="display:flex;"><span>	{
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;abreviatura&#34;</span> : <span style="color:#e6db74">&#34;UTA&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;idEquipo&#34;</span> : <span style="color:#ae81ff">29</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;ciudad&#34;</span> : <span style="color:#e6db74">&#34;Utah&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;conferencia&#34;</span> : <span style="color:#e6db74">&#34;WEST&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;division&#34;</span> : <span style="color:#e6db74">&#34;NORTHWEST&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;nombre&#34;</span> : <span style="color:#e6db74">&#34;Jazz&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;nombreCompleto&#34;</span> : <span style="color:#e6db74">&#34;Utah Jazz&#34;</span>
</span></span><span style="display:flex;"><span>	},
</span></span><span style="display:flex;"><span>	{
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;abreviatura&#34;</span> : <span style="color:#e6db74">&#34;WAS&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;idEquipo&#34;</span> : <span style="color:#ae81ff">30</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;ciudad&#34;</span> : <span style="color:#e6db74">&#34;Washington&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;conferencia&#34;</span> : <span style="color:#e6db74">&#34;EAST&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;division&#34;</span> : <span style="color:#e6db74">&#34;SOUTHEAST&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;nombre&#34;</span> : <span style="color:#e6db74">&#34;Wizards&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;nombreCompleto&#34;</span> : <span style="color:#e6db74">&#34;Washington Wizards&#34;</span>
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>]}</span></span></code></pre></div>
  </div>
</details>
<ul>
<li><code>Entrenador</code>: con los atributos <code>idEntrenador</code>, <code>nombre</code>, <code>fechaNacimiento</code>, <code>salario</code> y <code>equipo</code>.</li>
</ul>
<p>Mediante JPA e Hibernate, crea una aplicación que permita:</p>
<ul>
<li>Añadir un equipo.</li>
<li>Insertar un entrenador.</li>
<li>Asignar un entrenador a un equipo.</li>
<li>Asignar un equipo a un entrenador.</li>
<li>Mostrar los datos de un equipo y su entrenador.</li>
</ul>
<p>Para ello, debes crear las clases de utilidad necesarias para realizar las operaciones anteriores.
<code>JpaNbaManager</code>, <code>EquipoDAO</code>, <code>EntrenadorDAO</code>, etc.</p>
<h3 id="ejercicio-0602-relación-muchos-a-uno-unidireccional-jugador-equipo">Ejercicio 06.02. Relación muchos a uno unidireccional Jugador-Equipo</h3>
<p>Siguiendo el ejemplo anterior, vamos a crear una relación muchos a uno unidireccional entre <code>Jugador</code> y <code>Equipo</code>.</p>
<p>Para ello debe crear una nueva entidad <code>Jugador</code> con los siguientes atributos:</p>
<ul>
<li><code>idJugador</code>: identificador del jugador.</li>
<li><code>nombre</code>: nombre del jugador.</li>
<li><code>apellidos</code>: apellidos del jugador.</li>
<li><code>equipo</code>: equipo al que pertenece el jugador.</li>
<li><code>altura</code>: altura del jugador (Double).</li>
<li><code>peso</code>: peso del jugador (Double).</li>
<li><code>numero</code>: número de camiseta del jugador (SmallInt).</li>
<li><code>anoDraft</code>: año de elección en el draft (entero).-</li>
<li><code>numeroDraft</code>: número de elección en el draft (SmallInt).</li>
<li><code>rondaDraft</code>: ronda de elección en el draft (SmallInt).</li>
<li><code>posicion</code>: posición en la que juega (base, escolta, alero, ala-pívot, pívot, como enumeración, que debe guardarse como &lsquo;G&rsquo;, &lsquo;C&rsquo;, &lsquo;F&rsquo;, &lsquo;F-C&rsquo;, &lsquo;C-F&rsquo;).</li>
<li><code>pais</code>: país de origen del jugador.</li>
<li><code>colegio</code>: universidad o equipo en el que jugó.</li>
<li><code>foto</code>: foto del jugador.</li>
</ul>
<p>Haz que la relación sea unidireccional, de modo que la entidad <code>Jugador</code> tenga una referencia al <code>Equipo</code> y el nombre de la clave foránea sea <code>idEquipo</code>.</p>
<p>Crea jugadores y añádelos a los equipos que has creado en el ejercicio anterior. Completa la aplicación para que puedas añadir jugadores a los equipos y mostrar los jugadores de un equipo.</p>
<p>Datos de ejemplo:</p>

<details class=" box cstyle notices transparent expand">
  <summary class="box-label">
    <i class="expander-icon fa-fw fas fa-chevron-right"></i> 
    Ver datos de ejemplo
  </summary>
  <div class="box-content">
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span><span style="color:#f92672">&#34;Jugador&#34;</span>: [
</span></span><span style="display:flex;"><span>	{
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;altura&#34;</span> : <span style="color:#ae81ff">198.12</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;anoDraft&#34;</span> : <span style="color:#ae81ff">2013</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;idEquipo&#34;</span> : <span style="color:#ae81ff">21</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;idJugador&#34;</span> : <span style="color:#ae81ff">1</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;numero&#34;</span> : <span style="color:#ae81ff">8</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;numeroDraft&#34;</span> : <span style="color:#ae81ff">32</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;peso&#34;</span> : <span style="color:#ae81ff">86.1825503</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;posicion&#34;</span> : <span style="color:#e6db74">&#34;G&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;rondaDraft&#34;</span> : <span style="color:#ae81ff">2</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;pais&#34;</span> : <span style="color:#e6db74">&#34;Spain&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;colegio&#34;</span> : <span style="color:#e6db74">&#34;FC Barcelona&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;nombre&#34;</span> : <span style="color:#e6db74">&#34;Alex&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;apellido&#34;</span> : <span style="color:#e6db74">&#34;Abrines&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;foto&#34;</span> : <span style="color:#66d9ef">null</span>
</span></span><span style="display:flex;"><span>	},
</span></span><span style="display:flex;"><span>	{
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;altura&#34;</span> : <span style="color:#ae81ff">182.88</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;anoDraft&#34;</span> : <span style="color:#66d9ef">null</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;idEquipo&#34;</span> : <span style="color:#ae81ff">1</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;idJugador&#34;</span> : <span style="color:#ae81ff">2</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;numero&#34;</span> : <span style="color:#ae81ff">10</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;numeroDraft&#34;</span> : <span style="color:#66d9ef">null</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;peso&#34;</span> : <span style="color:#ae81ff">102.05828325</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;posicion&#34;</span> : <span style="color:#e6db74">&#34;G&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;rondaDraft&#34;</span> : <span style="color:#66d9ef">null</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;pais&#34;</span> : <span style="color:#e6db74">&#34;USA&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;colegio&#34;</span> : <span style="color:#e6db74">&#34;St. Bonaventure&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;nombre&#34;</span> : <span style="color:#e6db74">&#34;Jaylen&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;apellido&#34;</span> : <span style="color:#e6db74">&#34;Adams&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;foto&#34;</span> : <span style="color:#66d9ef">null</span>
</span></span><span style="display:flex;"><span>	},
</span></span><span style="display:flex;"><span>	{
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;altura&#34;</span> : <span style="color:#ae81ff">210.82</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;anoDraft&#34;</span> : <span style="color:#ae81ff">2013</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;idEquipo&#34;</span> : <span style="color:#ae81ff">11</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;idJugador&#34;</span> : <span style="color:#ae81ff">3</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;numero&#34;</span> : <span style="color:#ae81ff">12</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;numeroDraft&#34;</span> : <span style="color:#ae81ff">12</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;peso&#34;</span> : <span style="color:#ae81ff">120.20197805000001</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;posicion&#34;</span> : <span style="color:#e6db74">&#34;C&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;rondaDraft&#34;</span> : <span style="color:#ae81ff">1</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;pais&#34;</span> : <span style="color:#e6db74">&#34;New Zealand&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;colegio&#34;</span> : <span style="color:#e6db74">&#34;Pittsburgh&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;nombre&#34;</span> : <span style="color:#e6db74">&#34;Steven&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;apellido&#34;</span> : <span style="color:#e6db74">&#34;Adams&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;foto&#34;</span> : <span style="color:#66d9ef">null</span>
</span></span><span style="display:flex;"><span>	},
</span></span><span style="display:flex;"><span>	{
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;altura&#34;</span> : <span style="color:#ae81ff">205.74</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;anoDraft&#34;</span> : <span style="color:#ae81ff">2017</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;idEquipo&#34;</span> : <span style="color:#ae81ff">16</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;idJugador&#34;</span> : <span style="color:#ae81ff">4</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;numero&#34;</span> : <span style="color:#ae81ff">13</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;numeroDraft&#34;</span> : <span style="color:#ae81ff">14</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;peso&#34;</span> : <span style="color:#ae81ff">115.66605435000001</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;posicion&#34;</span> : <span style="color:#e6db74">&#34;C&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;rondaDraft&#34;</span> : <span style="color:#ae81ff">1</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;pais&#34;</span> : <span style="color:#e6db74">&#34;USA&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;colegio&#34;</span> : <span style="color:#e6db74">&#34;Kentucky&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;nombre&#34;</span> : <span style="color:#e6db74">&#34;Bam&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;apellido&#34;</span> : <span style="color:#e6db74">&#34;Adebayo&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;foto&#34;</span> : <span style="color:#66d9ef">null</span>
</span></span><span style="display:flex;"><span>	},
</span></span><span style="display:flex;"><span>	{
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;altura&#34;</span> : <span style="color:#ae81ff">210.82</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;anoDraft&#34;</span> : <span style="color:#ae81ff">2006</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;idEquipo&#34;</span> : <span style="color:#ae81ff">3</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;idJugador&#34;</span> : <span style="color:#ae81ff">6</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;numero&#34;</span> : <span style="color:#ae81ff">21</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;numeroDraft&#34;</span> : <span style="color:#ae81ff">2</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;peso&#34;</span> : <span style="color:#ae81ff">113.3980925</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;posicion&#34;</span> : <span style="color:#e6db74">&#34;F&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;rondaDraft&#34;</span> : <span style="color:#ae81ff">1</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;pais&#34;</span> : <span style="color:#e6db74">&#34;USA&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;colegio&#34;</span> : <span style="color:#e6db74">&#34;Texas&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;nombre&#34;</span> : <span style="color:#e6db74">&#34;LaMarcus&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;apellido&#34;</span> : <span style="color:#e6db74">&#34;Aldridge&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;foto&#34;</span> : <span style="color:#66d9ef">null</span>
</span></span><span style="display:flex;"><span>	},
</span></span><span style="display:flex;"><span>	{
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;altura&#34;</span> : <span style="color:#ae81ff">193.04</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;anoDraft&#34;</span> : <span style="color:#ae81ff">2018</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;idEquipo&#34;</span> : <span style="color:#ae81ff">24</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;idJugador&#34;</span> : <span style="color:#ae81ff">8</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;numero&#34;</span> : <span style="color:#ae81ff">8</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;numeroDraft&#34;</span> : <span style="color:#ae81ff">21</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;peso&#34;</span> : <span style="color:#ae81ff">89.81128926000001</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;posicion&#34;</span> : <span style="color:#e6db74">&#34;G&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;rondaDraft&#34;</span> : <span style="color:#ae81ff">1</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;pais&#34;</span> : <span style="color:#e6db74">&#34;USA&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;colegio&#34;</span> : <span style="color:#e6db74">&#34;Duke&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;nombre&#34;</span> : <span style="color:#e6db74">&#34;Grayson&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;apellido&#34;</span> : <span style="color:#e6db74">&#34;Allen&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;foto&#34;</span> : <span style="color:#66d9ef">null</span>
</span></span><span style="display:flex;"><span>	},
</span></span><span style="display:flex;"><span>	{
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;altura&#34;</span> : <span style="color:#ae81ff">205.74</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;anoDraft&#34;</span> : <span style="color:#ae81ff">2017</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;idEquipo&#34;</span> : <span style="color:#ae81ff">6</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;idJugador&#34;</span> : <span style="color:#ae81ff">9</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;numero&#34;</span> : <span style="color:#ae81ff">31</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;numeroDraft&#34;</span> : <span style="color:#ae81ff">22</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;peso&#34;</span> : <span style="color:#ae81ff">110.22294591</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;posicion&#34;</span> : <span style="color:#e6db74">&#34;C&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;rondaDraft&#34;</span> : <span style="color:#ae81ff">1</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;pais&#34;</span> : <span style="color:#e6db74">&#34;USA&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;colegio&#34;</span> : <span style="color:#e6db74">&#34;Texas&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;nombre&#34;</span> : <span style="color:#e6db74">&#34;Jarrett&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;apellido&#34;</span> : <span style="color:#e6db74">&#34;Allen&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;foto&#34;</span> : <span style="color:#66d9ef">null</span>
</span></span><span style="display:flex;"><span>	},
</span></span><span style="display:flex;"><span>	{
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;altura&#34;</span> : <span style="color:#ae81ff">203.2</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;anoDraft&#34;</span> : <span style="color:#ae81ff">2010</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;idEquipo&#34;</span> : <span style="color:#ae81ff">25</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;idJugador&#34;</span> : <span style="color:#ae81ff">10</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;numero&#34;</span> : <span style="color:#ae81ff">5</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;numeroDraft&#34;</span> : <span style="color:#ae81ff">8</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;peso&#34;</span> : <span style="color:#ae81ff">99.79032140000001</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;posicion&#34;</span> : <span style="color:#e6db74">&#34;F&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;rondaDraft&#34;</span> : <span style="color:#ae81ff">1</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;pais&#34;</span> : <span style="color:#e6db74">&#34;USA&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;colegio&#34;</span> : <span style="color:#e6db74">&#34;Wake Forest&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;nombre&#34;</span> : <span style="color:#e6db74">&#34;Al-Farouq&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;apellido&#34;</span> : <span style="color:#e6db74">&#34;Aminu&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;foto&#34;</span> : <span style="color:#66d9ef">null</span>
</span></span><span style="display:flex;"><span>	},
</span></span><span style="display:flex;"><span>	{
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;altura&#34;</span> : <span style="color:#ae81ff">195.57999999999998</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;anoDraft&#34;</span> : <span style="color:#ae81ff">2015</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;idEquipo&#34;</span> : <span style="color:#ae81ff">12</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;idJugador&#34;</span> : <span style="color:#ae81ff">11</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;numero&#34;</span> : <span style="color:#ae81ff">10</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;numeroDraft&#34;</span> : <span style="color:#ae81ff">21</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;peso&#34;</span> : <span style="color:#ae81ff">104.77983747</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;posicion&#34;</span> : <span style="color:#e6db74">&#34;G&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;rondaDraft&#34;</span> : <span style="color:#ae81ff">1</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;pais&#34;</span> : <span style="color:#e6db74">&#34;USA&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;colegio&#34;</span> : <span style="color:#e6db74">&#34;Virginia&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;nombre&#34;</span> : <span style="color:#e6db74">&#34;Justin&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;apellido&#34;</span> : <span style="color:#e6db74">&#34;Anderson&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;foto&#34;</span> : <span style="color:#66d9ef">null</span>
</span></span><span style="display:flex;"><span>	},
</span></span><span style="display:flex;"><span>	{
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;altura&#34;</span> : <span style="color:#ae81ff">205.74</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;anoDraft&#34;</span> : <span style="color:#ae81ff">2014</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;idEquipo&#34;</span> : <span style="color:#ae81ff">18</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;idJugador&#34;</span> : <span style="color:#ae81ff">12</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;numero&#34;</span> : <span style="color:#ae81ff">1</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;numeroDraft&#34;</span> : <span style="color:#ae81ff">30</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;peso&#34;</span> : <span style="color:#ae81ff">104.32624510000001</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;posicion&#34;</span> : <span style="color:#e6db74">&#34;F&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;rondaDraft&#34;</span> : <span style="color:#ae81ff">1</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;pais&#34;</span> : <span style="color:#e6db74">&#34;USA&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;colegio&#34;</span> : <span style="color:#e6db74">&#34;UCLA&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;nombre&#34;</span> : <span style="color:#e6db74">&#34;Kyle&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;apellido&#34;</span> : <span style="color:#e6db74">&#34;Anderson&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;foto&#34;</span> : <span style="color:#66d9ef">null</span>
</span></span><span style="display:flex;"><span>	},
</span></span><span style="display:flex;"><span>	{
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;altura&#34;</span> : <span style="color:#ae81ff">208.28</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;anoDraft&#34;</span> : <span style="color:#ae81ff">2008</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;idEquipo&#34;</span> : <span style="color:#ae81ff">19</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;idJugador&#34;</span> : <span style="color:#ae81ff">13</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;numero&#34;</span> : <span style="color:#ae81ff">31</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;numeroDraft&#34;</span> : <span style="color:#ae81ff">21</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;peso&#34;</span> : <span style="color:#ae81ff">108.8621688</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;posicion&#34;</span> : <span style="color:#e6db74">&#34;F&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;rondaDraft&#34;</span> : <span style="color:#ae81ff">1</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;pais&#34;</span> : <span style="color:#e6db74">&#34;USA&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;colegio&#34;</span> : <span style="color:#e6db74">&#34;California&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;nombre&#34;</span> : <span style="color:#e6db74">&#34;Ryan&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;apellido&#34;</span> : <span style="color:#e6db74">&#34;Anderson&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;foto&#34;</span> : <span style="color:#66d9ef">null</span>
</span></span><span style="display:flex;"><span>	},
</span></span><span style="display:flex;"><span>	{
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;altura&#34;</span> : <span style="color:#ae81ff">210.82</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;anoDraft&#34;</span> : <span style="color:#ae81ff">2013</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;idEquipo&#34;</span> : <span style="color:#ae81ff">17</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;idJugador&#34;</span> : <span style="color:#ae81ff">15</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;numero&#34;</span> : <span style="color:#ae81ff">34</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;numeroDraft&#34;</span> : <span style="color:#ae81ff">15</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;peso&#34;</span> : <span style="color:#ae81ff">110.22294591</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;posicion&#34;</span> : <span style="color:#e6db74">&#34;F&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;rondaDraft&#34;</span> : <span style="color:#ae81ff">1</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;pais&#34;</span> : <span style="color:#e6db74">&#34;Greece&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;colegio&#34;</span> : <span style="color:#e6db74">&#34;Filathlitikos&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;nombre&#34;</span> : <span style="color:#e6db74">&#34;Giannis&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;apellido&#34;</span> : <span style="color:#e6db74">&#34;Antetokounmpo&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;foto&#34;</span> : <span style="color:#66d9ef">null</span>
</span></span><span style="display:flex;"><span>	},
</span></span><span style="display:flex;"><span>	{
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;altura&#34;</span> : <span style="color:#ae81ff">208.28</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;anoDraft&#34;</span> : <span style="color:#ae81ff">2018</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;idEquipo&#34;</span> : <span style="color:#ae81ff">5</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;idJugador&#34;</span> : <span style="color:#ae81ff">16</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;numero&#34;</span> : <span style="color:#ae81ff">37</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;numeroDraft&#34;</span> : <span style="color:#ae81ff">60</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;peso&#34;</span> : <span style="color:#ae81ff">90.718474</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;posicion&#34;</span> : <span style="color:#e6db74">&#34;F&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;rondaDraft&#34;</span> : <span style="color:#ae81ff">2</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;pais&#34;</span> : <span style="color:#e6db74">&#34;Greece&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;colegio&#34;</span> : <span style="color:#e6db74">&#34;Dayton&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;nombre&#34;</span> : <span style="color:#e6db74">&#34;Kostas&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;apellido&#34;</span> : <span style="color:#e6db74">&#34;Antetokounmpo&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;foto&#34;</span> : <span style="color:#66d9ef">null</span>
</span></span><span style="display:flex;"><span>	},
</span></span><span style="display:flex;"><span>	{
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;altura&#34;</span> : <span style="color:#ae81ff">200.66</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;anoDraft&#34;</span> : <span style="color:#ae81ff">2003</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;idEquipo&#34;</span> : <span style="color:#ae81ff">14</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;idJugador&#34;</span> : <span style="color:#ae81ff">17</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;numero&#34;</span> : <span style="color:#ae81ff">7</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;numeroDraft&#34;</span> : <span style="color:#ae81ff">3</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;peso&#34;</span> : <span style="color:#ae81ff">107.95498406</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;posicion&#34;</span> : <span style="color:#e6db74">&#34;F&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;rondaDraft&#34;</span> : <span style="color:#ae81ff">1</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;pais&#34;</span> : <span style="color:#e6db74">&#34;USA&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;colegio&#34;</span> : <span style="color:#e6db74">&#34;Syracuse&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;nombre&#34;</span> : <span style="color:#e6db74">&#34;Carmelo&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;apellido&#34;</span> : <span style="color:#e6db74">&#34;Anthony&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;foto&#34;</span> : <span style="color:#66d9ef">null</span>
</span></span><span style="display:flex;"><span>	},
</span></span><span style="display:flex;"><span>	{
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;altura&#34;</span> : <span style="color:#ae81ff">200.66</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;anoDraft&#34;</span> : <span style="color:#ae81ff">2017</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;idEquipo&#34;</span> : <span style="color:#ae81ff">20</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;idJugador&#34;</span> : <span style="color:#ae81ff">18</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;numero&#34;</span> : <span style="color:#ae81ff">8</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;numeroDraft&#34;</span> : <span style="color:#ae81ff">23</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;peso&#34;</span> : <span style="color:#ae81ff">108.8621688</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;posicion&#34;</span> : <span style="color:#e6db74">&#34;F&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;rondaDraft&#34;</span> : <span style="color:#ae81ff">1</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;pais&#34;</span> : <span style="color:#e6db74">&#34;United Kingdom&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;colegio&#34;</span> : <span style="color:#e6db74">&#34;Indiana&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;nombre&#34;</span> : <span style="color:#e6db74">&#34;OG&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;apellido&#34;</span> : <span style="color:#e6db74">&#34;Anunoby&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;foto&#34;</span> : <span style="color:#66d9ef">null</span>
</span></span><span style="display:flex;"><span>	},
</span></span><span style="display:flex;"><span>	{
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;altura&#34;</span> : <span style="color:#ae81ff">193.04</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;anoDraft&#34;</span> : <span style="color:#66d9ef">null</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;idEquipo&#34;</span> : <span style="color:#ae81ff">24</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;idJugador&#34;</span> : <span style="color:#ae81ff">30053472</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;numero&#34;</span> : <span style="color:#ae81ff">19</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;numeroDraft&#34;</span> : <span style="color:#66d9ef">null</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;peso&#34;</span> : <span style="color:#ae81ff">92.07925111</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;posicion&#34;</span> : <span style="color:#66d9ef">null</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;rondaDraft&#34;</span> : <span style="color:#66d9ef">null</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;pais&#34;</span> : <span style="color:#e6db74">&#34;Denmark&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;colegio&#34;</span> : <span style="color:#e6db74">&#34;CSKA Moscow&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;nombre&#34;</span> : <span style="color:#e6db74">&#34;Gabriel&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;apellido&#34;</span> : <span style="color:#e6db74">&#34;Lundberg&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;foto&#34;</span> : <span style="color:#66d9ef">null</span>
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>]}</span></span></code></pre></div>
  </div>
</details>
<h3 id="ejercicio-0603-relación-muchos-a-muchos-unidireccional-jugador-posición">Ejercicio 06.03. Relación muchos a muchos unidireccional Jugador-Posición</h3>
<p>Vamos a crear una relación muchos a muchos unidireccional entre <code>Jugador</code> y <code>Posicion</code>. Para eso debes crear una nueva entidad <code>Posicion</code> con los siguientes atributos:</p>
<ul>
<li><code>idPosicion</code>: identificador de la posición (Long).</li>
<li><code>nombre</code>: nombre de la posición (String, tamaño máximo 50).</li>
<li><code>abreviatura</code>: abreviatura de la posición (String, tamaño máximo 3).</li>
<li><code>descripcion</code>: descripción de la posición (String, tamaño máximo 255).</li>
</ul>
<p>Haz que la relación sea unidireccional, de modo que la entidad <code>Jugador</code> tenga una colección de <code>Posicion</code> y el nombre de la tabla de unión sea <code>JugadorPosicion</code>.</p>
<p>Crea posiciones y añádelas a los jugadores que has creado en el ejercicio anterior.</p>
<h3 id="ejercicio-0604-mapeo-de-una-base-de-datos-de-juegos">Ejercicio 06.04. Mapeo de una base de datos de juegos</h3>

<details open class=" box cstyle notices tip">
  <summary class="box-label" tabindex="-1">
    <i class="fa-fw fas fa-pen-square"></i> 
    Migración de base de datos H2 entre versiones
  </summary>
  <div class="box-content">
<p>En la base de datos origen se ejecuta el siguiente script:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span>SCRIPT <span style="color:#66d9ef">TO</span> <span style="color:#e6db74">&#39;&lt;ruta-al-archivo-backup&gt;/backup.sql&#39;</span>;</span></span></code></pre></div>
<p>En la base de datos destino se ejecuta el siguiente script:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span>RUNSCRIPT <span style="color:#66d9ef">FROM</span> <span style="color:#e6db74">&#39;&lt;ruta-al-archivo-backup&gt;/backup.sql&#39;</span>;</span></span></code></pre></div>
  </div>
</details>

<details open class=" box cstyle notices info">
  <summary class="box-label" tabindex="-1">
    <i class="fa-fw fas fa-pen-square"></i> 
    Ejercicio 6.4. Mapeo de una base de datos de juegos.
  </summary>
  <div class="box-content">
<p>Disponemos de una base de datos de juegos, que se compone de las siguientes tablas (la base de datos compartida está en el fichero anexo)</p>
<p><strong>Plataforma</strong>: idPlataforma, nombre. <em>(Ya contiene datos)</em>
<strong>Genero</strong>: idGenero, nombre. <em>(Ya contiene datos)</em>
<strong>Juego</strong>: idJuego, idGenero (FK), idPlataforma (FK), titulo, miniatura (varchar), estado, descripciónCorta, descripcion, url, editor, desarrollador, fecha.
<strong>Imagen</strong>: idImagen, idJuego (FK), url, imagen (tipo BLOB).
<strong>RequisitosSistema</strong>: idJuego (PK), almacenamiento, graficos, memoria, os, procesador.</p>
<p>Referencias: <a href="https://www.freetogame.com/api-doc" rel="external" target="_blank">https://www.freetogame.com/api-doc</a></p>
<ul>
<li>Las plataformas pueden ser: pc, browser, all, etc. (Ya disponibles en la tabla Plataforma)</li>
<li>Las categorías (géneros) pueden ser:
<ul>
<li><em>mmorpg, shooter, strategy, moba, racing, sports, social, sandbox, open-world, survival, pvp, pve, pixel, voxel, zombie, turn-based, first-person, third-Person, top-down, tank, space, sailing, side-scroller, superhero, permadeath, card, battle-royale, mmo, mmofps, mmotps, 3d, 2d, anime, fantasy, sci-fi, fighting, action-rpg, action, military, martial-arts, flight, low-spec, tower-defense, horror, mmorts</em>, etc. (Ya incorporadas en la tabla Genero)</li>
</ul>
</li>
</ul>
<p>Cuyos datos se ajustan al formato del siguiente JSON (ejemplo). Debes tener en cuenta que no se ha creado la  tabla de requeriminetos mínimos, pero se puede hacer si se desea en una nueva tabla de la base de datos, relacionada, uno a uno:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;id&#34;</span>: <span style="color:#ae81ff">452</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;title&#34;</span>: <span style="color:#e6db74">&#34;Call Of Duty: Warzone&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;thumbnail&#34;</span>: <span style="color:#e6db74">&#34;https:\/\/www.freetogame.com\/g\/452\/thumbnail.jpg&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;status&#34;</span>: <span style="color:#e6db74">&#34;Live&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;short_description&#34;</span>: <span style="color:#e6db74">&#34;A standalone free-to-play battle royale and modes accessible via Call of Duty: Modern Warfare.&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;description&#34;</span>: <span style="color:#e6db74">&#34;Call of Duty: Warzone is both a standalone free-to-play battle royale and modes accessible via Call of Duty: Modern Warfare. Warzone features two modes \u2014 the general 150-player battle royle, and \u201cPlunder\u201d. The latter mode is described as a \u201crace to deposit the most Cash\u201d. In both modes players can both earn and loot cash to be used when purchasing in-match equipment, field upgrades, and more. Both cash and XP are earned in a variety of ways, including completing contracts.\r\n\r\nAn interesting feature of the game is one that allows players who have been killed in a match to rejoin it by winning a 1v1 match against other felled players in the Gulag.\r\n\r\nOf course, being a battle royale, the game does offer a battle pass. The pass offers players new weapons, playable characters, Call of Duty points, blueprints, and more. Players can also earn plenty of new items by completing objectives offered with the pass.&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;game_url&#34;</span>: <span style="color:#e6db74">&#34;https:\/\/www.freetogame.com\/open\/call-of-duty-warzone&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;genre&#34;</span>: <span style="color:#e6db74">&#34;Shooter&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;platform&#34;</span>: <span style="color:#e6db74">&#34;Windows&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;publisher&#34;</span>: <span style="color:#e6db74">&#34;Activision&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;developer&#34;</span>: <span style="color:#e6db74">&#34;Infinity Ward&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;release_date&#34;</span>: <span style="color:#e6db74">&#34;2020-03-10&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;freetogame_profile_url&#34;</span>: <span style="color:#e6db74">&#34;https:\/\/www.freetogame.com\/call-of-duty-warzone&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;minimum_system_requirements&#34;</span>: {
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;os&#34;</span>: <span style="color:#e6db74">&#34;Windows 7 64-Bit (SP1) or Windows 10 64-Bit&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;processor&#34;</span>: <span style="color:#e6db74">&#34;Intel Core i3-4340 or AMD FX-6300&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;memory&#34;</span>: <span style="color:#e6db74">&#34;8GB RAM&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;graphics&#34;</span>: <span style="color:#e6db74">&#34;NVIDIA GeForce GTX 670 \/ GeForce GTX 1650 or Radeon HD 7950&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;storage&#34;</span>: <span style="color:#e6db74">&#34;175GB HD space&#34;</span>
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;screenshots&#34;</span>: [
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;id&#34;</span>: <span style="color:#ae81ff">1124</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;image&#34;</span>: <span style="color:#e6db74">&#34;https:\/\/www.freetogame.com\/g\/452\/Call-of-Duty-Warzone-1.jpg&#34;</span>
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;id&#34;</span>: <span style="color:#ae81ff">1125</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;image&#34;</span>: <span style="color:#e6db74">&#34;https:\/\/www.freetogame.com\/g\/452\/Call-of-Duty-Warzone-2.jpg&#34;</span>
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;id&#34;</span>: <span style="color:#ae81ff">1126</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;image&#34;</span>: <span style="color:#e6db74">&#34;https:\/\/www.freetogame.com\/g\/452\/Call-of-Duty-Warzone-3.jpg&#34;</span>
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;id&#34;</span>: <span style="color:#ae81ff">1127</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;image&#34;</span>: <span style="color:#e6db74">&#34;https:\/\/www.freetogame.com\/g\/452\/Call-of-Duty-Warzone-4.jpg&#34;</span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    ]
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<p>a) Crea entidades JPA en Java para las tablas de la base de datos, con las siguientes características:</p>
<ul>
<li><strong><code>Genero</code></strong>: con los atributos <code>idGenero</code>, <code>nombre</code>. La clave es autonumérica.</li>
<li><strong><code>Plataforma</code></strong>: con los atributos <code>idPlataforma</code> y <code>nombre</code>. La clave es autonumérica. <em>Nota: si se hubiese declarado como enumeración, para poder mapear una enumeración en una tabla independiente, obligaría a crear una entidad independiente con el idPlataforma y el nombre. Sin embargo, en este caso, se podría mapear la enumeración directamente en la tabla Juego o declararla como una clase y no como una enumeración.</em></li>
<li><strong><code>Juego</code></strong>: con todos los atributos de la tabla Juego, incluyendo la relación con Genero y Plataforma. La clave primaria, <strong>idJuego, no es autogenerada</strong>, es asignada. Ten en cuenta que la relación con la tabla Imagen se trata de una relación uno a muchos, por lo que se deberá declarar una colección de imágenes. Además, el <strong>idGenero y el idPlataforma son claves foráneas de las entidades y no deben declararse como atributos de la entidad Juego, sino como objetos del tipo de las entidades <code>Genero</code> y <code>Plataforma</code></strong>.</li>
<li><strong><code>Imagen</code></strong>: con los atributos <code>idImagen</code> (<strong>no autogenerada</strong>), <code>Juego</code> (relacionada con la entidad Juego @OneToOne), <code>url</code>, <code>imagen</code> (tipo byte[]).</li>
<li><strong><code>RequisitosSistema</code></strong>: relacionada con la tabla Juego. Atributos: <code>idJuego</code> (PK), <code>sistemaOperativo</code> (su nombre no coincide con la columna de la tabla), <code>almacenamiento</code>, <code>graficos</code>, <code>memoria</code>, <code>procesador</code> y su relación <code>juego</code>. Debe emplearse una clave comparta con el idJuego. Para ello debe emplearse la anotación: <code>@MapsId</code>: <code>@MapsId(&quot;idJuego&quot;)</code>.</li>
</ul>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>  <span style="color:#a6e22e">@OneToOne</span>(cascade <span style="color:#f92672">=</span> CascadeType.<span style="color:#a6e22e">ALL</span>, fetch <span style="color:#f92672">=</span> FetchType.<span style="color:#a6e22e">LAZY</span>)
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">@MapsId</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">@JoinColumn</span>(name <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;idJuego&#34;</span>)
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">private</span> Juego juego;</span></span></code></pre></div>
<p>b) Haz una sencilla aplicación que cree un juego y lo persista en la base de datos. Ten en cuenta que <strong>las claves no son autonuméricas</strong></p>
<ul>
<li>Ejemplo de juegos: <a href="https://www.freetogame.com/api/game?id=X" rel="external" target="_blank">https://www.freetogame.com/api/game?id=X</a>, pasándole el id del Juego, desde 1 al número de juegos que consideres. Ten en cuenta que el juego podría no existir devolviendo:</li>
</ul>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{<span style="color:#f92672">&#34;status&#34;</span>:<span style="color:#ae81ff">0</span>,<span style="color:#f92672">&#34;status_message&#34;</span>:<span style="color:#e6db74">&#34;No game found with that id&#34;</span>}</span></span></code></pre></div>
  </div>
</details>

<details open class=" box cstyle attachments transparent">
  <summary class="box-label" tabindex="-1">
    <i class="fa-fw fas fa-paperclip"></i> 
    Bases de datos de videojuegos (H2)
  </summary>
</details>
<h3 id="ejercicio-0605-claves-compartidas-en-relaciones-uno-a-uno">Ejercicio 06.05. Claves compartidas en relaciones uno a uno</h3>
<p><strong>Comprueba el funcionamiento de la anotación <code>@PrimaryKeyJoinColumn</code> en una relación uno a uno entre Persona y Departamento</strong>. Crea las entidades y realiza pruebas de persistencia.</p>
<p><strong>Persona</strong>: <code>idPersona</code> (IDENTITY), <code>nombre</code>, <code>departamento</code> (uno a uno con anotación de <code>@PrimaryKeyJoinColumn</code>)
<strong>Departamento</strong>: <code>idDepartamento</code> (IDENTITY), <code>nombre</code>.</p>
<p>Modifica el ejercicio para que sea bidireccional con <code>@OneToOne</code> y <code>@MapsId</code> en la entidad Departamento y como propietaria de la relación.</p>
<hr>
<h3 id="ejercicio-0701-elementos-embebidos">Ejercicio 07.01. Elementos embebidos.</h3>
<p>Crea una <strong>aplicación con JPA para la gestión de películas y series</strong>.</p>
<ol>
<li>
<p>Crea una clase <code>InfoContenido</code> con los siguientes atributos:</p>
<ul>
<li><code>titulo</code> (String): de tamaño 100.</li>
<li><code>genero</code> (String): de tamaño 50.</li>
<li><code>pais</code> (String): de tamaño 2.</li>
<li><code>duracion</code> (int): duración en minutos.</li>
<li><code>año</code> (int): año.</li>
<li><code>sinopsis</code> (String): de tamaño clob.</li>
</ul>
</li>
<li>
<p>Crea una entidad <code>Serie</code> con los siguientes atributos:</p>
<ul>
<li><code>idSerie</code> (long): identificador de la serie. Secuencia.</li>
<li><code>informacion</code> (de tipo <code>InfoContenido</code>)</li>
<li><code>fechaEstreno</code> (LocalDate).</li>
<li><code>temporadas</code> (int): número de temporadas.</li>
<li><code>capitulos</code> (int)</li>
<li><code>directores</code> (lista de String).</li>
</ul>
</li>
<li>
<p>Crea una entidad <code>Pelicula</code> con los siguientes atributos:</p>
<ul>
<li><code>idPelicula</code> (long): identificador de la película. Secuencia.</li>
<li><code>informacion</code> (de tipo <code>InfoContenido</code>)</li>
</ul>
</li>
</ol>
<ul>
<li>
<p>La entidad <code>Serie</code> y <code>Pelicula</code> deben tener el atributo <code>informacion</code> como un objeto embebido.</p>
</li>
<li>
<p>La entidad <code>Pelicula</code> el atributo <code>pais</code> debe ser renombrado a <code>paisPelicula</code>.</p>
</li>
<li>
<p>El atributo <code>directores</code> debe guardarse en una nueva tabla, como una colección con la anotación <code>@ElementCollection</code> (busca información sobre esta anotación).</p>
</li>
<li>
<p>La fecha de estreno, <code>fechaEstreno</code>, de la serie debe guardarse en formato numérico (YYYYMMDD).</p>
</li>
</ul>
<h3 id="ejercicio-0702-clave-compuesta-en-una-relación-de-muchos-a-muchos">Ejercicio 07.02. Clave compuesta en una relación de muchos a muchos.</h3>
<p>Data la aplicación de gestión de películas y series, añade dos nuevas entidades: <code>Usuario</code> y <code>Calificacion</code> que permita a los usuarios calificar las películas.</p>
<ol>
<li>
<p>Crea una clase <code>Usuario</code> con los siguientes atributos:</p>
<ul>
<li><code>idUsuario</code> (long): identificador del usuario. Secuencia.</li>
<li><code>nombre</code> (String): nombre del usuario.</li>
<li><code>email</code> (String): email del usuario.</li>
<li><code>password</code> (String): contraseña del usuario.</li>
<li><code>fechaRegistro</code> (LocalDate): fecha de registro.</li>
</ul>
</li>
<li>
<p>Crea una clase <code>Calificacion</code> con los siguientes atributos:</p>
<ul>
<li><code>calificacion</code> (int): calificación del contenido, con valores de 10 a 0.</li>
<li><code>fechaCalificacion</code> (LocalDate): fecha de la calificación.</li>
<li><code>comentario</code> (String): comentario de la calificación.</li>
<li>Además, debe estar relacionado con las entidades <code>Usuario</code>, <code>Pelicula</code> y <code>Serie</code>. Como un usuario puede calificar varias películas y series, y una película o serie puede ser calificada por varios usuarios, es una relación de muchos a muchos. <em>No es preciso que califique series, pues el caso de uso es similar al de las películas</em>.</li>
</ul>
</li>
</ol>
<p>La clave primaria de la tabla <code>Calificacion</code> debe ser compuesta por los atributos <code>idUsuario</code>, <code>idPelicula</code>.</p>
<hr>
<h3 id="ejercicio-0703-entidades-principales-de-base-de-datos-de-películas">Ejercicio 07.03. Entidades principales de base de datos de películas.</h3>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span>            <span style="color:#f92672">&lt;property</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;jakarta.persistence.jdbc.url&#34;</span>
</span></span><span style="display:flex;"><span>                      <span style="color:#a6e22e">value=</span><span style="color:#e6db74">&#34;jdbc:mariadb://dbalumnos.sanclemente.local:3312/Peliculas&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;property</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;jakarta.persistence.jdbc.user&#34;</span> <span style="color:#a6e22e">value=</span><span style="color:#e6db74">&#34;accesoadatos&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;property</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;jakarta.persistence.jdbc.password&#34;</span> <span style="color:#a6e22e">value=</span><span style="color:#e6db74">&#34;ad123..&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;property</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;jakarta.persistence.jdbc.driver&#34;</span> <span style="color:#a6e22e">value=</span><span style="color:#e6db74">&#34;org.mariadb.jdbc.Driver&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;property</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;jakarta.persistence.schema-generation.database.action&#34;</span> <span style="color:#a6e22e">value=</span><span style="color:#e6db74">&#34;none&#34;</span><span style="color:#f92672">/&gt;</span></span></span></code></pre></div>
<p>Sea la siguiente estructura de la base de datos:</p>
<p><a href="#R-image-5a98e7a0786c377c704a7d9ea80d0bff" class="lightbox-link"><img alt="Estructura de la base de datos" class="lazy lightbox figure-image" loading="lazy" src="https://manuais.pages.iessanclemente.net/plantillas/dam/ad/03orm/jpa/media/peliculaser.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-5a98e7a0786c377c704a7d9ea80d0bff"><img alt="Estructura de la base de datos" class="lazy lightbox lightbox-image" loading="lazy" src="https://manuais.pages.iessanclemente.net/plantillas/dam/ad/03orm/jpa/media/peliculaser.png"></a></p>

<details class=" box cstyle notices transparent expand">
  <summary class="box-label">
    <i class="expander-icon fa-fw fas fa-chevron-right"></i> 
    SQL de las tablas de la base de datos
  </summary>
  <div class="box-content">
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">CREATE</span> <span style="color:#66d9ef">TABLE</span> <span style="color:#66d9ef">IF</span> <span style="color:#66d9ef">NOT</span> <span style="color:#66d9ef">EXISTS</span> <span style="color:#f92672">`</span>pelicula<span style="color:#f92672">`</span> (
</span></span><span style="display:flex;"><span>   <span style="color:#f92672">`</span>idPelicula<span style="color:#f92672">`</span> int(<span style="color:#ae81ff">10</span>) <span style="color:#66d9ef">NOT</span> <span style="color:#66d9ef">NULL</span>,
</span></span><span style="display:flex;"><span>   <span style="color:#f92672">`</span>musica<span style="color:#f92672">`</span> varchar(<span style="color:#ae81ff">50</span>) <span style="color:#66d9ef">COLLATE</span> utf8_spanish_ci <span style="color:#66d9ef">DEFAULT</span> <span style="color:#66d9ef">NULL</span>,
</span></span><span style="display:flex;"><span>   <span style="color:#f92672">`</span>orixinal<span style="color:#f92672">`</span> varchar(<span style="color:#ae81ff">125</span>) <span style="color:#66d9ef">COLLATE</span> utf8_spanish_ci <span style="color:#66d9ef">DEFAULT</span> <span style="color:#66d9ef">NULL</span>,
</span></span><span style="display:flex;"><span>   <span style="color:#f92672">`</span>ingles<span style="color:#f92672">`</span> varchar(<span style="color:#ae81ff">125</span>) <span style="color:#66d9ef">COLLATE</span> utf8_spanish_ci <span style="color:#66d9ef">DEFAULT</span> <span style="color:#66d9ef">NULL</span>,
</span></span><span style="display:flex;"><span>   <span style="color:#f92672">`</span>castelan<span style="color:#f92672">`</span> varchar(<span style="color:#ae81ff">125</span>) <span style="color:#66d9ef">COLLATE</span> utf8_spanish_ci <span style="color:#66d9ef">DEFAULT</span> <span style="color:#66d9ef">NULL</span>,
</span></span><span style="display:flex;"><span>   <span style="color:#f92672">`</span>xenero<span style="color:#f92672">`</span> varchar(<span style="color:#ae81ff">50</span>) <span style="color:#66d9ef">COLLATE</span> utf8_spanish_ci <span style="color:#66d9ef">DEFAULT</span> <span style="color:#66d9ef">NULL</span>,
</span></span><span style="display:flex;"><span>   <span style="color:#f92672">`</span>anoInicio<span style="color:#f92672">`</span> smallint(<span style="color:#ae81ff">5</span>) <span style="color:#66d9ef">DEFAULT</span> <span style="color:#66d9ef">NULL</span>,
</span></span><span style="display:flex;"><span>   <span style="color:#f92672">`</span>anoFin<span style="color:#f92672">`</span> smallint(<span style="color:#ae81ff">5</span>) <span style="color:#66d9ef">DEFAULT</span> <span style="color:#66d9ef">NULL</span>,
</span></span><span style="display:flex;"><span>   <span style="color:#f92672">`</span>pais<span style="color:#f92672">`</span> varchar(<span style="color:#ae81ff">125</span>) <span style="color:#66d9ef">COLLATE</span> utf8_spanish_ci <span style="color:#66d9ef">DEFAULT</span> <span style="color:#66d9ef">NULL</span>,
</span></span><span style="display:flex;"><span>   <span style="color:#f92672">`</span>duración<span style="color:#f92672">`</span> smallint(<span style="color:#ae81ff">5</span>) <span style="color:#66d9ef">DEFAULT</span> <span style="color:#66d9ef">NULL</span>,
</span></span><span style="display:flex;"><span>   <span style="color:#f92672">`</span>outrasDuracions<span style="color:#f92672">`</span> varchar(<span style="color:#ae81ff">25</span>) <span style="color:#66d9ef">COLLATE</span> utf8_spanish_ci <span style="color:#66d9ef">DEFAULT</span> <span style="color:#66d9ef">NULL</span>,
</span></span><span style="display:flex;"><span>   <span style="color:#f92672">`</span>cor<span style="color:#f92672">`</span> varchar(<span style="color:#ae81ff">12</span>) <span style="color:#66d9ef">COLLATE</span> utf8_spanish_ci <span style="color:#66d9ef">DEFAULT</span> <span style="color:#66d9ef">NULL</span>,
</span></span><span style="display:flex;"><span>   <span style="color:#f92672">`</span>son<span style="color:#f92672">`</span> varchar(<span style="color:#ae81ff">6</span>) <span style="color:#66d9ef">COLLATE</span> utf8_spanish_ci <span style="color:#66d9ef">DEFAULT</span> <span style="color:#66d9ef">NULL</span>,
</span></span><span style="display:flex;"><span>   <span style="color:#f92672">`</span>video<span style="color:#f92672">`</span> varchar(<span style="color:#ae81ff">2</span>) <span style="color:#66d9ef">COLLATE</span> utf8_spanish_ci <span style="color:#66d9ef">DEFAULT</span> <span style="color:#66d9ef">NULL</span>,
</span></span><span style="display:flex;"><span>   <span style="color:#f92672">`</span>laserDisc<span style="color:#f92672">`</span> varchar(<span style="color:#ae81ff">2</span>) <span style="color:#66d9ef">COLLATE</span> utf8_spanish_ci <span style="color:#66d9ef">DEFAULT</span> <span style="color:#66d9ef">NULL</span>,
</span></span><span style="display:flex;"><span>   <span style="color:#f92672">`</span>texto<span style="color:#f92672">`</span> longtext <span style="color:#66d9ef">COLLATE</span> utf8_spanish_ci,
</span></span><span style="display:flex;"><span>   <span style="color:#f92672">`</span>poster<span style="color:#f92672">`</span> longblob,
</span></span><span style="display:flex;"><span>   <span style="color:#f92672">`</span>revisado<span style="color:#f92672">`</span> varchar(<span style="color:#ae81ff">10</span>) <span style="color:#66d9ef">COLLATE</span> utf8_spanish_ci <span style="color:#66d9ef">DEFAULT</span> <span style="color:#66d9ef">NULL</span>,
</span></span><span style="display:flex;"><span>   <span style="color:#66d9ef">PRIMARY</span> <span style="color:#66d9ef">KEY</span> (<span style="color:#f92672">`</span>idPelicula<span style="color:#f92672">`</span>),
</span></span><span style="display:flex;"><span>   <span style="color:#66d9ef">UNIQUE</span> <span style="color:#66d9ef">KEY</span> <span style="color:#f92672">`</span>Película<span style="color:#f92672">#</span>PX<span style="color:#f92672">`</span> (<span style="color:#f92672">`</span>idPelicula<span style="color:#f92672">`</span>),
</span></span><span style="display:flex;"><span>   <span style="color:#66d9ef">KEY</span> <span style="color:#f92672">`</span>Género<span style="color:#f92672">`</span> (<span style="color:#f92672">`</span>xenero<span style="color:#f92672">`</span>),
</span></span><span style="display:flex;"><span>   <span style="color:#66d9ef">KEY</span> <span style="color:#f92672">`</span>GéneroPelícula<span style="color:#f92672">`</span> (<span style="color:#f92672">`</span>xenero<span style="color:#f92672">`</span>),
</span></span><span style="display:flex;"><span>   <span style="color:#66d9ef">KEY</span> <span style="color:#f92672">`</span>OriginalAnyo<span style="color:#f92672">`</span> (<span style="color:#f92672">`</span>orixinal<span style="color:#f92672">`</span>,<span style="color:#f92672">`</span>anoFin<span style="color:#f92672">`</span>),
</span></span><span style="display:flex;"><span>   <span style="color:#66d9ef">KEY</span> <span style="color:#f92672">`</span>País<span style="color:#f92672">`</span> (<span style="color:#f92672">`</span>pais<span style="color:#f92672">`</span>),
</span></span><span style="display:flex;"><span>   <span style="color:#66d9ef">KEY</span> <span style="color:#f92672">`</span>PaísPelícula<span style="color:#f92672">`</span> (<span style="color:#f92672">`</span>pais<span style="color:#f92672">`</span>)
</span></span><span style="display:flex;"><span>   ) ENGINE<span style="color:#f92672">=</span>InnoDB <span style="color:#66d9ef">DEFAULT</span> CHARSET<span style="color:#f92672">=</span>utf8 <span style="color:#66d9ef">COLLATE</span><span style="color:#f92672">=</span>utf8_spanish_ci;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">CREATE</span> <span style="color:#66d9ef">TABLE</span> <span style="color:#66d9ef">IF</span> <span style="color:#66d9ef">NOT</span> <span style="color:#66d9ef">EXISTS</span> <span style="color:#f92672">`</span>personaxe<span style="color:#f92672">`</span> (
</span></span><span style="display:flex;"><span>   <span style="color:#f92672">`</span>idPersonaxe<span style="color:#f92672">`</span> int(<span style="color:#ae81ff">10</span>) <span style="color:#66d9ef">NOT</span> <span style="color:#66d9ef">NULL</span>,
</span></span><span style="display:flex;"><span>   <span style="color:#f92672">`</span>importancia<span style="color:#f92672">`</span> varchar(<span style="color:#ae81ff">16</span>) <span style="color:#66d9ef">COLLATE</span> utf8_spanish_ci <span style="color:#66d9ef">DEFAULT</span> <span style="color:#66d9ef">NULL</span>,
</span></span><span style="display:flex;"><span>   <span style="color:#f92672">`</span>nome<span style="color:#f92672">`</span> varchar(<span style="color:#ae81ff">125</span>) <span style="color:#66d9ef">COLLATE</span> utf8_spanish_ci <span style="color:#66d9ef">DEFAULT</span> <span style="color:#66d9ef">NULL</span>,
</span></span><span style="display:flex;"><span>   <span style="color:#f92672">`</span>nomeOrdenado<span style="color:#f92672">`</span> varchar(<span style="color:#ae81ff">125</span>) <span style="color:#66d9ef">COLLATE</span> utf8_spanish_ci <span style="color:#66d9ef">DEFAULT</span> <span style="color:#66d9ef">NULL</span>,
</span></span><span style="display:flex;"><span>   <span style="color:#f92672">`</span>nomeOrixinal<span style="color:#f92672">`</span> varchar(<span style="color:#ae81ff">125</span>) <span style="color:#66d9ef">COLLATE</span> utf8_spanish_ci <span style="color:#66d9ef">DEFAULT</span> <span style="color:#66d9ef">NULL</span>,
</span></span><span style="display:flex;"><span>   <span style="color:#f92672">`</span>sexo<span style="color:#f92672">`</span> varchar(<span style="color:#ae81ff">6</span>) <span style="color:#66d9ef">COLLATE</span> utf8_spanish_ci <span style="color:#66d9ef">DEFAULT</span> <span style="color:#66d9ef">NULL</span>,
</span></span><span style="display:flex;"><span>   <span style="color:#f92672">`</span>dataNacemento<span style="color:#f92672">`</span> datetime <span style="color:#66d9ef">DEFAULT</span> <span style="color:#66d9ef">NULL</span>,
</span></span><span style="display:flex;"><span>   <span style="color:#f92672">`</span>paisNacemento<span style="color:#f92672">`</span> varchar(<span style="color:#ae81ff">125</span>) <span style="color:#66d9ef">COLLATE</span> utf8_spanish_ci <span style="color:#66d9ef">DEFAULT</span> <span style="color:#66d9ef">NULL</span>,
</span></span><span style="display:flex;"><span>   <span style="color:#f92672">`</span>cidadeNacemento<span style="color:#f92672">`</span> varchar(<span style="color:#ae81ff">125</span>) <span style="color:#66d9ef">COLLATE</span> utf8_spanish_ci <span style="color:#66d9ef">DEFAULT</span> <span style="color:#66d9ef">NULL</span>,
</span></span><span style="display:flex;"><span>   <span style="color:#f92672">`</span>dataDefuncion<span style="color:#f92672">`</span> datetime <span style="color:#66d9ef">DEFAULT</span> <span style="color:#66d9ef">NULL</span>,
</span></span><span style="display:flex;"><span>   <span style="color:#f92672">`</span>paisDefuncion<span style="color:#f92672">`</span> varchar(<span style="color:#ae81ff">125</span>) <span style="color:#66d9ef">COLLATE</span> utf8_spanish_ci <span style="color:#66d9ef">DEFAULT</span> <span style="color:#66d9ef">NULL</span>,
</span></span><span style="display:flex;"><span>   <span style="color:#f92672">`</span>cidadeDefuncion<span style="color:#f92672">`</span> varchar(<span style="color:#ae81ff">125</span>) <span style="color:#66d9ef">COLLATE</span> utf8_spanish_ci <span style="color:#66d9ef">DEFAULT</span> <span style="color:#66d9ef">NULL</span>,
</span></span><span style="display:flex;"><span>   <span style="color:#f92672">`</span>estudio<span style="color:#f92672">`</span> varchar(<span style="color:#ae81ff">1</span>) <span style="color:#66d9ef">COLLATE</span> utf8_spanish_ci <span style="color:#66d9ef">DEFAULT</span> <span style="color:#66d9ef">NULL</span>,
</span></span><span style="display:flex;"><span>   <span style="color:#f92672">`</span>bio<span style="color:#f92672">`</span> varchar(<span style="color:#ae81ff">1</span>) <span style="color:#66d9ef">COLLATE</span> utf8_spanish_ci <span style="color:#66d9ef">DEFAULT</span> <span style="color:#66d9ef">NULL</span>,
</span></span><span style="display:flex;"><span>   <span style="color:#f92672">`</span>texto<span style="color:#f92672">`</span> longtext <span style="color:#66d9ef">COLLATE</span> utf8_spanish_ci,
</span></span><span style="display:flex;"><span>   <span style="color:#f92672">`</span>textoFilmografia<span style="color:#f92672">`</span> longtext <span style="color:#66d9ef">COLLATE</span> utf8_spanish_ci,
</span></span><span style="display:flex;"><span>   <span style="color:#f92672">`</span>revisado<span style="color:#f92672">`</span> varchar(<span style="color:#ae81ff">10</span>) <span style="color:#66d9ef">COLLATE</span> utf8_spanish_ci <span style="color:#66d9ef">DEFAULT</span> <span style="color:#66d9ef">NULL</span>,
</span></span><span style="display:flex;"><span>   <span style="color:#66d9ef">PRIMARY</span> <span style="color:#66d9ef">KEY</span> (<span style="color:#f92672">`</span>idPersonaxe<span style="color:#f92672">`</span>),
</span></span><span style="display:flex;"><span>   <span style="color:#66d9ef">UNIQUE</span> <span style="color:#66d9ef">KEY</span> <span style="color:#f92672">`</span>Personaje<span style="color:#f92672">#</span>PX<span style="color:#f92672">`</span> (<span style="color:#f92672">`</span>idPersonaxe<span style="color:#f92672">`</span>),
</span></span><span style="display:flex;"><span>   <span style="color:#66d9ef">KEY</span> <span style="color:#f92672">`</span>NomPersona<span style="color:#f92672">`</span> (<span style="color:#f92672">`</span>nome<span style="color:#f92672">`</span>),
</span></span><span style="display:flex;"><span>   <span style="color:#66d9ef">KEY</span> <span style="color:#f92672">`</span>País de defunción<span style="color:#f92672">`</span> (<span style="color:#f92672">`</span>paisDefuncion<span style="color:#f92672">`</span>),
</span></span><span style="display:flex;"><span>   <span style="color:#66d9ef">KEY</span> <span style="color:#f92672">`</span>País de nacimiento<span style="color:#f92672">`</span> (<span style="color:#f92672">`</span>paisNacemento<span style="color:#f92672">`</span>),
</span></span><span style="display:flex;"><span>   <span style="color:#66d9ef">KEY</span> <span style="color:#f92672">`</span>PaísPersonaje<span style="color:#f92672">`</span> (<span style="color:#f92672">`</span>paisNacemento<span style="color:#f92672">`</span>),
</span></span><span style="display:flex;"><span>   <span style="color:#66d9ef">KEY</span> <span style="color:#f92672">`</span>PaísPersonaje1<span style="color:#f92672">`</span> (<span style="color:#f92672">`</span>paisDefuncion<span style="color:#f92672">`</span>),
</span></span><span style="display:flex;"><span>   <span style="color:#66d9ef">KEY</span> <span style="color:#f92672">`</span>SexoPersonaxe<span style="color:#f92672">`</span> (<span style="color:#f92672">`</span>sexo<span style="color:#f92672">`</span>)
</span></span><span style="display:flex;"><span>   ) ENGINE<span style="color:#f92672">=</span>InnoDB <span style="color:#66d9ef">DEFAULT</span> CHARSET<span style="color:#f92672">=</span>utf8 <span style="color:#66d9ef">COLLATE</span><span style="color:#f92672">=</span>utf8_spanish_ci;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">CREATE</span> <span style="color:#66d9ef">TABLE</span> <span style="color:#66d9ef">IF</span> <span style="color:#66d9ef">NOT</span> <span style="color:#66d9ef">EXISTS</span> <span style="color:#f92672">`</span>peliculapersonaxe<span style="color:#f92672">`</span> (
</span></span><span style="display:flex;"><span><span style="color:#f92672">`</span>idPersonaxe<span style="color:#f92672">`</span> int(<span style="color:#ae81ff">10</span>) <span style="color:#66d9ef">NOT</span> <span style="color:#66d9ef">NULL</span>,
</span></span><span style="display:flex;"><span><span style="color:#f92672">`</span>idPelicula<span style="color:#f92672">`</span> int(<span style="color:#ae81ff">10</span>) <span style="color:#66d9ef">NOT</span> <span style="color:#66d9ef">NULL</span>,
</span></span><span style="display:flex;"><span><span style="color:#f92672">`</span>ocupacion<span style="color:#f92672">`</span> varchar(<span style="color:#ae81ff">50</span>) <span style="color:#66d9ef">COLLATE</span> utf8_spanish_ci <span style="color:#66d9ef">NOT</span> <span style="color:#66d9ef">NULL</span>,
</span></span><span style="display:flex;"><span><span style="color:#f92672">`</span>personaxeInterpretado<span style="color:#f92672">`</span> varchar(<span style="color:#ae81ff">50</span>) <span style="color:#66d9ef">COLLATE</span> utf8_spanish_ci <span style="color:#66d9ef">DEFAULT</span> <span style="color:#66d9ef">NULL</span>,
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">PRIMARY</span> <span style="color:#66d9ef">KEY</span> (<span style="color:#f92672">`</span>idPelicula<span style="color:#f92672">`</span>,<span style="color:#f92672">`</span>idPersonaxe<span style="color:#f92672">`</span>,<span style="color:#f92672">`</span>ocupacion<span style="color:#f92672">`</span>),
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">KEY</span> <span style="color:#f92672">`</span>OcupaciónPelícula_Personaje<span style="color:#f92672">`</span> (<span style="color:#f92672">`</span>ocupacion<span style="color:#f92672">`</span>),
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">KEY</span> <span style="color:#f92672">`</span>PersonajePelícula_Personaje<span style="color:#f92672">`</span> (<span style="color:#f92672">`</span>idPersonaxe<span style="color:#f92672">`</span>)
</span></span><span style="display:flex;"><span>) ENGINE<span style="color:#f92672">=</span>InnoDB <span style="color:#66d9ef">DEFAULT</span> CHARSET<span style="color:#f92672">=</span>utf8 <span style="color:#66d9ef">COLLATE</span><span style="color:#f92672">=</span>utf8_spanish_ci;</span></span></code></pre></div>
  </div>
</details>
<p>En el que:</p>
<ul>
<li>El <strong>título de la película</strong> se guarda en el campo <code>castelan</code>.</li>
<li>El <strong>identificador de la película es entero</strong> (no autoincremento).</li>
<li>Los participantes de la película están relacionados por medio da de la tabla <code>peliculapersonaxe</code>, en la que el campo <code>ocupacion</code> identifica o tipo de ocupación de la película (‘Actor’, &hellip;):</li>
</ul>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">CREATE</span> <span style="color:#66d9ef">TABLE</span> <span style="color:#66d9ef">IF</span> <span style="color:#66d9ef">NOT</span> <span style="color:#66d9ef">EXISTS</span> <span style="color:#f92672">`</span>ocupacion<span style="color:#f92672">`</span> (
</span></span><span style="display:flex;"><span>   <span style="color:#f92672">`</span>ocupacion<span style="color:#f92672">`</span> varchar(<span style="color:#ae81ff">50</span>) <span style="color:#66d9ef">COLLATE</span> utf8_spanish_ci <span style="color:#66d9ef">DEFAULT</span> <span style="color:#66d9ef">NULL</span>,
</span></span><span style="display:flex;"><span>   <span style="color:#f92672">`</span>orde<span style="color:#f92672">`</span> int(<span style="color:#ae81ff">11</span>) <span style="color:#66d9ef">NOT</span> <span style="color:#66d9ef">NULL</span>,
</span></span><span style="display:flex;"><span>   <span style="color:#66d9ef">UNIQUE</span> <span style="color:#66d9ef">KEY</span> <span style="color:#f92672">`</span>Ocupación<span style="color:#f92672">#</span>PX<span style="color:#f92672">`</span> (<span style="color:#f92672">`</span>ocupacion<span style="color:#f92672">`</span>)
</span></span><span style="display:flex;"><span>   ) ENGINE<span style="color:#f92672">=</span>InnoDB <span style="color:#66d9ef">DEFAULT</span> CHARSET<span style="color:#f92672">=</span>utf8 <span style="color:#66d9ef">COLLATE</span><span style="color:#f92672">=</span>utf8_spanish_ci;</span></span></code></pre></div>
<p><a href="#R-image-02c95bd1e53e329e9ab3a337898fadd1" class="lightbox-link"><img alt="Ocupación" class="lazy lightbox figure-image" loading="lazy" src="https://manuais.pages.iessanclemente.net/plantillas/dam/ad/03orm/jpa/media/ocupacion.png?width=300" style=" height: auto; width: 300;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-02c95bd1e53e329e9ab3a337898fadd1"><img alt="Ocupación" class="lazy lightbox lightbox-image" loading="lazy" src="https://manuais.pages.iessanclemente.net/plantillas/dam/ad/03orm/jpa/media/ocupacion.png?width=300"></a></p>
<p><a href="#R-image-524d267a07e4ea05fca16ea213ec0206" class="lightbox-link"><img alt="Personaxeocupación" class="lazy lightbox figure-image" loading="lazy" src="https://manuais.pages.iessanclemente.net/plantillas/dam/ad/03orm/jpa/media/personaxeocupacion.png?width=400" style=" height: auto; width: 400;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-524d267a07e4ea05fca16ea213ec0206"><img alt="Personaxeocupación" class="lazy lightbox lightbox-image" loading="lazy" src="https://manuais.pages.iessanclemente.net/plantillas/dam/ad/03orm/jpa/media/personaxeocupacion.png?width=400"></a></p>
<p>Para empezar, <strong>crea las entidades <code>Pelicula</code>, <code>Personaxe</code> y <code>Ocupacion</code></strong>.
A continuación, <strong>crea la entidad <code>PeliculaPersonaxe</code> que relaciona las entidades <code>Pelicula</code> y <code>Personaxe</code> y <code>Ocupacion</code></strong>. Ten en cuenta que tiene un nuevo atributo <code>personaxeInterpretado</code>, que <strong>es el nombre del personaje interpretado por el actor en la película</strong>.</p>
<p>Mejora:</p>
<p>Crea las entidades asociadas a la base de datos. De modo que las columnas <code>anoInicio</code>, <code>outrasDuracions</code>, <code>video</code>, <code>laserDisc</code> pertenezca a una entidad <code>DetallePelicula</code> de tipo embebido.
Hay que tener en cuenta que estos elementos no siempre están presentes, por lo que deben ser opcionales.</p>
<hr>
<h3 id="ejercicio-0901-ejecución-de-consultas-jpa-películas">Ejercicio 09.01. Ejecución de consultas JPA Películas</h3>
<p>Implementa el ejemplo anterior contra una base de datos de películas proporcionada.</p>
<p>URL de la base de datos mysql: <code>jdbc:mariadb://dbalumnos.sanclemente.local:3312/Peliculas</code>
URL con usuario y contraseña: <code>jdbc:mariadb://dbalumnos.sanclemente.local:3312/Peliculas?user=accesoadatos&amp;password=abc123..&amp;useSSL=false</code>
Pese a todo lo mejor es que el usuario y contraseña se guarden en un archivo de propiedades, <code>persistence.xml</code>, como se ha visto en el tema de configuración.</p>
<p>Realiza las siguientes consultas:</p>
<p>Las películas que no tienen año de inicio definido:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">SELECT</span> p.castelan, p.anoFin, p.anoInicio
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">FROM</span> Pelicula p
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">WHERE</span> p.anoInicio <span style="color:#66d9ef">IS</span> <span style="color:#66d9ef">NOT</span> <span style="color:#66d9ef">NULL</span>;</span></span></code></pre></div>
<p>Las películas con una duración superior a 120 minutos:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">SELECT</span> p.castelan, p.anoFin, p.duracion
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">FROM</span> Pelicula p
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">WHERE</span> p.duracion <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">120</span>;</span></span></code></pre></div>
<p>Las películas con Antonio Banderas:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">SELECT</span> p <span style="color:#66d9ef">FROM</span> Pelicula p <span style="color:#66d9ef">JOIN</span> p.personaxes pp <span style="color:#66d9ef">JOIN</span> pp.personaxe per <span style="color:#66d9ef">WHERE</span> per.nomeOrdenado <span style="color:#66d9ef">LIKE</span> <span style="color:#e6db74">&#39;Antonio Banderas&#39;</span>;</span></span></code></pre></div>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"></code></pre></div>
<p>Las tablas de la base de datos sobre las que hay que implantar las entidades y realizar las consultas son las del ejercicio anterior.</p>
<p><a href="#R-image-863133f32a689ba90a4cb8cbb276c340" class="lightbox-link"><img alt="Estructura de la base de datos" class="lazy lightbox figure-image" loading="lazy" src="https://manuais.pages.iessanclemente.net/plantillas/dam/ad/03orm/jpa/media/peliculaser.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-863133f32a689ba90a4cb8cbb276c340"><img alt="Estructura de la base de datos" class="lazy lightbox lightbox-image" loading="lazy" src="https://manuais.pages.iessanclemente.net/plantillas/dam/ad/03orm/jpa/media/peliculaser.png"></a></p>
<p><a href="#R-image-c10d286b93ee3ea14f700b79294c444d" class="lightbox-link"><img alt="Personaxeocupación" class="lazy lightbox figure-image" loading="lazy" src="https://manuais.pages.iessanclemente.net/plantillas/dam/ad/03orm/jpa/media/personaxeocupacion.png?width=400" style=" height: auto; width: 400;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-c10d286b93ee3ea14f700b79294c444d"><img alt="Personaxeocupación" class="lazy lightbox lightbox-image" loading="lazy" src="https://manuais.pages.iessanclemente.net/plantillas/dam/ad/03orm/jpa/media/personaxeocupacion.png?width=400"></a></p>
<h3 id="ejercicio-0902-creación-de-consultas-jpa-películas">Ejercicio 09.02. Creación de consultas JPA Películas</h3>
<p>a) Obtener todas las películas que tienen una <strong>duración mayor a 120 minutos</strong>.</p>
<!--
```sql
SELECT p FROM Pelicula p WHERE p.duracion > 120
```
-->
<p>b) Obtener todas las películas que <strong>pertenecen a un género específico</strong> (por ejemplo, &ldquo;Drama&rdquo;).</p>
<!--
```sql
SELECT p FROM Pelicula p WHERE p.xenero = 'Drama'
```
-->
<p>c) Obtener todas las ocupaciones que <strong>tienen más de 5 películas asociadas.</strong></p>
<!--
```sql
SELECT o FROM Ocupacion o WHERE SIZE(o.peliculaPersonaxes) > 5
```
-->
<p>d) Obtener <strong>todas las películas que tienen un país específico</strong> (por ejemplo, &ldquo;España&rdquo;).</p>
<!--
```sql
SELECT p FROM Pelicula p WHERE p.pais.pais = 'España'
```
-->
<p>e) Obtener todas las películas que tienen <strong>al menos un personaje interpretado por un actor de un país específico</strong> (por ejemplo, &ldquo;Francia&rdquo;).</p>
<!--
```sql
SELECT DISTINCT pp.pelicula 
FROM PeliculaPersonaxe pp 
JOIN pp.personaxe pe 
WHERE pe.paisNacemento = 'Francia'
```
-->
<p>f) Obtener todas las películas que tienen <strong>música compuesta por un compositor específico</strong> (por ejemplo, &ldquo;John Williams&rdquo;).</p>
<!--
```sql
SELECT p FROM Pelicula p WHERE p.musica = 'John Williams'
```
-->
<p>g) Obtener todas las películas que tienen <strong>un personaje interpretado por un actor con un nombre específico</strong> (por ejemplo, &ldquo;Tom Hanks&rdquo;).</p>
<!--
```sql
SELECT DISTINCT pp.pelicula
FROM PeliculaPersonaxe pp
JOIN pp.personaxe pe
WHERE pe.nomeOrdenado = 'Tom Hanks'
```
-->
<p>h) Obtener todas las películas que tienen <strong>un género específico y que fueron producidas en un año específico</strong> (por ejemplo, &ldquo;Acción&rdquo; y 2005).</p>
<!--
```sql
SELECT p FROM Pelicula p WHERE p.xenero = 'Acción' AND p.anoFin = 2005
```
-->
<p>i) Obtener todas las películas que tienen un personaje interpretado por un actor de un género específico (por ejemplo, &ldquo;Mujer&rdquo;).</p>
<!--
```sql
SELECT DISTINCT pp.pelicula 
FROM PeliculaPersonaxe pp 
JOIN pp.personaxe pe 
WHERE pe.sexo = 'Mujer'
```
-->
<p>f) Obtener todas las películas que tienen un personaje interpretado por un actor que nació en un país específico y que tienen una duración mayor a 100 minutos.</p>
<!--
```sql
SELECT DISTINCT pp.pelicula 
FROM PeliculaPersonaxe pp 
JOIN pp.personaxe pe 
WHERE pe.paisNacemento = 'España' AND pp.pelicula.duracion > 100
```
-->
<p>g) Devolver todos los países que <strong>no tienen películas asociadas</strong>, puedes usar una consulta JPQL que utilice una subconsulta o un <code>LEFT JOIN</code> con una condición <code>IS NULL</code>.</p>
<!--
Esta consulta selecciona los países que no están presentes en la lista de países asociados a películas.

```sql
SELECT p 
FROM Pais p 
WHERE p.pais NOT IN (
    SELECT DISTINCT pl.pais.pais 
    FROM Pelicula pl
)
```

Usando `LEFT JOIN` y `IS NULL`
Esta consulta utiliza un `LEFT JOIN` para unir `Pais` con `Pelicula` y filtra aquellos países que no tienen películas asociadas.

```sql
SELECT p 
FROM Pais p 
LEFT JOIN Pelicula pl ON p.pais = pl.pais.pais 
WHERE pl.pais IS NULL
```

1. **Subconsulta (`NOT IN`)**:
    - La subconsulta `SELECT DISTINCT pl.pais.pais FROM Pelicula pl` devuelve todos los países que están asociados a películas.
    - Luego, la consulta principal selecciona los países que **no están** en esa lista.

2. **`LEFT JOIN` con `IS NULL`**:
    - El `LEFT JOIN` une `Pais` con `Pelicula` basado en el campo `pais`.
    - Si no hay películas asociadas a un país, el campo `pl.pais` será `NULL`.
    - La condición `WHERE pl.pais IS NULL` filtra solo esos países.
-->
<h3 id="ejercicio-0903-consultas-sql-a-jpql-películas">Ejercicio 09.03. Consultas SQL a JPQL (películas)</h3>
<p>Amplía el ejercicio anterior la base de datos de películas proporcionada.</p>
<p>URL de la base de datos mysql: <code>jdbc:mariadb://dbalumnos.sanclemente.local:3312/Peliculas</code>
URL con usuario y contraseña: <code>jdbc:mariadb://dbalumnos.sanclemente.local:3312/Peliculas?user=accesoadatos&amp;password=abc123..&amp;useSSL=false</code>
Pese a todo lo mejor es que el usuario y contraseña se guarden en un archivo de propiedades, <code>persistence.xml</code>, como se ha visto en el tema de configuración.</p>
<p>Las tablas de la base de datos sobre las que hay que implantar las entidades y realizar las consultas son las del ejercicio anterior.</p>
<p><a href="#R-image-c221011f4c8f88b046b4451c898697b9" class="lightbox-link"><img alt="Estructura de la base de datos" class="lazy lightbox figure-image" loading="lazy" src="https://manuais.pages.iessanclemente.net/plantillas/dam/ad/03orm/jpa/media/peliculaser.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-c221011f4c8f88b046b4451c898697b9"><img alt="Estructura de la base de datos" class="lazy lightbox lightbox-image" loading="lazy" src="https://manuais.pages.iessanclemente.net/plantillas/dam/ad/03orm/jpa/media/peliculaser.png"></a></p>
<p><a href="#R-image-f1e5334afca946be2807a77966b149b5" class="lightbox-link"><img alt="Personaxeocupación" class="lazy lightbox figure-image" loading="lazy" src="https://manuais.pages.iessanclemente.net/plantillas/dam/ad/03orm/jpa/media/personaxeocupacion.png?width=400" style=" height: auto; width: 400;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-f1e5334afca946be2807a77966b149b5"><img alt="Personaxeocupación" class="lazy lightbox lightbox-image" loading="lazy" src="https://manuais.pages.iessanclemente.net/plantillas/dam/ad/03orm/jpa/media/personaxeocupacion.png?width=400"></a></p>
<p>Realiza las siguientes consultas:</p>
<ol>
<li>Muestra la película solicitando el id:</li>
</ol>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">SELECT</span> castelan, orixinal, anoFin, poster <span style="color:#66d9ef">IS</span> <span style="color:#66d9ef">NOT</span> <span style="color:#66d9ef">NULL</span> <span style="color:#66d9ef">as</span> tenPoster
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">FROM</span> pelicula <span style="color:#66d9ef">WHERE</span> idPelicula <span style="color:#f92672">=</span> :identificador</span></span></code></pre></div>
<ol start="2">
<li>
<p>Muestra las películas que tienen algún personaje (IS EMPTY) o no tienen personajes (IS NOT EMPTY).</p>
</li>
<li>
<p>Muestra las películas que tienen personajes con una ocupación concreta:</p>
</li>
</ol>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">SELECT</span> P.nome <span style="color:#66d9ef">FROM</span> peliculapersonaxe PP, personaxe P
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">WHERE</span> P.idPersonaxe<span style="color:#f92672">=</span>PP.idPersonaxe <span style="color:#66d9ef">AND</span>
</span></span><span style="display:flex;"><span>PP.ocupacion<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;OCUPACIÓNCONCRETA&#39;</span> <span style="color:#66d9ef">AND</span> PP.idPelicula<span style="color:#f92672">=</span>IDENTIFICADOR_PELICULA</span></span></code></pre></div>
<ol start="5">
<li>
<p>Muestra los títulos de las películas en las que ha trabajado un actor concreto.</p>
</li>
<li>
<p>Listar el número de películas de acuerdo con el nombre propocionado:
(Crea una clase PeliculaDTO con los campos idPelicula, castelan, orixinal, anoFin, tenPoster (booleano) y realiza la consulta)</p>
</li>
</ol>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">SELECT</span> idPelicula, castelan, orixinal, anoFin, poster <span style="color:#66d9ef">IS</span> <span style="color:#66d9ef">NOT</span> <span style="color:#66d9ef">NULL</span> <span style="color:#66d9ef">as</span> tenPoster
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">FROM</span> pelicula <span style="color:#66d9ef">WHERE</span> castelan <span style="color:#66d9ef">LIKE</span> <span style="color:#960050;background-color:#1e0010">‘</span><span style="color:#f92672">%</span>:nombre<span style="color:#f92672">%</span><span style="color:#960050;background-color:#1e0010">’</span> <span style="color:#66d9ef">ORDER</span> <span style="color:#66d9ef">BY</span> <span style="color:#ae81ff">5</span> <span style="color:#66d9ef">DESC</span>, castelan <span style="color:#66d9ef">ASC</span></span></span></code></pre></div>
<ol start="7">
<li>Consulta los datos de las ocupaciones de los personajes de una película:</li>
</ol>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">SELECT</span> O.ocupacion <span style="color:#66d9ef">FROM</span> ocupacion O <span style="color:#66d9ef">WHERE</span> <span style="color:#66d9ef">EXISTS</span> (
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">SELECT</span> idPelicula <span style="color:#66d9ef">FROM</span> peliculapersonaxe PP <span style="color:#66d9ef">WHERE</span> 
</span></span><span style="display:flex;"><span>O.ocupacion<span style="color:#f92672">=</span>PP.ocupacion 
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">AND</span> PP.idPelicula<span style="color:#f92672">=</span>IDENTIFICADOR_DE_PELICULA)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">AND</span>  O.orde<span style="color:#f92672">&lt;&gt;</span><span style="color:#ae81ff">0</span> <span style="color:#66d9ef">ORDER</span> <span style="color:#66d9ef">BY</span> O.orde</span></span></code></pre></div>
<p>y los nombres sde los personajes que tienen esa ocupación:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">SELECT</span> P.nome <span style="color:#66d9ef">FROM</span> peliculapersonaxe PP, personaxe P
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">WHERE</span> P.idPersonaxe<span style="color:#f92672">=</span>PP.idPersonaxe <span style="color:#66d9ef">AND</span>
</span></span><span style="display:flex;"><span>PP.ocupacion<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;OCUPACIÓNCONCRETA&#39;</span> <span style="color:#66d9ef">AND</span> PP.idPelicula<span style="color:#f92672">=</span>IDENTIFICADOR_PELICULA</span></span></code></pre></div>
<hr>
<h3 id="ejercicio-1101-paginación-de-películas">Ejercicio 11.01. Paginación de películas</h3>

<details open class=" box cstyle notices info">
  <summary class="box-label" tabindex="-1">
    <i class="fa-fw fas fa-pen-square"></i> 
    Ejercicio. Paginación de películas
  </summary>
  <div class="box-content">
<p>Características de la base de datos:</p>
<p>URL de la base de datos mysql: <code>jdbc:mariadb://dbalumnos.sanclemente.local:3312/Peliculas</code>
URL con usuario y contraseña: <code>jdbc:mariadb://dbalumnos.sanclemente.local:3312/Peliculas?user=accesoadatos&amp;password=abc123..&amp;useSSL=false</code>
Pese a todo lo mejor es que el usuario y contraseña se referencien en el archivo de propiedades, <code>persistence.xml</code>, de modo independiente, como se ha visto en el tema de configuración.</p>
<p>Las tablas de la base de datos y las entidades ya han sido desarrolladas en  apartados anteriores.</p>
<p><a href="#R-image-347a75da54fb22b7f3ac353c6487d72b" class="lightbox-link"><img alt="Estructura de la base de datos" class="lazy lightbox figure-image" loading="lazy" src="https://manuais.pages.iessanclemente.net/plantillas/dam/ad/03orm/jpa/media/peliculaser.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-347a75da54fb22b7f3ac353c6487d72b"><img alt="Estructura de la base de datos" class="lazy lightbox lightbox-image" loading="lazy" src="https://manuais.pages.iessanclemente.net/plantillas/dam/ad/03orm/jpa/media/peliculaser.png"></a></p>
<p><a href="#R-image-ac1254688574be24e1b0597ade14fcb1" class="lightbox-link"><img alt="Personaxeocupación" class="lazy lightbox figure-image" loading="lazy" src="https://manuais.pages.iessanclemente.net/plantillas/dam/ad/03orm/jpa/media/personaxeocupacion.png?width=400" style=" height: auto; width: 400;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-ac1254688574be24e1b0597ade14fcb1"><img alt="Personaxeocupación" class="lazy lightbox lightbox-image" loading="lazy" src="https://manuais.pages.iessanclemente.net/plantillas/dam/ad/03orm/jpa/media/personaxeocupacion.png?width=400"></a></p>
<p>Se trata de <strong>realizar una aplicación que permita consultar las películas por nombre (pide la introducción de un texto)</strong> y <strong>muestre las películas de la base de datos de 10 en 10</strong>. Se debe mostrar el <code>idPelicula</code>, <code>castelan</code>, <code>orixinal</code>, <code>anoFin</code> y el <code>director</code> (relacionado con <code>PeliculaPersonaxe</code>).</p>
<p>Se debe <strong>poder avanzar y retroceder en la paginación. Se debe mostrar el número de página actual y el número total de páginas</strong>.</p>
<p>La aplicación debe ser una <strong>aplicación de consola</strong>, con un menú que permita avanzar y retroceder en la paginación.</p>
<ul>
<li>Crea una clase <code>PeliculaPaginaDTO</code> que tenga los campos <code>idPelicula</code>, <code>castelan</code>, <code>orixinal</code>, <code>anoFin</code> y <code>director</code>.</li>
<li>Crea una clase <code>PeliculaDAO</code> que tenga un método que <strong>devuelva el número total de películas y otro que devuelva las lista de películas de una página concreta, ordenadas por año descendente</strong>.</li>
</ul>
  </div>
</details>
<h3 id="ejercicio-1201-herencia">Ejercicio 12.01. Herencia</h3>
<p>Crea una aplicación que permita gestionar una base de datos de vehículos. La base de datos tiene las siguientes tablas:</p>
<ul>
<li><strong>Vehiculo</strong>: idVehiculo, marca, modelo, año, precio.</li>
<li><strong>Coche</strong>: idVehiculo, puertas, plazas.</li>
<li><strong>Moto</strong>: idVehiculo, cilindrada, tipo.</li>
<li><strong>Camion</strong>: idVehiculo, carga, ejes.</li>
<li><strong>Propietario</strong>: idPropietario, nombre, apellidos, vehiculo.</li>
</ul>
<p>Hazlo con las siguientes estrategias de herencia:</p>
<ul>
<li><strong>MappedSuperclass</strong>.</li>
<li><strong>Herencia por tabla única</strong>.</li>
<li><strong>Herencia por tabla por clase</strong>.</li>
<li><strong>Herencia por tabla por subclase</strong>.</li>
<li><strong>Herencia por tabla por subclase con discriminador</strong>.</li>
<li><strong>Herencia por tabla por subclase con discriminador implícito</strong>.</li>
</ul>
<p>Crea una nueva clase <code>Vehiculo</code> que se llame <code>VehiculoDTO</code> que tenga los campos <code>idVehiculo</code>, <code>marca</code>, <code>modelo</code>, <code>año</code>, <code>precio</code> y <code>tipo</code>.</p>
<p>Crea una clase <code>VehiculoDAO</code> que tenga un método que devuelva una lista de vehículos de la base de datos.</p>
<p>Crea las entidades JPA correspondientes y realiza las consultas necesarias para obtener los vehículos de la base de datos.</p>
<p>Hazlo con una base de datos H2 o SQLite.</p>

  <footer class="footline"></article>
<footer>
   <i class='fas fa-user'></i>  <span itemprop="name"> </span>

<i class='fas fa-calendar'></i> Última actualización: 23.09.2025  
</footer>
  </footer>
</article>
        </div>
      </main>
    </div>
    <aside id="R-sidebar" class="default-animation">
      <div id="R-header-topbar" class="default-animation"></div>
      <div id="R-header-wrapper" class="default-animation">
        <div id="R-header" class="default-animation">
<img  src="../../../images/logo-ies.png" style="color:white;  font-size: 20px;" id="logo" href="http://manuais.pages.iessanclemente.net/apuntes/">
        </div>
        <search><form action="https://manuais.pages.iessanclemente.net/plantillas/dam/ad/search/index.html" method="get">
          <div class="searchbox default-animation">
            <button class="search-detail" type="submit" title="Buscar (CTRL+ALT+f)"><i class="fas fa-search"></i></button>
            <label class="a11y-only" for="R-search-by">Buscar</label>
            <input data-search-input id="R-search-by" name="search-by" class="search-by" type="search" placeholder="Buscar...">
            <button class="search-clear" type="button" data-search-clear="" title="Borrar búsqueda"><i class="fas fa-times" title="Borrar búsqueda"></i></button>
          </div>
        </form></search>
      </div>
      <div id="R-homelinks" class="default-animation homelinks">
        <div class="R-menu-divider default-animation">
          <hr class="padding">
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-homelinks">
          <ul class="space collapsible-menu">
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/index.html"><a class="padding" href="../../../index.html"><i class="fa-fw fas fa-home"></i> Home</a></li>
          </ul>
        </div>
        <div class="R-menu-divider default-animation">
          <hr class="padding">
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-headercontrols">
          <ul class="">
          </ul>
        </div>
        <div class="R-menu-divider default-animation">
          <hr class="padding">
        </div>
      </div>
      <div id="R-content-wrapper" class="highlightable">
        <div class="R-sidebarmenu R-shortcutmenu-main">
          <ul class="enlarge morespace collapsible-menu">
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/00ayudas/index.html"><input type="checkbox" id="R-section-0758abab80c2aa84781892223aa808b3" aria-controls="R-subsections-0758abab80c2aa84781892223aa808b3"><label for="R-section-0758abab80c2aa84781892223aa808b3"><i class="fa-fw fas fa-chevron-right"></i><span class="a11y-only">Submenú UD 0. Refuerzo y ayudas complementarias</span></label><a class="padding" href="../../../00ayudas/index.html">UD 0. Refuerzo y ayudas complementarias<i class="fa-fw fas fa-check read-icon"></i></a><ul id="R-subsections-0758abab80c2aa84781892223aa808b3" class="collapsible-menu">
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/00ayudas/00configjava/index.html"><input type="checkbox" id="R-section-1b1977ce428c9ac8dab8b72f8979bcb5" aria-controls="R-subsections-1b1977ce428c9ac8dab8b72f8979bcb5"><label for="R-section-1b1977ce428c9ac8dab8b72f8979bcb5"><i class="fa-fw fas fa-chevron-right"></i><span class="a11y-only">Submenú 01 Configuración y despliegue</span></label><a class="padding" href="../../../00ayudas/00configjava/index.html">01 Configuración y despliegue<i class="fa-fw fas fa-check read-icon"></i></a><ul id="R-subsections-1b1977ce428c9ac8dab8b72f8979bcb5" class="collapsible-menu">
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/00ayudas/00configjava/01jarfiles/index.html"><a class="padding" href="../../../00ayudas/00configjava/01jarfiles/index.html">01 Archivos Jar<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/00ayudas/00configjava/02jarwithmaven/index.html"><a class="padding" href="../../../00ayudas/00configjava/02jarwithmaven/index.html">02 Creación de un JAR ejecutable con Java con Apache Maven<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/00ayudas/00configjava/03dependencias/index.html"><a class="padding" href="../../../00ayudas/00configjava/03dependencias/index.html">03. Dependencias Maven.<i class="fa-fw fas fa-check read-icon"></i></a></li></ul></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/00ayudas/02javageneral/index.html"><input type="checkbox" id="R-section-0ee0a79915535bc59e8b9d0e78f65ef9" aria-controls="R-subsections-0ee0a79915535bc59e8b9d0e78f65ef9"><label for="R-section-0ee0a79915535bc59e8b9d0e78f65ef9"><i class="fa-fw fas fa-chevron-right"></i><span class="a11y-only">Submenú 02 Java General</span></label><a class="padding" href="../../../00ayudas/02javageneral/index.html">02 Java General<i class="fa-fw fas fa-check read-icon"></i></a><ul id="R-subsections-0ee0a79915535bc59e8b9d0e78f65ef9" class="collapsible-menu">
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/00ayudas/02javageneral/01streamapi/index.html"><a class="padding" href="../../../00ayudas/02javageneral/01streamapi/index.html">00.01 Java Stream API<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/00ayudas/02javageneral/02urlfiles/index.html"><a class="padding" href="../../../00ayudas/02javageneral/02urlfiles/index.html">00.02 Descarga de archivos de Internet<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/00ayudas/02javageneral/03hashcode/index.html"><a class="padding" href="../../../00ayudas/02javageneral/03hashcode/index.html">03 Implementación de hashCode()<i class="fa-fw fas fa-check read-icon"></i></a></li></ul></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/00ayudas/03layouts/index.html"><input type="checkbox" id="R-section-8eb2a58628ca595eccda7f8f066488f0" aria-controls="R-subsections-8eb2a58628ca595eccda7f8f066488f0"><label for="R-section-8eb2a58628ca595eccda7f8f066488f0"><i class="fa-fw fas fa-chevron-right"></i><span class="a11y-only">Submenú 03. Layouts en Java Swing &amp; UI</span></label><a class="padding" href="../../../00ayudas/03layouts/index.html">03. Layouts en Java Swing &amp; UI<i class="fa-fw fas fa-check read-icon"></i></a><ul id="R-subsections-8eb2a58628ca595eccda7f8f066488f0" class="collapsible-menu">
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/00ayudas/03layouts/00dialogosenswing/index.html"><a class="padding" href="../../../00ayudas/03layouts/00dialogosenswing/index.html">01 Ventanas de entrada de datos, mensajes y archivos<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/00ayudas/03layouts/05gridbaglayout/index.html"><a class="padding" href="../../../00ayudas/03layouts/05gridbaglayout/index.html">05 GridBagLayout<i class="fa-fw fas fa-check read-icon"></i></a></li></ul></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/00ayudas/04patronesdisenho/index.html"><input type="checkbox" id="R-section-1c69dc8b47fb6fae98603b1968118cf8" aria-controls="R-subsections-1c69dc8b47fb6fae98603b1968118cf8"><label for="R-section-1c69dc8b47fb6fae98603b1968118cf8"><i class="fa-fw fas fa-chevron-right"></i><span class="a11y-only">Submenú 04. Patrones de diseño</span></label><a class="padding" href="../../../00ayudas/04patronesdisenho/index.html">04. Patrones de diseño<i class="fa-fw fas fa-check read-icon"></i></a><ul id="R-subsections-1c69dc8b47fb6fae98603b1968118cf8" class="collapsible-menu">
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/00ayudas/04patronesdisenho/01designprinciples/index.html"><a class="padding" href="../../../00ayudas/04patronesdisenho/01designprinciples/index.html">01. Principios de diseño<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/00ayudas/04patronesdisenho/02singleton/index.html"><a class="padding" href="../../../00ayudas/04patronesdisenho/02singleton/index.html">02. Patrón Singleton<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/00ayudas/04patronesdisenho/03objetosinmutables/index.html"><a class="padding" href="../../../00ayudas/04patronesdisenho/03objetosinmutables/index.html">03. Objetos Inmutables<i class="fa-fw fas fa-check read-icon"></i></a></li></ul></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/00ayudas/05kotlin/index.html"><input type="checkbox" id="R-section-36a825e367dd24b7cccca030c91ea60b" aria-controls="R-subsections-36a825e367dd24b7cccca030c91ea60b"><label for="R-section-36a825e367dd24b7cccca030c91ea60b"><i class="fa-fw fas fa-chevron-right"></i><span class="a11y-only">Submenú 05. Programación en Kotlin</span></label><a class="padding" href="../../../00ayudas/05kotlin/index.html">05. Programación en Kotlin<i class="fa-fw fas fa-check read-icon"></i></a><ul id="R-subsections-36a825e367dd24b7cccca030c91ea60b" class="collapsible-menu">
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/00ayudas/05kotlin/01progestructurada/index.html"><input type="checkbox" id="R-section-312a90d18fa918ef04d04e75820d73c0" aria-controls="R-subsections-312a90d18fa918ef04d04e75820d73c0"><label for="R-section-312a90d18fa918ef04d04e75820d73c0"><i class="fa-fw fas fa-chevron-right"></i><span class="a11y-only">Submenú Programación estructurada básica</span></label><a class="padding" href="../../../00ayudas/05kotlin/01progestructurada/index.html">Programación estructurada básica<i class="fa-fw fas fa-check read-icon"></i></a><ul id="R-subsections-312a90d18fa918ef04d04e75820d73c0" class="collapsible-menu">
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/00ayudas/05kotlin/01progestructurada/10.-la_funcion_main/index.html"><a class="padding" href="../../../00ayudas/05kotlin/01progestructurada/10.-la_funcion_main/index.html">La funcion main()<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/00ayudas/05kotlin/01progestructurada/20.-la_funcion-print-_y-_println/index.html"><a class="padding" href="../../../00ayudas/05kotlin/01progestructurada/20.-la_funcion-print-_y-_println/index.html">La funcion print() y println()<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/00ayudas/05kotlin/01progestructurada/30.-comentarios/index.html"><a class="padding" href="../../../00ayudas/05kotlin/01progestructurada/30.-comentarios/index.html">Comentarios<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/00ayudas/05kotlin/01progestructurada/40.-variables-_-literales-_y_-sentencia_-de_-asignación/index.html"><a class="padding" href="../../../00ayudas/05kotlin/01progestructurada/40.-variables-_-literales-_y_-sentencia_-de_-asignaci%c3%b3n/index.html">Variables, literales y sentencia de asignación<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/00ayudas/05kotlin/01progestructurada/50.-palabras_reservadas/index.html"><a class="padding" href="../../../00ayudas/05kotlin/01progestructurada/50.-palabras_reservadas/index.html">Palabras reservadas<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/00ayudas/05kotlin/01progestructurada/tipos_de_datos_y_operadores_basicos/index.html"><input type="checkbox" id="R-section-94a2bfa5cc4fa0f33d0f2cf1c75e3265" aria-controls="R-subsections-94a2bfa5cc4fa0f33d0f2cf1c75e3265"><label for="R-section-94a2bfa5cc4fa0f33d0f2cf1c75e3265"><i class="fa-fw fas fa-chevron-right"></i><span class="a11y-only">Submenú tipos de datos y operadores</span></label><a class="padding" href="../../../00ayudas/05kotlin/01progestructurada/tipos_de_datos_y_operadores_basicos/index.html">tipos de datos y operadores<i class="fa-fw fas fa-check read-icon"></i></a><ul id="R-subsections-94a2bfa5cc4fa0f33d0f2cf1c75e3265" class="collapsible-menu">
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/00ayudas/05kotlin/01progestructurada/tipos_de_datos_y_operadores_basicos/60.tipos_de_datos_basicos/index.html"><a class="padding" href="../../../00ayudas/05kotlin/01progestructurada/tipos_de_datos_y_operadores_basicos/60.tipos_de_datos_basicos/index.html">Tipos de datos básicos<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/00ayudas/05kotlin/01progestructurada/tipos_de_datos_y_operadores_basicos/70.tipos_numericos/index.html"><a class="padding" href="../../../00ayudas/05kotlin/01progestructurada/tipos_de_datos_y_operadores_basicos/70.tipos_numericos/index.html">Tipos Numéricos<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/00ayudas/05kotlin/01progestructurada/tipos_de_datos_y_operadores_basicos/80.tipos_no_-numericos/index.html"><a class="padding" href="../../../00ayudas/05kotlin/01progestructurada/tipos_de_datos_y_operadores_basicos/80.tipos_no_-numericos/index.html">Tipos básicos  No Numéricos<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/00ayudas/05kotlin/01progestructurada/tipos_de_datos_y_operadores_basicos/90.conversion_de_tipos/index.html"><a class="padding" href="../../../00ayudas/05kotlin/01progestructurada/tipos_de_datos_y_operadores_basicos/90.conversion_de_tipos/index.html">Conversión de Tipos<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/00ayudas/05kotlin/01progestructurada/tipos_de_datos_y_operadores_basicos/100.-operadores/index.html"><a class="padding" href="../../../00ayudas/05kotlin/01progestructurada/tipos_de_datos_y_operadores_basicos/100.-operadores/index.html">Operadores<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/00ayudas/05kotlin/01progestructurada/tipos_de_datos_y_operadores_basicos/110.-expresiones_booleanas/index.html"><a class="padding" href="../../../00ayudas/05kotlin/01progestructurada/tipos_de_datos_y_operadores_basicos/110.-expresiones_booleanas/index.html">Expresiones booleanas<i class="fa-fw fas fa-check read-icon"></i></a></li></ul></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/00ayudas/05kotlin/01progestructurada/coleccionesbasicas/index.html"><input type="checkbox" id="R-section-840caf4a5c9da596bf4345cae4c798ab" aria-controls="R-subsections-840caf4a5c9da596bf4345cae4c798ab"><label for="R-section-840caf4a5c9da596bf4345cae4c798ab"><i class="fa-fw fas fa-chevron-right"></i><span class="a11y-only">Submenú colecciones básicas</span></label><a class="padding" href="../../../00ayudas/05kotlin/01progestructurada/coleccionesbasicas/index.html">colecciones básicas<i class="fa-fw fas fa-check read-icon"></i></a><ul id="R-subsections-840caf4a5c9da596bf4345cae4c798ab" class="collapsible-menu">
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/00ayudas/05kotlin/01progestructurada/coleccionesbasicas/120.-string/index.html"><a class="padding" href="../../../00ayudas/05kotlin/01progestructurada/coleccionesbasicas/120.-string/index.html">String<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/00ayudas/05kotlin/01progestructurada/coleccionesbasicas/130.-listas/index.html"><a class="padding" href="../../../00ayudas/05kotlin/01progestructurada/coleccionesbasicas/130.-listas/index.html">Listas<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/00ayudas/05kotlin/01progestructurada/coleccionesbasicas/140.rangos-/index.html"><a class="padding" href="../../../00ayudas/05kotlin/01progestructurada/coleccionesbasicas/140.rangos-/index.html">Rangos<i class="fa-fw fas fa-check read-icon"></i></a></li></ul></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/00ayudas/05kotlin/01progestructurada/150.-entrada_teclado/index.html"><a class="padding" href="../../../00ayudas/05kotlin/01progestructurada/150.-entrada_teclado/index.html">Entrada de datos por teclado con readln()<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/00ayudas/05kotlin/01progestructurada/control_de_-flujo/index.html"><input type="checkbox" id="R-section-f79f31fcf5ae1f44691bca6f05e1710f" aria-controls="R-subsections-f79f31fcf5ae1f44691bca6f05e1710f"><label for="R-section-f79f31fcf5ae1f44691bca6f05e1710f"><i class="fa-fw fas fa-chevron-right"></i><span class="a11y-only">Submenú control de flujo</span></label><a class="padding" href="../../../00ayudas/05kotlin/01progestructurada/control_de_-flujo/index.html">control de flujo<i class="fa-fw fas fa-check read-icon"></i></a><ul id="R-subsections-f79f31fcf5ae1f44691bca6f05e1710f" class="collapsible-menu">
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/00ayudas/05kotlin/01progestructurada/control_de_-flujo/151.-control_de_flujo/index.html"><a class="padding" href="../../../00ayudas/05kotlin/01progestructurada/control_de_-flujo/151.-control_de_flujo/index.html">Control de flujo<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/00ayudas/05kotlin/01progestructurada/control_de_-flujo/160.-sentencia_condicional_if/index.html"><a class="padding" href="../../../00ayudas/05kotlin/01progestructurada/control_de_-flujo/160.-sentencia_condicional_if/index.html">Sentencia condicional IF<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/00ayudas/05kotlin/01progestructurada/control_de_-flujo/190.-sentecia_when/index.html"><a class="padding" href="../../../00ayudas/05kotlin/01progestructurada/control_de_-flujo/190.-sentecia_when/index.html">Sentencia when<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/00ayudas/05kotlin/01progestructurada/control_de_-flujo/200.-bucle_for/index.html"><a class="padding" href="../../../00ayudas/05kotlin/01progestructurada/control_de_-flujo/200.-bucle_for/index.html">Bucle for<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/00ayudas/05kotlin/01progestructurada/control_de_-flujo/210.-while_y_do_while/index.html"><a class="padding" href="../../../00ayudas/05kotlin/01progestructurada/control_de_-flujo/210.-while_y_do_while/index.html">while y do while<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/00ayudas/05kotlin/01progestructurada/control_de_-flujo/220.-variables_locales_y_bloques/index.html"><a class="padding" href="../../../00ayudas/05kotlin/01progestructurada/control_de_-flujo/220.-variables_locales_y_bloques/index.html">variables locales y bloques<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/00ayudas/05kotlin/01progestructurada/control_de_-flujo/230.-break_y_continue/index.html"><a class="padding" href="../../../00ayudas/05kotlin/01progestructurada/control_de_-flujo/230.-break_y_continue/index.html">break y continue<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/00ayudas/05kotlin/01progestructurada/control_de_-flujo/240.otras_formas_de_iterar/index.html"><a class="padding" href="../../../00ayudas/05kotlin/01progestructurada/control_de_-flujo/240.otras_formas_de_iterar/index.html">Otras formas de iterar<i class="fa-fw fas fa-check read-icon"></i></a></li></ul></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/00ayudas/05kotlin/01progestructurada/250.-funciones/index.html"><a class="padding" href="../../../00ayudas/05kotlin/01progestructurada/250.-funciones/index.html">Funciones<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/00ayudas/05kotlin/01progestructurada/260.el_valor_nulo/index.html"><a class="padding" href="../../../00ayudas/05kotlin/01progestructurada/260.el_valor_nulo/index.html">El valor nulo<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/00ayudas/05kotlin/01progestructurada/270.-readline/index.html"><a class="padding" href="../../../00ayudas/05kotlin/01progestructurada/270.-readline/index.html">Entrada de datos por teclado con readLine()<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/00ayudas/05kotlin/01progestructurada/mas_sobre_colecciones_basicas/index.html"><input type="checkbox" id="R-section-44784ce5c237bf9124eefe20ce36272f" aria-controls="R-subsections-44784ce5c237bf9124eefe20ce36272f"><label for="R-section-44784ce5c237bf9124eefe20ce36272f"><i class="fa-fw fas fa-chevron-right"></i><span class="a11y-only">Submenú más sobre colecciones básicas</span></label><a class="padding" href="../../../00ayudas/05kotlin/01progestructurada/mas_sobre_colecciones_basicas/index.html">más sobre colecciones básicas<i class="fa-fw fas fa-check read-icon"></i></a><ul id="R-subsections-44784ce5c237bf9124eefe20ce36272f" class="collapsible-menu">
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/00ayudas/05kotlin/01progestructurada/mas_sobre_colecciones_basicas/310.-arrays/index.html"><a class="padding" href="../../../00ayudas/05kotlin/01progestructurada/mas_sobre_colecciones_basicas/310.-arrays/index.html">Arrays<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/00ayudas/05kotlin/01progestructurada/mas_sobre_colecciones_basicas/320.-listas/index.html"><a class="padding" href="../../../00ayudas/05kotlin/01progestructurada/mas_sobre_colecciones_basicas/320.-listas/index.html">Listas<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/00ayudas/05kotlin/01progestructurada/mas_sobre_colecciones_basicas/330.rangos-/index.html"><a class="padding" href="../../../00ayudas/05kotlin/01progestructurada/mas_sobre_colecciones_basicas/330.rangos-/index.html">Rangos<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/00ayudas/05kotlin/01progestructurada/mas_sobre_colecciones_basicas/340.mapas-/index.html"><a class="padding" href="../../../00ayudas/05kotlin/01progestructurada/mas_sobre_colecciones_basicas/340.mapas-/index.html">Mapas<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/00ayudas/05kotlin/01progestructurada/mas_sobre_colecciones_basicas/350.iterar_sobre_colecciones/index.html"><a class="padding" href="../../../00ayudas/05kotlin/01progestructurada/mas_sobre_colecciones_basicas/350.iterar_sobre_colecciones/index.html">Iterar sobre colecciones<i class="fa-fw fas fa-check read-icon"></i></a></li></ul></li></ul></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/00ayudas/05kotlin/02progoo/index.html"><input type="checkbox" id="R-section-1ef1a5ed807dacffeb206c0950804c3a" aria-controls="R-subsections-1ef1a5ed807dacffeb206c0950804c3a"><label for="R-section-1ef1a5ed807dacffeb206c0950804c3a"><i class="fa-fw fas fa-chevron-right"></i><span class="a11y-only">Submenú Programación orientada a objetos</span></label><a class="padding" href="../../../00ayudas/05kotlin/02progoo/index.html">Programación orientada a objetos<i class="fa-fw fas fa-check read-icon"></i></a><ul id="R-subsections-1ef1a5ed807dacffeb206c0950804c3a" class="collapsible-menu">
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/00ayudas/05kotlin/02progoo/1010.objetos_y_clases/index.html"><a class="padding" href="../../../00ayudas/05kotlin/02progoo/1010.objetos_y_clases/index.html">Objetos y clases<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/00ayudas/05kotlin/02progoo/1020.constructores-/index.html"><a class="padding" href="../../../00ayudas/05kotlin/02progoo/1020.constructores-/index.html">Constructores<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/00ayudas/05kotlin/02progoo/1030.propiedades/index.html"><a class="padding" href="../../../00ayudas/05kotlin/02progoo/1030.propiedades/index.html">Propiedades<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/00ayudas/05kotlin/02progoo/1040.sobreescribir_tostring/index.html"><a class="padding" href="../../../00ayudas/05kotlin/02progoo/1040.sobreescribir_tostring/index.html">Sobreescribir toString()<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/00ayudas/05kotlin/02progoo/1060.modificadoresvisibilidad/index.html"><a class="padding" href="../../../00ayudas/05kotlin/02progoo/1060.modificadoresvisibilidad/index.html">modificadores de visibilidad<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/00ayudas/05kotlin/02progoo/1070.enum/index.html"><a class="padding" href="../../../00ayudas/05kotlin/02progoo/1070.enum/index.html">clases Enum<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/00ayudas/05kotlin/02progoo/1100.composicion/index.html"><a class="padding" href="../../../00ayudas/05kotlin/02progoo/1100.composicion/index.html">Composición<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/00ayudas/05kotlin/02progoo/1200.herencia/index.html"><a class="padding" href="../../../00ayudas/05kotlin/02progoo/1200.herencia/index.html">Herencia<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/00ayudas/05kotlin/02progoo/1220.clases_abstractas_interfaces/index.html"><a class="padding" href="../../../00ayudas/05kotlin/02progoo/1220.clases_abstractas_interfaces/index.html">Clases abstractas e Interfaces<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/00ayudas/05kotlin/02progoo/1240.dataclases/index.html"><a class="padding" href="../../../00ayudas/05kotlin/02progoo/1240.dataclases/index.html">Data Clases<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/00ayudas/05kotlin/02progoo/1250.keywordobject/index.html"><a class="padding" href="../../../00ayudas/05kotlin/02progoo/1250.keywordobject/index.html">La palabra reservada object. Companion object, objetos singleton y objetos expressions<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/00ayudas/05kotlin/02progoo/1255.excepciones/index.html"><a class="padding" href="../../../00ayudas/05kotlin/02progoo/1255.excepciones/index.html">Excepciones en Kotlin<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/00ayudas/05kotlin/02progoo/1260.genericos/index.html"><a class="padding" href="../../../00ayudas/05kotlin/02progoo/1260.genericos/index.html">Genéricos<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/00ayudas/05kotlin/02progoo/1265.clausulatypealiases/index.html"><a class="padding" href="../../../00ayudas/05kotlin/02progoo/1265.clausulatypealiases/index.html">cláusula typealiases<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/00ayudas/05kotlin/02progoo/1270.delegacion/index.html"><a class="padding" href="../../../00ayudas/05kotlin/02progoo/1270.delegacion/index.html">Delegación con cláusula by<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/00ayudas/05kotlin/02progoo/1280.claesanidadaseinternas/index.html"><a class="padding" href="../../../00ayudas/05kotlin/02progoo/1280.claesanidadaseinternas/index.html">Clases anidadas e internas<i class="fa-fw fas fa-check read-icon"></i></a></li></ul></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/00ayudas/05kotlin/03progfuncional/index.html"><input type="checkbox" id="R-section-8bbd4a78f07b64e8b2bc4b83b71f1498" aria-controls="R-subsections-8bbd4a78f07b64e8b2bc4b83b71f1498"><label for="R-section-8bbd4a78f07b64e8b2bc4b83b71f1498"><i class="fa-fw fas fa-chevron-right"></i><span class="a11y-only">Submenú Programación funcional</span></label><a class="padding" href="../../../00ayudas/05kotlin/03progfuncional/index.html">Programación funcional<i class="fa-fw fas fa-check read-icon"></i></a><ul id="R-subsections-8bbd4a78f07b64e8b2bc4b83b71f1498" class="collapsible-menu">
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/00ayudas/05kotlin/03progfuncional/2010.funcioneskotlin/index.html"><a class="padding" href="../../../00ayudas/05kotlin/03progfuncional/2010.funcioneskotlin/index.html">sintáxis avanzada de las  funciones kotlin<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/00ayudas/05kotlin/03progfuncional/2020.-basesdepf/index.html"><a class="padding" href="../../../00ayudas/05kotlin/03progfuncional/2020.-basesdepf/index.html">algunos conceptos básicos de programación funcional<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/00ayudas/05kotlin/03progfuncional/2030.funcionesordensuperiorcolecciones/index.html"><a class="padding" href="../../../00ayudas/05kotlin/03progfuncional/2030.funcionesordensuperiorcolecciones/index.html">funciones de orden superior y colecciones<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/00ayudas/05kotlin/03progfuncional/2040.funcionesordensuperiorysequence/index.html"><a class="padding" href="../../../00ayudas/05kotlin/03progfuncional/2040.funcionesordensuperiorysequence/index.html">funciones de orden superior y sequence<i class="fa-fw fas fa-check read-icon"></i></a></li></ul></li></ul></li></ul></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/01accesoficheros/index.html"><input type="checkbox" id="R-section-cf4ee7bae7fca4e692355524601fe599" aria-controls="R-subsections-cf4ee7bae7fca4e692355524601fe599"><label for="R-section-cf4ee7bae7fca4e692355524601fe599"><i class="fa-fw fas fa-chevron-right"></i><span class="a11y-only">Submenú UD 1. Acceso a ficheros, flujos, serialización de objetos, ficheros JSON y XML</span></label><a class="padding" href="../../../01accesoficheros/index.html">UD 1. Acceso a ficheros, flujos, serialización de objetos, ficheros JSON y XML<i class="fa-fw fas fa-check read-icon"></i></a><ul id="R-subsections-cf4ee7bae7fca4e692355524601fe599" class="collapsible-menu">
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/01accesoficheros/01javaio/index.html"><input type="checkbox" id="R-section-ec127efd28751c1f836952c8dac2374d" aria-controls="R-subsections-ec127efd28751c1f836952c8dac2374d"><label for="R-section-ec127efd28751c1f836952c8dac2374d"><i class="fa-fw fas fa-chevron-right"></i><span class="a11y-only">Submenú 01.01 Java IO. Acceso a ficheros, flujos, serialización de objetos.</span></label><a class="padding" href="../../../01accesoficheros/01javaio/index.html">01.01 Java IO. Acceso a ficheros, flujos, serialización de objetos.<i class="fa-fw fas fa-check read-icon"></i></a><ul id="R-subsections-ec127efd28751c1f836952c8dac2374d" class="collapsible-menu">
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/01accesoficheros/01javaio/0100javaiointro/index.html"><a class="padding" href="../../../01accesoficheros/01javaio/0100javaiointro/index.html">01.00 Java IO. Introducción.<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/01accesoficheros/01javaio/0101javaiofile/index.html"><a class="padding" href="../../../01accesoficheros/01javaio/0101javaiofile/index.html">01.01 La clase File<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/01accesoficheros/01javaio/0102randomaccessfile/index.html"><a class="padding" href="../../../01accesoficheros/01javaio/0102randomaccessfile/index.html">01.02 La clase RandomAccessFile<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/01accesoficheros/01javaio/0103javaiostreams/index.html"><a class="padding" href="../../../01accesoficheros/01javaio/0103javaiostreams/index.html">01.03 Flujos de E/S<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/01accesoficheros/01javaio/0104bytestream/index.html"><a class="padding" href="../../../01accesoficheros/01javaio/0104bytestream/index.html">01.04 Flujos de byte<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/01accesoficheros/01javaio/0105characterstream/index.html"><a class="padding" href="../../../01accesoficheros/01javaio/0105characterstream/index.html">01.05 Flujos de caracteres<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/01accesoficheros/01javaio/0106javaiobuffer/index.html"><a class="padding" href="../../../01accesoficheros/01javaio/0106javaiobuffer/index.html">01.06 Flujos de E/S con Buffer<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/01accesoficheros/01javaio/0107javaistream/index.html"><a class="padding" href="../../../01accesoficheros/01javaio/0107javaistream/index.html">01.07 Operaciones comunes con flujos de E/S.<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/01accesoficheros/01javaio/0109ejercicios/index.html"><a class="padding" href="../../../01accesoficheros/01javaio/0109ejercicios/index.html">Ejercicios<i class="fa-fw fas fa-check read-icon"></i></a></li></ul></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/01accesoficheros/02javanio2/index.html"><input type="checkbox" id="R-section-2d1e1941df73311305891c0dca6583fd" aria-controls="R-subsections-2d1e1941df73311305891c0dca6583fd"><label for="R-section-2d1e1941df73311305891c0dca6583fd"><i class="fa-fw fas fa-chevron-right"></i><span class="a11y-only">Submenú 01.02 Java NIO.2</span></label><a class="padding" href="../../../01accesoficheros/02javanio2/index.html">01.02 Java NIO.2<i class="fa-fw fas fa-check read-icon"></i></a><ul id="R-subsections-2d1e1941df73311305891c0dca6583fd" class="collapsible-menu">
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/01accesoficheros/02javanio2/0202javaniopath/index.html"><a class="padding" href="../../../01accesoficheros/02javanio2/0202javaniopath/index.html">02.01. La interface Path<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/01accesoficheros/02javanio2/0203javaniopathcreate/index.html"><a class="padding" href="../../../01accesoficheros/02javanio2/0203javaniopathcreate/index.html">02.03. Creación de Path<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/01accesoficheros/02javanio2/0204javaniopath/index.html"><a class="padding" href="../../../01accesoficheros/02javanio2/0204javaniopath/index.html">02.04. Operaciones comunes de Java NIO.2<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/01accesoficheros/02javanio2/0205javaniopathmethods/index.html"><a class="padding" href="../../../01accesoficheros/02javanio2/0205javaniopathmethods/index.html">02.05. Métodos y con Path Java NIO.2<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/01accesoficheros/02javanio2/0206javaniostreams/index.html"><a class="padding" href="../../../01accesoficheros/02javanio2/0206javaniostreams/index.html">02.06. Programación funcional con Java NIO.2<i class="fa-fw fas fa-check read-icon"></i></a></li></ul></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/01accesoficheros/03json/index.html"><input type="checkbox" id="R-section-662c48eb0e2f97ba0e58c14a690fca47" aria-controls="R-subsections-662c48eb0e2f97ba0e58c14a690fca47"><label for="R-section-662c48eb0e2f97ba0e58c14a690fca47"><i class="fa-fw fas fa-chevron-right"></i><span class="a11y-only">Submenú 01.03 JSON en Java</span></label><a class="padding" href="../../../01accesoficheros/03json/index.html">01.03 JSON en Java<i class="fa-fw fas fa-check read-icon"></i></a><ul id="R-subsections-662c48eb0e2f97ba0e58c14a690fca47" class="collapsible-menu">
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/01accesoficheros/03json/0300jsonintro/index.html"><a class="padding" href="../../../01accesoficheros/03json/0300jsonintro/index.html">01.00. Introducción a JSON<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/01accesoficheros/03json/0301jsonjs/index.html"><a class="padding" href="../../../01accesoficheros/03json/0301jsonjs/index.html">01.01. JSON con el API JavaScript de Java<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/01accesoficheros/03json/0302jsonlibraries/index.html"><a class="padding" href="../../../01accesoficheros/03json/0302jsonlibraries/index.html">01.02. Bibliotecas JSON para Java<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/01accesoficheros/03json/0304gson/index.html"><a class="padding" href="../../../01accesoficheros/03json/0304gson/index.html">01.03. Gson. Introducción<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/01accesoficheros/03json/0304gsondiagram/index.html"><a class="padding" href="../../../01accesoficheros/03json/0304gsondiagram/index.html">01.03. Gson. Diagrama de clases (e interfaces)<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/01accesoficheros/03json/0305gsoncreate/index.html"><a class="padding" href="../../../01accesoficheros/03json/0305gsoncreate/index.html">01.04. Gson. Creación de instancias Gson<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/01accesoficheros/03json/0306creaciongson/index.html"><a class="padding" href="../../../01accesoficheros/03json/0306creaciongson/index.html">01.05 Gson. Creación y lectura de objetos JSON<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/01accesoficheros/03json/0306transformacion/index.html"><a class="padding" href="../../../01accesoficheros/03json/0306transformacion/index.html">01.06. Gson. Transformación de objetos JSON personalizada<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/01accesoficheros/03json/0307jsonreader01/index.html"><a class="padding" href="../../../01accesoficheros/03json/0307jsonreader01/index.html">01.07 Gson. JsonReader<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/01accesoficheros/03json/0308jsonrename/index.html"><a class="padding" href="../../../01accesoficheros/03json/0308jsonrename/index.html">01.08 Gson. Renombrar atributos <i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/01accesoficheros/03json/0309jsonserialize/index.html"><a class="padding" href="../../../01accesoficheros/03json/0309jsonserialize/index.html">01.09 Resumen Serialización Gson<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/01accesoficheros/03json/0310jsondeserialize/index.html"><a class="padding" href="../../../01accesoficheros/03json/0310jsondeserialize/index.html">01.09 Resumen Deserialización Gson<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/01accesoficheros/03json/098ejercicio/index.html"><a class="padding" href="../../../01accesoficheros/03json/098ejercicio/index.html">Ejercicio. Trivial<i class="fa-fw fas fa-check read-icon"></i></a></li></ul></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/01accesoficheros/0105ejercicios/index.html"><a class="padding" href="../../../01accesoficheros/0105ejercicios/index.html">Ejercicios y recursos<i class="fa-fw fas fa-check read-icon"></i></a></li></ul></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/02accesobd/index.html"><input type="checkbox" id="R-section-342b2e95b9611e1108f16a11c61cd1f2" aria-controls="R-subsections-342b2e95b9611e1108f16a11c61cd1f2"><label for="R-section-342b2e95b9611e1108f16a11c61cd1f2"><i class="fa-fw fas fa-chevron-right"></i><span class="a11y-only">Submenú UD 2. Acceso a BD remotas relacionales</span></label><a class="padding" href="../../../02accesobd/index.html">UD 2. Acceso a BD remotas relacionales<i class="fa-fw fas fa-check read-icon"></i></a><ul id="R-subsections-342b2e95b9611e1108f16a11c61cd1f2" class="collapsible-menu">
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/02accesobd/02db/index.html"><input type="checkbox" id="R-section-66326b82828cdbb6e30c77e924342908" aria-controls="R-subsections-66326b82828cdbb6e30c77e924342908"><label for="R-section-66326b82828cdbb6e30c77e924342908"><i class="fa-fw fas fa-chevron-right"></i><span class="a11y-only">Submenú 02.02 JDBC. Introducción a las Bases de datos relacionales.</span></label><a class="padding" href="../../../02accesobd/02db/index.html">02.02 JDBC. Introducción a las Bases de datos relacionales.<i class="fa-fw fas fa-check read-icon"></i></a><ul id="R-subsections-66326b82828cdbb6e30c77e924342908" class="collapsible-menu">
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/02accesobd/02db/0101databases/index.html"><a class="padding" href="../../../02accesobd/02db/0101databases/index.html">02.01. Sistemas gestores de bases de datos<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/02accesobd/02db/0102introdb/index.html"><a class="padding" href="../../../02accesobd/02db/0102introdb/index.html">02. Introducción a las bases de datos relacionales<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/02accesobd/02db/0103postgresql/index.html"><a class="padding" href="../../../02accesobd/02db/0103postgresql/index.html">03. PostgreSQL<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/02accesobd/02db/0104postgres01/index.html"><a class="padding" href="../../../02accesobd/02db/0104postgres01/index.html">04. PostgreSQL. Características y Operadores.<i class="fa-fw fas fa-check read-icon"></i></a></li></ul></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/02accesobd/03procesandosql/index.html"><input type="checkbox" id="R-section-4b93c45cd959371d7c20dcc7da6d632c" aria-controls="R-subsections-4b93c45cd959371d7c20dcc7da6d632c"><label for="R-section-4b93c45cd959371d7c20dcc7da6d632c"><i class="fa-fw fas fa-chevron-right"></i><span class="a11y-only">Submenú 02.03. Procesamiento de sentencias SQL.</span></label><a class="padding" href="../../../02accesobd/03procesandosql/index.html">02.03. Procesamiento de sentencias SQL.<i class="fa-fw fas fa-check read-icon"></i></a><ul id="R-subsections-4b93c45cd959371d7c20dcc7da6d632c" class="collapsible-menu">
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/02accesobd/03procesandosql/0101procesamientosql/index.html"><a class="padding" href="../../../02accesobd/03procesandosql/0101procesamientosql/index.html">01. Procesamiento de sentencias SQL.<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/02accesobd/03procesandosql/0102conexiones/index.html"><a class="padding" href="../../../02accesobd/03procesandosql/0102conexiones/index.html">02. Conexiones a BD<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/02accesobd/03procesandosql/0103excepcionessql/index.html"><a class="padding" href="../../../02accesobd/03procesandosql/0103excepcionessql/index.html">03. Excepciones SQLException<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/02accesobd/03procesandosql/0104resultset/index.html"><a class="padding" href="../../../02accesobd/03procesandosql/0104resultset/index.html">04. ResultSet<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/02accesobd/03procesandosql/0105resultsetbatch/index.html"><a class="padding" href="../../../02accesobd/03procesandosql/0105resultsetbatch/index.html">05. Actualizaciones por lotes con ResultSet<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/02accesobd/03procesandosql/0106preparedst/index.html"><a class="padding" href="../../../02accesobd/03procesandosql/0106preparedst/index.html">06. Prepared Statement<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/02accesobd/03procesandosql/0107transacciones/index.html"><a class="padding" href="../../../02accesobd/03procesandosql/0107transacciones/index.html">07. Transacciones<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/02accesobd/03procesandosql/0108clavesgeneradas/index.html"><a class="padding" href="../../../02accesobd/03procesandosql/0108clavesgeneradas/index.html">08. Claves Generadas<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/02accesobd/03procesandosql/0109largeobjects/index.html"><a class="padding" href="../../../02accesobd/03procesandosql/0109largeobjects/index.html">09. Objectos grandes<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/02accesobd/03procesandosql/0111rowset/index.html"><a class="padding" href="../../../02accesobd/03procesandosql/0111rowset/index.html">11. RowSet<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/02accesobd/03procesandosql/0115boletines/index.html"><a class="padding" href="../../../02accesobd/03procesandosql/0115boletines/index.html">15. Ejercicios y archivos de la unidad<i class="fa-fw fas fa-check read-icon"></i></a></li></ul></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/02accesobd/99proyecto/index.html"><a class="padding" href="../../../02accesobd/99proyecto/index.html">Proyecto 1ª evaluación<i class="fa-fw fas fa-check read-icon"></i></a></li></ul></li>
            <li class="parent " data-nav-id="https://manuais.pages.iessanclemente.net/03orm/index.html"><input type="checkbox" id="R-section-87c8b6c6cd354a309db816f73d185be0" aria-controls="R-subsections-87c8b6c6cd354a309db816f73d185be0" checked><label for="R-section-87c8b6c6cd354a309db816f73d185be0"><i class="fa-fw fas fa-chevron-right"></i><span class="a11y-only">Submenú UD 3. Object/Relational Mapping (ORM). JPA e Hibernate</span></label><a class="padding" href="../../index.html">UD 3. Object/Relational Mapping (ORM). JPA e Hibernate<i class="fa-fw fas fa-check read-icon"></i></a><ul id="R-subsections-87c8b6c6cd354a309db816f73d185be0" class="collapsible-menu">
            <li class="parent " data-nav-id="https://manuais.pages.iessanclemente.net/03orm/jpa/index.html"><input type="checkbox" id="R-section-5aaca10806a740cf4d784be6e24473b9" aria-controls="R-subsections-5aaca10806a740cf4d784be6e24473b9" checked><label for="R-section-5aaca10806a740cf4d784be6e24473b9"><i class="fa-fw fas fa-chevron-right"></i><span class="a11y-only">Submenú 03.01. Jakarta Persistence (JPA).</span></label><a class="padding" href="../index.html">03.01. Jakarta Persistence (JPA).<i class="fa-fw fas fa-check read-icon"></i></a><ul id="R-subsections-5aaca10806a740cf4d784be6e24473b9" class="collapsible-menu">
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/03orm/jpa/01jpa/index.html"><a class="padding" href="../01jpa/index.html">01. Jakarta Persistence (JPA).<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/03orm/jpa/02jpavshibernate/index.html"><a class="padding" href="../02jpavshibernate/index.html">02. JPA vs Hibernate.<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/03orm/jpa/03jpaejercicio/index.html"><a class="padding" href="../03jpaejercicio/index.html">03. Ejercicio básico de JPA.<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/03orm/jpa/04entitymanager/index.html"><a class="padding" href="../04entitymanager/index.html">04. Gestión de entidades con EntityManager.<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/03orm/jpa/05mapeoentidades/index.html"><a class="padding" href="../05mapeoentidades/index.html">05. Mapeo de entidades.<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/03orm/jpa/06relaciones/index.html"><a class="padding" href="../06relaciones/index.html">06. Relaciones JPA.<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/03orm/jpa/07embedidos/index.html"><a class="padding" href="../07embedidos/index.html">07. Objetos embebidos.<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/03orm/jpa/08colecciones/index.html"><a class="padding" href="../08colecciones/index.html">08. Mapeo de colecciones.<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/03orm/jpa/09queries/index.html"><a class="padding" href="../09queries/index.html">09. Consultas.<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/03orm/jpa/10jpql/index.html"><a class="padding" href="../10jpql/index.html">10. JPQL.<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/03orm/jpa/11paginacion/index.html"><a class="padding" href="../11paginacion/index.html">11. Paginación de consultas.<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/03orm/jpa/12herencia/index.html"><a class="padding" href="../12herencia/index.html">12. Herencia.<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="active " data-nav-id="https://manuais.pages.iessanclemente.net/03orm/jpa/14ejercicios/index.html"><a class="padding" href="index.html">Ejercicios de la unidad de JPA<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/03orm/jpa/15boletines/index.html"><a class="padding" href="../15boletines/index.html">Ejercicios de refuerzo.<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/03orm/jpa/16dependencias/index.html"><a class="padding" href="../16dependencias/index.html">Dependencias Maven.<i class="fa-fw fas fa-check read-icon"></i></a></li></ul></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/03orm/95singleton/index.html"><a class="padding" href="../../95singleton/index.html">03.02. Patrón Singleton.<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/03orm/96ejerciciosrepaso/index.html"><a class="padding" href="../../96ejerciciosrepaso/index.html">03.03. Ejercicios de refuerzo (Violín).<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/03orm/97ejerciciosrepaso2/index.html"><a class="padding" href="../../97ejerciciosrepaso2/index.html">03.04 Ejercicios de refuerzo (II)<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/03orm/98ejerciciosrepaso3/index.html"><a class="padding" href="../../98ejerciciosrepaso3/index.html">03.05 Ejercicios de refuerzo (III)<i class="fa-fw fas fa-check read-icon"></i></a></li></ul></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/04spring/index.html"><input type="checkbox" id="R-section-ffae27028787f9b794af8498ce8bc361" aria-controls="R-subsections-ffae27028787f9b794af8498ce8bc361"><label for="R-section-ffae27028787f9b794af8498ce8bc361"><i class="fa-fw fas fa-chevron-right"></i><span class="a11y-only">Submenú UD 4. Spring.</span></label><a class="padding" href="../../../04spring/index.html">UD 4. Spring.<i class="fa-fw fas fa-check read-icon"></i></a><ul id="R-subsections-ffae27028787f9b794af8498ce8bc361" class="collapsible-menu">
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/04spring/01springboot/index.html"><a class="padding" href="../../../04spring/01springboot/index.html">01. Spring Boot.<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/04spring/02springdata/index.html"><a class="padding" href="../../../04spring/02springdata/index.html">02. Spring Data JPA.<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/04spring/03practicajpadata/index.html"><a class="padding" href="../../../04spring/03practicajpadata/index.html">03. Práctica con de Spring Data JPA y REST.<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/04spring/04repositorios/index.html"><a class="padding" href="../../../04spring/04repositorios/index.html">04. Repositorios String Data.<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/04spring/05paginacion/index.html"><a class="padding" href="../../../04spring/05paginacion/index.html">05. Paginación y Ordenación usando Spring Data JPA.<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/04spring/06paginacionrest/index.html"><a class="padding" href="../../../04spring/06paginacionrest/index.html">06. Paginación y Ordenación usando Spring Data REST.<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/04spring/07vaadin/index.html"><a class="padding" href="../../../04spring/07vaadin/index.html">07. Spring Data JPA con Vaadin (práctica).<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/04spring/08ejecutores/index.html"><a class="padding" href="../../../04spring/08ejecutores/index.html">08. Ejecutores al inicio con Spring Boot<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/04spring/09serviciocompo/index.html"><a class="padding" href="../../../04spring/09serviciocompo/index.html">09. Servicios, componentes y repositorios<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/04spring/10servicios/index.html"><a class="padding" href="../../../04spring/10servicios/index.html">10. Servicios<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/04spring/11proyecto/index.html"><input type="checkbox" id="R-section-f25e02e15b94f5cb39179f26efa74bfe" aria-controls="R-subsections-f25e02e15b94f5cb39179f26efa74bfe"><label for="R-section-f25e02e15b94f5cb39179f26efa74bfe"><i class="fa-fw fas fa-chevron-right"></i><span class="a11y-only">Submenú 11. Proyecto Spring. Cuestionarios.</span></label><a class="padding" href="../../../04spring/11proyecto/index.html">11. Proyecto Spring. Cuestionarios.<i class="fa-fw fas fa-check read-icon"></i></a><ul id="R-subsections-f25e02e15b94f5cb39179f26efa74bfe" class="collapsible-menu">
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/04spring/11proyecto/01modelo/index.html"><a class="padding" href="../../../04spring/11proyecto/01modelo/index.html">01. Modelo de datos<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/04spring/11proyecto/02dto/index.html"><a class="padding" href="../../../04spring/11proyecto/02dto/index.html">02. DTO<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/04spring/11proyecto/03repositorios/index.html"><a class="padding" href="../../../04spring/11proyecto/03repositorios/index.html">03. Repositorios<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/04spring/11proyecto/04controller/index.html"><a class="padding" href="../../../04spring/11proyecto/04controller/index.html">04. Controller<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/04spring/11proyecto/05resultados/index.html"><a class="padding" href="../../../04spring/11proyecto/05resultados/index.html">05. Pruebas y mejoras<i class="fa-fw fas fa-check read-icon"></i></a></li></ul></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/04spring/12springproj/index.html"><a class="padding" href="../../../04spring/12springproj/index.html">12. Proyecto Spring. Cuestionarios.<i class="fa-fw fas fa-check read-icon"></i></a></li></ul></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/05basesdatosnonsql/index.html"><input type="checkbox" id="R-section-a0dc28a495fca757d219f1aec2ecff4c" aria-controls="R-subsections-a0dc28a495fca757d219f1aec2ecff4c"><label for="R-section-a0dc28a495fca757d219f1aec2ecff4c"><i class="fa-fw fas fa-chevron-right"></i><span class="a11y-only">Submenú UD 5. Bases de datos no SQL. MongoDB</span></label><a class="padding" href="../../../05basesdatosnonsql/index.html">UD 5. Bases de datos no SQL. MongoDB<i class="fa-fw fas fa-check read-icon"></i></a><ul id="R-subsections-a0dc28a495fca757d219f1aec2ecff4c" class="collapsible-menu">
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/05basesdatosnonsql/mongodb/01nosql/index.html"><a class="padding" href="../../../05basesdatosnonsql/mongodb/01nosql/index.html">01. Bases de datos NoSQL.<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/05basesdatosnonsql/mongodb/03springmongodb/index.html"><a class="padding" href="../../../05basesdatosnonsql/mongodb/03springmongodb/index.html">03. Conexión a MongoDB con String Data MongoDB (práctica).<i class="fa-fw fas fa-check read-icon"></i></a></li></ul></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/git/index.html"><input type="checkbox" id="R-section-8d4041f058dd2262e83830e1db38cc6d" aria-controls="R-subsections-8d4041f058dd2262e83830e1db38cc6d"><label for="R-section-8d4041f058dd2262e83830e1db38cc6d"><i class="fa-fw fas fa-chevron-right"></i><span class="a11y-only">Submenú Git</span></label><a class="padding" href="../../../git/index.html">Git<i class="fa-fw fas fa-check read-icon"></i></a><ul id="R-subsections-8d4041f058dd2262e83830e1db38cc6d" class="collapsible-menu">
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/git/1.introduccion_git/index.html"><input type="checkbox" id="R-section-a87776bdac862bf972ec945bc124b884" aria-controls="R-subsections-a87776bdac862bf972ec945bc124b884"><label for="R-section-a87776bdac862bf972ec945bc124b884"><i class="fa-fw fas fa-chevron-right"></i><span class="a11y-only">Submenú Introducción git</span></label><a class="padding" href="../../../git/1.introduccion_git/index.html">Introducción git<i class="fa-fw fas fa-check read-icon"></i></a><ul id="R-subsections-a87776bdac862bf972ec945bc124b884" class="collapsible-menu">
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/git/1.introduccion_git/1.introduccion_git/index.html"><a class="padding" href="../../../git/1.introduccion_git/1.introduccion_git/index.html">Introducción a git<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/git/1.introduccion_git/2.estados_git/index.html"><a class="padding" href="../../../git/1.introduccion_git/2.estados_git/index.html">Estados de git<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/git/1.introduccion_git/3.instalacion_git/index.html"><a class="padding" href="../../../git/1.introduccion_git/3.instalacion_git/index.html">Instalación de git<i class="fa-fw fas fa-check read-icon"></i></a></li></ul></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/git/2.fundamentos_git/index.html"><input type="checkbox" id="R-section-b63515bb4dcfe678de9ffac7a29c1e77" aria-controls="R-subsections-b63515bb4dcfe678de9ffac7a29c1e77"><label for="R-section-b63515bb4dcfe678de9ffac7a29c1e77"><i class="fa-fw fas fa-chevron-right"></i><span class="a11y-only">Submenú Fundamentos git</span></label><a class="padding" href="../../../git/2.fundamentos_git/index.html">Fundamentos git<i class="fa-fw fas fa-check read-icon"></i></a><ul id="R-subsections-b63515bb4dcfe678de9ffac7a29c1e77" class="collapsible-menu">
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/git/2.fundamentos_git/1.configuracion_git/index.html"><a class="padding" href="../../../git/2.fundamentos_git/1.configuracion_git/index.html">Configuracion de git<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/git/2.fundamentos_git/2.inicializar_repo/index.html"><a class="padding" href="../../../git/2.fundamentos_git/2.inicializar_repo/index.html">Inicializando repositorio<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/git/2.fundamentos_git/3.cambios/index.html"><a class="padding" href="../../../git/2.fundamentos_git/3.cambios/index.html">Cambios en el repositorio<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/git/2.fundamentos_git/4.ignorar_archivos/index.html"><a class="padding" href="../../../git/2.fundamentos_git/4.ignorar_archivos/index.html">Archivos Ignorados<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/git/2.fundamentos_git/5.checkout/index.html"><a class="padding" href="../../../git/2.fundamentos_git/5.checkout/index.html">Git checkout<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/git/2.fundamentos_git/6.log/index.html"><a class="padding" href="../../../git/2.fundamentos_git/6.log/index.html">Git Log<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/git/2.fundamentos_git/7.archivos_modificados/index.html"><a class="padding" href="../../../git/2.fundamentos_git/7.archivos_modificados/index.html">Archivos modificados<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/git/2.fundamentos_git/8.cambios/index.html"><a class="padding" href="../../../git/2.fundamentos_git/8.cambios/index.html">Archivos modificados<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/git/2.fundamentos_git/9.eliminar_archivos/index.html"><a class="padding" href="../../../git/2.fundamentos_git/9.eliminar_archivos/index.html">Opciones con archivos<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/git/2.fundamentos_git/10.limitar/index.html"><a class="padding" href="../../../git/2.fundamentos_git/10.limitar/index.html">Historial de confirmaciones<i class="fa-fw fas fa-check read-icon"></i></a></li></ul></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/git/3.remotos/index.html"><a class="padding" href="../../../git/3.remotos/index.html">Remotos<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/git/4.etiquetado/index.html"><a class="padding" href="../../../git/4.etiquetado/index.html">Etiquetado<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/git/5.ramas_git/index.html"><input type="checkbox" id="R-section-d8234a81ae190365829886d9d8a058a7" aria-controls="R-subsections-d8234a81ae190365829886d9d8a058a7"><label for="R-section-d8234a81ae190365829886d9d8a058a7"><i class="fa-fw fas fa-chevron-right"></i><span class="a11y-only">Submenú Ramas Git</span></label><a class="padding" href="../../../git/5.ramas_git/index.html">Ramas Git<i class="fa-fw fas fa-check read-icon"></i></a><ul id="R-subsections-d8234a81ae190365829886d9d8a058a7" class="collapsible-menu">
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/git/5.ramas_git/1.ramificaciones_git/index.html"><a class="padding" href="../../../git/5.ramas_git/1.ramificaciones_git/index.html">Ramificación<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/git/5.ramas_git/2.ramificaciones_remotas/index.html"><a class="padding" href="../../../git/5.ramas_git/2.ramificaciones_remotas/index.html">Ramas Remotas<i class="fa-fw fas fa-check read-icon"></i></a></li></ul></li>
            <li class="" data-nav-id="https://manuais.pages.iessanclemente.net/git/6.claves_ssh/index.html"><a class="padding" href="../../../git/6.claves_ssh/index.html">Claves SSH<i class="fa-fw fas fa-check read-icon"></i></a></li></ul></li>
          </ul>
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-shortcuts">
          <div class="nav-title padding">Más</div>
          <ul class="space collapsible-menu">
            <li class="" data-nav-id="https://mcshelby.github.io/hugo-theme-relearn/shortcodes/attachments/"><a class="padding" href="https://mcshelby.github.io/hugo-theme-relearn/shortcodes/attachments/" rel="external" target="_blank"><i class='fas fa-fw fa-bookmark'></i>  Cómo editar plantilla<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="https://www.iessanclemente.net/"><a class="padding" href="https://www.iessanclemente.net/" rel="external" target="_blank"><i class='fas fa-home'></i> IES Tubalcain<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="/categories"><a class="padding" href="https://manuais.pages.iessanclemente.net/plantillas/dam/ad/categories"><i class='fa-fw fas fa-layer-group'></i> Categories<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="/tags"><a class="padding" href="https://manuais.pages.iessanclemente.net/plantillas/dam/ad/tags"><i class='fa-fw fas fa-tags'></i> Tags<i class="fa-fw fas fa-check read-icon"></i></a></li>
          </ul>
        </div>
        <div id="R-footer-margin"></div>
        <div class="R-menu-divider default-animation">
          <hr class="padding">
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-footercontrols">
          <ul class="">
            <li class="R-variantswitcher">
              <div class="padding menu-control">
                <i class="fa-fw fas fa-paint-brush"></i>
                <span>&nbsp;</span>
                <div class="control-style">
                  <label class="a11y-only" for="R-select-variant">Tema</label>
                  <select id="R-select-variant">
                    <option id="R-select-variant-blue" value="blue" selected>Blue</option>
                    <option id="R-select-variant-relearn-light" value="relearn-light">Relearn Light</option>
                    <option id="R-select-variant-relearn-dark" value="relearn-dark">Relearn Dark</option>
                    <option id="R-select-variant-learn" value="learn">Learn</option>
                    <option id="R-select-variant-neon" value="neon">Neon</option>
                    <option id="R-select-variant-green" value="green">Green</option>
                    <option id="R-select-variant-red" value="red">Red</option>
                  </select>
                </div>
                <div class="clear"></div>
              </div>
              <script>window.relearn.markVariant();</script>
            </li>
            <li class="R-historyclearer">
              <div class="padding menu-control">
                <i class="fa-fw fas fa-history"></i>
                <span>&nbsp;</span>
                <div class="control-style">
                  <button>Borrar Historial</button>
                </div>
                <div class="clear"></div>
              </div>
            </li>
          </ul>
        </div>
<div id="R-footer">
<div>
    <img src="mirrors.creativecommons.org/presskit/icons/cc.png" height="30" />
    <img src="mirrors.creativecommons.org/presskit/icons/by.png"  height="30"/>
    <img src="mirrors.creativecommons.org/presskit/icons/nc-eu.png"  height="30"/>
    <img src="mirrors.creativecommons.org/presskit/icons/sa.png" height="30" />
</div>
</div>
      </div>
    </aside>
    <script src="../../../js/clipboard/clipboard.min3c2e.js?1749199978" defer></script>
    <script src="../../../js/perfect-scrollbar/perfect-scrollbar.min3c2e.js?1749199978" defer></script>
    <script src="../../../js/theme.min3c2e.js?1749199978" defer></script>
  </body>

<!-- Mirrored from manuais.pages.iessanclemente.net/plantillas/dam/ad/03orm/jpa/14ejercicios/index.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 17 Sep 2025 20:45:37 GMT -->
</html>
